{"ast":null,"code":"import axios from \"axios\";\nexport const AUTHENTICATED = \"authenticated_user\";\nexport const UNAUTHENTICATED = \"unauthenticated_user\";\nexport const AUTHENTICATION_ERROR = \"authentication_error\";\nconst URL = \"http://51.15.99.120:4700\";\nexport function signInAction({\n  email,\n  password\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"\".concat(URL, \"/login\"), {\n        email,\n        password\n      }, {\n        'Access-Control-Allow-Origin': 'http://localhost:3000'\n      });\n      dispatch({\n        type: AUTHENTICATED\n      });\n      localStorage.setItem(\"user\", res.data);\n      history.push(\"/dashboard\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/index.js"],"names":["axios","AUTHENTICATED","UNAUTHENTICATED","AUTHENTICATION_ERROR","URL","signInAction","email","password","history","dispatch","res","post","type","localStorage","setItem","data","push","error","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,aAAa,GAAG,oBAAtB;AACP,OAAO,MAAMC,eAAe,GAAG,sBAAxB;AACP,OAAO,MAAMC,oBAAoB,GAAG,sBAA7B;AAEP,MAAMC,GAAG,GAAG,0BAAZ;AAEA,OAAO,SAASC,YAAT,CAAsB;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAtB,EAA2CC,OAA3C,EAAoD;AACzD,SAAO,MAAMC,QAAN,IAAkB;AACvB,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAN,WAAcP,GAAd,aAA2B;AAAEE,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAA3B,EAAgD;AAAC,uCAA+B;AAAhC,OAAhD,CAAlB;AACAE,MAAAA,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAEX;AAAR,OAAD,CAAR;AACAY,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BJ,GAAG,CAACK,IAAjC;AACAP,MAAAA,OAAO,CAACQ,IAAR,CAAa,YAAb;AACD,KALD,CAKE,OAAOC,KAAP,EAAc;AACdR,MAAAA,QAAQ,CAAC;AACPG,QAAAA,IAAI,EAAET,oBADC;AAEPe,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAID;AACF,GAZD;AAaD","sourcesContent":["import axios from \"axios\";\nexport const AUTHENTICATED = \"authenticated_user\";\nexport const UNAUTHENTICATED = \"unauthenticated_user\";\nexport const AUTHENTICATION_ERROR = \"authentication_error\";\n\nconst URL = \"http://51.15.99.120:4700\";\n\nexport function signInAction({ email, password }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/login`, { email, password }, {'Access-Control-Allow-Origin': 'http://localhost:3000'});\n      dispatch({ type: AUTHENTICATED });\n      localStorage.setItem(\"user\", res.data);\n      history.push(\"/dashboard\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}