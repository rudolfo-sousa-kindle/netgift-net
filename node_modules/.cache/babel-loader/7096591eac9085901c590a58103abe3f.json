{"ast":null,"code":"var _jsxFileName = \"/Users/rudolfo/Documents/projects/NetGift/src/components/PresentesAdmin.js\";\nimport React, { Component } from \"react\";\nimport $ from 'jquery';\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./Loader\";\nimport { fetchGifts } from \"../actions/giftActions\";\nimport { fetchCategories, fetchSetCategories } from \"../actions/categoriesActions\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport Creatable from 'react-select/creatable';\nimport Select from 'react-select';\nimport { Field, reduxForm, change } from 'redux-form';\nimport \"select2\";\nconst blockStyle = {\n  \"display\": \"block\"\n};\n\nclass PresentesAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      current_categories: []\n    };\n\n    this.submit = item => {\n      var search = item.search;\n      var category_ids = item.categories;\n      category_ids = undefined !== category_ids && 0 !== category_ids.length ? item.categories : null;\n      this.props.dispatch(fetchGifts(search, category_ids));\n    };\n\n    this.handleChangeCategories = (newValue, actionMeta) => {\n      var last_new_option = [];\n\n      if (null !== newValue) {\n        newValue.map((current_value, index) => {\n          last_new_option.push(current_value.value);\n        });\n      }\n\n      this.props.dispatch(change(\"gift_filters\", \"categories\", last_new_option));\n    };\n  }\n\n  componentDidMount() {\n    setSelect2();\n    this.props.dispatch(fetchGifts());\n    this.props.dispatch(fetchCategories('categories', 'gift'));\n  }\n\n  getMoreGifts() {\n    this.props.dispatch(fetchGifts()).then(res => {});\n  }\n\n  render() {\n    if (undefined !== this.props.categories && 0 !== this.props.categories.length) {\n      this.state.current_categories = this.props.categories;\n    }\n\n    var categ_options = [];\n\n    if (undefined !== this.state.current_categories) {\n      this.state.current_categories.map((category, index) => {\n        var id = category.id;\n        var name = category.name;\n        categ_options.push({\n          value: id,\n          label: name\n        });\n      });\n    }\n\n    const divStyle = src => ({\n      backgroundImage: 'url(' + src + ')'\n    });\n\n    const _this$props = this.props,\n          gifts = _this$props.gifts,\n          handleSubmit = _this$props.handleSubmit;\n    const loading = gifts.loading,\n          items = gifts.items,\n          error = gifts.error;\n    console.log(items);\n    const giftsCategories = gifts.giftsCategories;\n    return React.createElement(\"div\", {\n      className: \"wrap-content novo-tema presentes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-baseline flex-space\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Presentes\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Edite, exclua ou crie novos presentes\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"gradient fullcolor novo-desk\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/dashboard/presentes/novo-presente\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Novo presente\")), React.createElement(\"button\", {\n      className: \"gradient fullcolor novo-mob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"+\")))), React.createElement(\"section\", {\n      className: \"card-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-card-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-card-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Buscar um presente\"), React.createElement(\"p\", {\n      className: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex quas cum reprehenderit fuga repellat, maiores ut minus accusantium\"))), React.createElement(\"div\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: handleSubmit(this.submit),\n      className: \"grid grid-input\",\n      name: \"theme_filter_form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"tipo-festa\",\n      className: \"label-theme\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Nome do presente \", React.createElement(\"i\", {\n      className: \"ng-info-circled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(Field, {\n      name: \"search\",\n      component: \"input\",\n      className: \"input-theme\",\n      placeholder: \"Digite o nome do presente que voc\\xEA quer busca\",\n      type: \"text\",\n      id: \"search-gift\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"presente-categ-mob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"descricao-tema\",\n      className: \"label-theme\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Categoria do presente\", React.createElement(\"i\", {\n      className: \"ng-info-circled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), \" \"), React.createElement(Field, {\n      name: \"categories\",\n      component: \"input\",\n      className: \"hiden-input-theme\",\n      type: \"hidden\",\n      id: \"categories\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(Select, {\n      isMulti: true,\n      onChange: this.handleChangeCategories,\n      options: categ_options,\n      className: \"selecione\",\n      closeMenuOnSelect: false,\n      placeholder: \"Selecione\",\n      noOptionsMessage: () => {\n        return \"Categoria não encontrada.\";\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"gradient fullcolor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Buscar presente\"))))), loading ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }) : error ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Erro no servidor\") : items.map(itens => {\n      return React.createElement(\"div\", {\n        className: \"cards-gift flex flex-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, items.map(item => {\n        return React.createElement(\"div\", {\n          key: item.id,\n          className: \"card-gift  flex flex-column flex-space\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-gift-thumb\",\n          style: divStyle(item.url),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"flex flex-column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-gift-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, item.name), React.createElement(\"div\", {\n          className: \"card-gift-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, \"R$\", \"\".concat(item.price).replace(\".\", \",\")), React.createElement(\"div\", {\n          className: \"card-gift-desc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, item.description.substring(0, 100))), React.createElement(\"div\", {\n          className: \"flex flex-space\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: {\n            pathname: \"/dashboard/presentes/editar-presente/\".concat(item.id)\n          },\n          className: \"gradient fullcolor edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, \"Editar item\"), React.createElement(\"button\", {\n          className: \"gradient border bgwhite\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, \"Excluir\")))));\n      }));\n    }), React.createElement(\"div\", {\n      className: \"cards-gift flex flex-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.getMoreGifts(),\n      class: \"btn-large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Ver Mais\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  gifts: state.gifts,\n  categories: state.themeCategories.categories\n});\n\nconst reduxFormFilters = reduxForm({\n  form: 'gift_filters'\n})(PresentesAdmin);\nexport default connect(mapStateToProps)(reduxFormFilters);","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/components/PresentesAdmin.js"],"names":["React","Component","$","Link","connect","Loader","fetchGifts","fetchCategories","fetchSetCategories","setSelect2","Creatable","Select","Field","reduxForm","change","blockStyle","PresentesAdmin","state","current_categories","submit","item","search","category_ids","categories","undefined","length","props","dispatch","handleChangeCategories","newValue","actionMeta","last_new_option","map","current_value","index","push","value","componentDidMount","getMoreGifts","then","res","render","categ_options","category","id","name","label","divStyle","src","backgroundImage","gifts","handleSubmit","loading","items","error","console","log","giftsCategories","itens","url","price","replace","description","substring","pathname","mapStateToProps","themeCategories","reduxFormFilters","form"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport $ from 'jquery';\nimport {Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./Loader\";\nimport { fetchGifts } from \"../actions/giftActions\";\nimport { fetchCategories, fetchSetCategories } from \"../actions/categoriesActions\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport Creatable from 'react-select/creatable';\nimport Select from 'react-select';\nimport {Field, reduxForm, change} from 'redux-form';\nimport \"select2\";\n\nconst blockStyle = {\n  \"display\": \"block\"\n}\n\nclass PresentesAdmin extends Component {\n\n  componentDidMount(){\n    setSelect2();\n    this.props.dispatch( fetchGifts() );\n    this.props.dispatch( fetchCategories( 'categories', 'gift' ) );\n  }\n\n  state = {\n    current_categories: [],\n  };\n\n  getMoreGifts(){\n    \n    this.props.dispatch(fetchGifts())\n    .then((res) => {\n      \n    });\n  }\n\n  submit = ( item ) => {\n    var search       = item.search;\n    var category_ids = item.categories;\n    category_ids     = undefined !== category_ids && 0 !== category_ids.length ? item.categories : null;\n    \n    this.props.dispatch( fetchGifts( search, category_ids ) );\n  }\n\n  handleChangeCategories = (newValue: any, actionMeta: any ) => {\n    var last_new_option = [];\n\n    if ( null !== newValue ) {\n      newValue.map( ( current_value, index ) => {\n        last_new_option.push( current_value.value );\n      });\n    }\n\n    this.props.dispatch( change( \"gift_filters\", \"categories\", last_new_option ) ); \n  }\n\n  render() {\n    if ( undefined !== this.props.categories && 0 !== this.props.categories.length ) {\n        this.state.current_categories = this.props.categories;\n    }\n\n    var categ_options = [];\n\n    if ( undefined !== this.state.current_categories ) {\n        this.state.current_categories.map( ( category, index ) => {\n            var id = category.id;\n            var name = category.name;\n            categ_options.push( { value: id, label : name } );\n        })\n    }\n\n    const divStyle = (src) => ({\n      backgroundImage: 'url(' + src + ')'\n    })\n    const{ gifts, handleSubmit } = this.props;\n    const {loading, items, error} = gifts;\n    console.log(items)\n    const {giftsCategories} = gifts;\n    return (\n      <div className=\"wrap-content novo-tema presentes\">\n\n          <div className=\"content-title\">\n              <div className=\"flex flex-baseline flex-space\">\n                  <div>\n                      <h1>Presentes</h1>\n                      <h2>Edite, exclua ou crie novos presentes</h2>\n                  </div>\n\n                  <div>\n                      <button className=\"gradient fullcolor novo-desk\">\n                        <Link to=\"/dashboard/presentes/novo-presente\">\n                          Novo presente\n                        </Link>\n                      </button>\n                      <button className=\"gradient fullcolor novo-mob\">+</button>\n                  </div>\n              </div>\n          </div>\n\n          <section className=\"card-options\">\n              <div>\n\n                <div className=\"content-card-options\">\n                  <div className=\"header-card-options\">\n                      <h2 className=\"title\">Buscar um presente</h2>\n                      <p className=\"subtitle\">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex quas cum reprehenderit fuga repellat, maiores ut minus accusantium</p>\n                  </div>\n                </div>\n\n                <div className=\"line\"></div>\n\n                <div className=\"main-options\">\n\n                  <form onSubmit={handleSubmit( this.submit )} className=\"grid grid-input\" name=\"theme_filter_form\">\n                    <div>\n                        <label htmlFor=\"tipo-festa\" className=\"label-theme\">Nome do presente <i className=\"ng-info-circled\"></i></label>\n                        <Field\n                          name={\"search\"}\n                          component=\"input\"\n                          className={\"input-theme\"}\n                          placeholder=\"Digite o nome do presente que você quer busca\"\n                          type=\"text\"\n                          id=\"search-gift\"\n                          />\n                    </div>\n\n                    <div className=\"presente-categ-mob\">\n                        <label htmlFor=\"descricao-tema\" className=\"label-theme\">Categoria do presente<i className=\"ng-info-circled\"></i> </label>\n                        <Field\n                          name={\"categories\"}\n                          component=\"input\"\n                          className={\"hiden-input-theme\"}\n                          type=\"hidden\"\n                          id=\"categories\"\n                          />\n                        <Select\n                          isMulti\n                          onChange={this.handleChangeCategories}\n                          options={categ_options}\n                          className=\"selecione\"\n                          closeMenuOnSelect={false}\n                          placeholder=\"Selecione\"\n                          noOptionsMessage={() => { return \"Categoria não encontrada.\" }}\n                        />\n\n                    </div>\n                    <button className=\"gradient fullcolor\">Buscar presente</button>\n\n                  </form>\n\n                </div>\n\n              </div>\n          </section>\n\n            {\n              loading ? <Loader /> :\n              error ? <p>Erro no servidor</p> :\n              items.map((itens) => {\n                return(\n                  <div className=\"cards-gift flex flex-wrap\">\n                    {items.map((item) => {\n                      return(\n                        <div key={item.id} className=\"card-gift  flex flex-column flex-space\">\n                          <div className=\"card-gift-thumb\" style={divStyle(item.url)}></div>\n                            <div className=\"flex flex-column\">\n                              <div className=\"card-gift-name\">{item.name}</div>\n                              <div className=\"card-gift-price\">R${`${item.price}`.replace(\".\", \",\")}</div>\n                              <div className=\"card-gift-desc\">{item.description.substring(0,100)}</div>\n                          </div>\n                          <div className=\"flex flex-space\">\n                            <div className=\"buttons\">\n                                <Link to={{\n                                  pathname: `/dashboard/presentes/editar-presente/${item.id}`,\n                                }} className=\"gradient fullcolor edit\">Editar item</Link>\n                                <button className=\"gradient border bgwhite\"><span>Excluir</span></button>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    })}\n                  </div>\n                )\n              })\n            }\n\n          <div className=\"cards-gift flex flex-wrap\">\n\n            {/* {\n              loading ? <Loader /> :\n              error ? <p>Erro no servidor</p> :\n              items.map((item) => {\n                return (\n                  <div key={item.id} className=\"card-gift  flex flex-column flex-space\">\n                    <div className=\"card-gift-thumb\" style={divStyle(item.url)}></div>\n                      <div className=\"flex flex-column\">\n                        <div className=\"card-gift-name\">{item.name}</div>\n                        <div className=\"card-gift-price\">R${`${item.price}`.replace(\".\", \",\")}</div>\n                        <div className=\"card-gift-desc\">{item.description.substring(0,100)}</div>\n                    </div>\n                    <div className=\"flex flex-space\">\n                      <div className=\"buttons\">\n                          <Link to={{\n                            pathname: `/dashboard/presentes/editar-presente/${item.id}`,\n                          }} className=\"gradient fullcolor edit\">Editar item</Link>\n                          <button className=\"gradient border bgwhite\"><span>Excluir</span></button>\n                      </div>\n                    </div>\n                  </div>\n                )\n              })\n            } */}\n          </div>\n            <button onClick={() => this.getMoreGifts()} class=\"btn-large\">Ver Mais</button>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  gifts: state.gifts,\n  categories: state.themeCategories.categories,\n})\n\nconst reduxFormFilters = reduxForm({form: 'gift_filters'})(PresentesAdmin);\n\nexport default connect(mapStateToProps)(reduxFormFilters);\n"]},"metadata":{},"sourceType":"module"}