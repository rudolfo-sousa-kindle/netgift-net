{"ast":null,"code":"var _jsxFileName = \"/Users/rudolfo/Documents/projects/NetGift/src/components/PDFGen.js\";\nimport React, { Component } from 'react';\n\nclass HtmlToPdf extends Component {\n  convertHtmlToPdf(e) {\n    var total_confirmado = 0;\n    var total_receita = 0;\n    var total_retido = 0;\n    var HTML = '<table><thead><tr style=\"border-top: 1px solid #000;\"><th>Confirmado</th></tr></thead><tr style=\"border-top: 1px solid #000;\"><td>Data</td><td>Código</td><td>Descrição</td><td>Valor</td></tr>';\n    HTML += this.props.confirmado.length !== 0 && 0 !== Object.keys(this.props.confirmado).length ? this.props.confirmado.map(item => {\n      total_confirmado += item.value;\n      return '<tr style=\"border-top: 1px solid #000;\"><td></td><td>' + item.zoop_id + '</td><td>' + item.description + '</td><td>' + item.value.toLocaleString(\"pt-BR\", {\n        style: \"currency\",\n        currency: \"BRL\"\n      }) + '</td></tr>';\n    }) : '';\n    HTML += '<tr style=\"border-top: 1px solid #000;\"><td><p>Saldo do período</p><p>' + total_confirmado.toLocaleString(\"pt-BR\", {\n      style: \"currency\",\n      currency: \"BRL\"\n    }) + '</p></td></tr></table><br><hr><br><table><thead><tr style=\"border-top: 1px solid #000;\"><th>Receita</th></tr></thead><tr style=\"border-top: 1px solid #000;\"><td>Data</td><td>Código</td><td>Descrição</td><td>Valor</td></tr>';\n    HTML += this.props.receita.length !== 0 && 0 !== Object.keys(this.props.receita).length ? this.props.receita.map(item => {\n      total_receita += item.value;\n      return '<tr style=\"border-top: 1px solid #000;\"><td></td><td>' + item.zoop_id + '</td><td>' + item.description + '</td><td>-' + item.value.toLocaleString(\"pt-BR\", {\n        style: \"currency\",\n        currency: \"BRL\"\n      }) + '</td></tr>';\n    }) : '';\n    HTML += '<tr style=\"border-top: 1px solid #000;\"><td><p>Receita do período</p><p>' + total_receita.toLocaleString(\"pt-BR\", {\n      style: \"currency\",\n      currency: \"BRL\"\n    }) + '</p></td></tr></table><br><hr><br><table><thead><tr style=\"border-top: 1px solid #000;\"><th>Retido</th></tr></thead><tr style=\"border-top: 1px solid #000;\"><td>Data</td><td>Código</td><td>Descrição</td><td>Valor</td></tr>';\n    HTML += this.props.retido.length !== 0 && 0 !== Object.keys(this.props.retido).length ? this.props.retido.map(item => {\n      total_retido += item.value;\n      return '<tr style=\"border-top: 1px solid #000;\"><td></td><td>' + item.zoop_id + '</td><td>' + item.description + '</td><td>' + item.value.toLocaleString(\"pt-BR\", {\n        style: \"currency\",\n        currency: \"BRL\"\n      }) + '</td></tr>';\n    }) : '';\n    HTML += '<tr style=\"border-top: 1px solid #000;\"><td><p>Retido do período</p><p>' + total_retido.toLocaleString(\"pt-BR\", {\n      style: \"currency\",\n      currency: \"BRL\"\n    }) + '</p></td></tr></table><br><hr><br>';\n    fetch(\"https://v2018.api2pdf.com/wkhtmltopdf/html\", {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': '169907da-c49b-4406-a1fd-4495575d807c' //Get your API key from https://portal.api2pdf.com\n\n      },\n      body: JSON.stringify({\n        \"html\": HTML,\n        \"inlinePdf\": true,\n        \"fileName\": \"Resumo-financeiro.pdf\",\n        \"options\": {\n          \"orientation\": \"landscape\",\n          \"pageSize\": \"A4\"\n        }\n      })\n    }).then(res => res.json()).then(res => {\n      console.log(res.pdf);\n      window.open(res.pdf, '_blank');\n    });\n  }\n\n  render() {\n    return React.createElement(\"a\", {\n      onClick: this.convertHtmlToPdf.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Exportar extrato financeiro (PDF)\");\n  }\n\n}\n\nexport default HtmlToPdf;","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/components/PDFGen.js"],"names":["React","Component","HtmlToPdf","convertHtmlToPdf","e","total_confirmado","total_receita","total_retido","HTML","props","confirmado","length","Object","keys","map","item","value","zoop_id","description","toLocaleString","style","currency","receita","retido","fetch","method","headers","body","JSON","stringify","then","res","json","console","log","pdf","window","open","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nclass HtmlToPdf extends Component {\n  convertHtmlToPdf(e) {\n    var total_confirmado = 0;\n    var total_receita    = 0;\n    var total_retido     = 0;\n    var HTML = '<table><thead><tr style=\"border-top: 1px solid #000;\"><th>Confirmado</th></tr></thead><tr style=\"border-top: 1px solid #000;\"><td>Data</td><td>Código</td><td>Descrição</td><td>Valor</td></tr>';\n      HTML += this.props.confirmado.length !== 0 && 0 !== Object.keys( this.props.confirmado ).length ? \n      this.props.confirmado.map((item) => {\n          total_confirmado += item.value;\n\n        return( '<tr style=\"border-top: 1px solid #000;\"><td></td><td>' + item.zoop_id + '</td><td>' + item.description + '</td><td>' + item.value.toLocaleString(\"pt-BR\", {style: \"currency\", currency: \"BRL\"})+ '</td></tr>' );\n      })\n      : '';\n\n      HTML += '<tr style=\"border-top: 1px solid #000;\"><td><p>Saldo do período</p><p>' + total_confirmado.toLocaleString(\"pt-BR\", {style: \"currency\", currency: \"BRL\"}) + '</p></td></tr></table><br><hr><br><table><thead><tr style=\"border-top: 1px solid #000;\"><th>Receita</th></tr></thead><tr style=\"border-top: 1px solid #000;\"><td>Data</td><td>Código</td><td>Descrição</td><td>Valor</td></tr>';\n      HTML += this.props.receita.length !== 0 && 0 !== Object.keys( this.props.receita ).length ? \n      this.props.receita.map((item) => {\n          total_receita += item.value;\n          return (\n              '<tr style=\"border-top: 1px solid #000;\"><td></td><td>' + item.zoop_id + '</td><td>' + item.description + '</td><td>-' + item.value.toLocaleString(\"pt-BR\", {style: \"currency\", currency: \"BRL\"})+ '</td></tr>'\n          );\n      })\n      : '';\n      HTML += '<tr style=\"border-top: 1px solid #000;\"><td><p>Receita do período</p><p>' + total_receita.toLocaleString(\"pt-BR\", {style: \"currency\", currency: \"BRL\"}) + '</p></td></tr></table><br><hr><br><table><thead><tr style=\"border-top: 1px solid #000;\"><th>Retido</th></tr></thead><tr style=\"border-top: 1px solid #000;\"><td>Data</td><td>Código</td><td>Descrição</td><td>Valor</td></tr>';\n      HTML += this.props.retido.length !== 0 && 0 !== Object.keys( this.props.retido ).length ? \n          this.props.retido.map((item) => {\n              total_retido += item.value;\n              return (\n                  '<tr style=\"border-top: 1px solid #000;\"><td></td><td>' + item.zoop_id + '</td><td>' + item.description + '</td><td>' + item.value.toLocaleString(\"pt-BR\", {style: \"currency\", currency: \"BRL\"})+ '</td></tr>'\n              )\n          })\n          : '';\n      HTML += '<tr style=\"border-top: 1px solid #000;\"><td><p>Retido do período</p><p>' + total_retido.toLocaleString(\"pt-BR\", {style: \"currency\", currency: \"BRL\"}) + '</p></td></tr></table><br><hr><br>';  \n\n    fetch(\"https://v2018.api2pdf.com/wkhtmltopdf/html\", {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': '169907da-c49b-4406-a1fd-4495575d807c' //Get your API key from https://portal.api2pdf.com\n      },\n      body: JSON.stringify( {\n        \"html\": HTML,\n        \"inlinePdf\": true,\n        \"fileName\": \"Resumo-financeiro.pdf\",\n        \"options\": {\n          \"orientation\": \"landscape\",\n          \"pageSize\": \"A4\"\n        }\n      } )\n      \n    }).then(res=>res.json())\n      .then(( res ) => {\n        console.log(res.pdf)\n        window.open( res.pdf, '_blank' );\n      });\n  }\n  render() {\n    return (\n      <a onClick={this.convertHtmlToPdf.bind(this)}>Exportar extrato financeiro (PDF)</a>\n    );\n  }\n}\n\nexport default HtmlToPdf;"]},"metadata":{},"sourceType":"module"}