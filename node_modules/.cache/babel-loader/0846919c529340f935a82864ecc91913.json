{"ast":null,"code":"import axios from \"axios\";\nconst URL = \"http://51.15.99.120:4700\";\nconst config = {\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Headers\": \"*\"\n  }\n};\nexport const SET_NOTIFICACAO = 'SET_NOTIFICACAO';\nexport const SET_NOTIFICACAO_BEGIN = 'SET_NOTIFICACAO_BEGIN';\nexport const SET_NOTIFICACAO_SUCCESS = 'SET_NOTIFICACAO_SUCCESS';\nexport const setNotificacao = id => ({\n  type: SET_NOTIFICACAO,\n  payload: {\n    id\n  }\n});\nexport const setNotificacaoBegin = () => ({\n  type: SET_NOTIFICACAO_BEGIN\n});\nexport const setNotificacaoSuccess = () => ({\n  type: SET_NOTIFICACAO_SUCCESS\n});\nexport function setIdNotified(id) {\n  return dispatch => {\n    dispatch(setNotificacao(id));\n  };\n}\nexport function notificarUsuario({\n  id: id,\n  msg: msg,\n  suspense: suspense\n}) {\n  return async dispatch => {\n    dispatch(setNotificacaoBegin());\n\n    if (suspense) {\n      await axios.post(\"\".concat(URL, \"/events/suspended/\") + id, {\n        \"msg\": msg\n      }, config).then(res => {\n        axios.post(\"\".concat(URL, \"/events/notify/\") + id, {\n          \"msg\": msg\n        }, config).then(res => {\n          dispatch(setNotificacaoSuccess());\n        });\n      });\n    } else {\n      await axios.post(\"\".concat(URL, \"/events/notify/\") + id, {\n        \"msg\": msg\n      }, config).then(res => {\n        dispatch(setNotificacaoSuccess());\n      });\n    }\n  };\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/notificarActions.js"],"names":["axios","URL","config","headers","SET_NOTIFICACAO","SET_NOTIFICACAO_BEGIN","SET_NOTIFICACAO_SUCCESS","setNotificacao","id","type","payload","setNotificacaoBegin","setNotificacaoSuccess","setIdNotified","dispatch","notificarUsuario","msg","suspense","post","then","res"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAK,0BAAd;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE;AAAC,mCAA+B,GAAhC;AAAqC,oCAAgC;AAArE;AADI,CAAf;AAMA,OAAO,MAAMC,eAAe,GAAG,iBAAxB;AACP,OAAO,MAAMC,qBAAqB,GAAG,uBAA9B;AACP,OAAO,MAAMC,uBAAuB,GAAG,yBAAhC;AAEP,OAAO,MAAMC,cAAc,GAAGC,EAAE,KAAK;AACjCC,EAAAA,IAAI,EAAEL,eAD2B;AAEjCM,EAAAA,OAAO,EAAE;AAAEF,IAAAA;AAAF;AAFwB,CAAL,CAAzB;AAKP,OAAO,MAAMG,mBAAmB,GAAG,OAAO;AACtCF,EAAAA,IAAI,EAAEJ;AADgC,CAAP,CAA5B;AAIP,OAAO,MAAMO,qBAAqB,GAAG,OAAO;AACxCH,EAAAA,IAAI,EAAEH;AADkC,CAAP,CAA9B;AAIP,OAAO,SAASO,aAAT,CAAuBL,EAAvB,EAA0B;AAC7B,SAAOM,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACP,cAAc,CAACC,EAAD,CAAf,CAAR;AACH,GAFD;AAGH;AAED,OAAO,SAASO,gBAAT,CAA0B;AAACP,EAAAA,EAAE,EAAEA,EAAL;AAASQ,EAAAA,GAAG,EAAEA,GAAd;AAAmBC,EAAAA,QAAQ,EAAEA;AAA7B,CAA1B,EAAiE;AACpE,SAAO,MAAMH,QAAN,IAAkB;AACrBA,IAAAA,QAAQ,CAACH,mBAAmB,EAApB,CAAR;;AACA,QAAGM,QAAH,EAAY;AACR,YAAMjB,KAAK,CAACkB,IAAN,CAAW,UAAGjB,GAAH,0BAA6BO,EAAxC,EAA4C;AAAC,eAAOQ;AAAR,OAA5C,EAA0Dd,MAA1D,EACLiB,IADK,CACCC,GAAD,IAAS;AACXpB,QAAAA,KAAK,CAACkB,IAAN,CAAW,UAAGjB,GAAH,uBAA0BO,EAArC,EAAyC;AAAC,iBAAOQ;AAAR,SAAzC,EAAuDd,MAAvD,EACCiB,IADD,CACOC,GAAD,IAAS;AACXN,UAAAA,QAAQ,CAACF,qBAAqB,EAAtB,CAAR;AACH,SAHD;AAIH,OANK,CAAN;AAOH,KARD,MAQK;AACD,YAAMZ,KAAK,CAACkB,IAAN,CAAW,UAAGjB,GAAH,uBAA0BO,EAArC,EAAyC;AAAC,eAAOQ;AAAR,OAAzC,EAAuDd,MAAvD,EACLiB,IADK,CACCC,GAAD,IAAS;AACXN,QAAAA,QAAQ,CAACF,qBAAqB,EAAtB,CAAR;AACH,OAHK,CAAN;AAIH;AACJ,GAhBD;AAiBH","sourcesContent":["import axios from \"axios\";\n\nconst URL   = \"http://51.15.99.120:4700\";\n\nconst config = {\n  headers: {\"Access-Control-Allow-Origin\": \"*\", \"Access-Control-Allow-Headers\": \"*\"},\n}\n\n\n\nexport const SET_NOTIFICACAO = 'SET_NOTIFICACAO';\nexport const SET_NOTIFICACAO_BEGIN = 'SET_NOTIFICACAO_BEGIN';\nexport const SET_NOTIFICACAO_SUCCESS = 'SET_NOTIFICACAO_SUCCESS';\n\nexport const setNotificacao = id => ({\n    type: SET_NOTIFICACAO,\n    payload: { id }\n  });\n\nexport const setNotificacaoBegin = () => ({\n    type: SET_NOTIFICACAO_BEGIN\n})\n\nexport const setNotificacaoSuccess = () => ({\n    type: SET_NOTIFICACAO_SUCCESS\n})\n\nexport function setIdNotified(id){\n    return dispatch => {\n        dispatch(setNotificacao(id));\n    } \n}\n\nexport function notificarUsuario({id: id, msg: msg, suspense: suspense}){\n    return async dispatch => {\n        dispatch(setNotificacaoBegin());\n        if(suspense){\n            await axios.post(`${URL}/events/suspended/` + id, {\"msg\": msg}, config)\n            .then((res) => {\n                axios.post(`${URL}/events/notify/` + id, {\"msg\": msg}, config)\n                .then((res) => {\n                    dispatch(setNotificacaoSuccess())\n                })\n            })\n        }else{\n            await axios.post(`${URL}/events/notify/` + id, {\"msg\": msg}, config)\n            .then((res) => {\n                dispatch(setNotificacaoSuccess())\n            })\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}