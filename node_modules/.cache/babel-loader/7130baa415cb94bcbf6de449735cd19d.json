{"ast":null,"code":"var _jsxFileName = \"/Users/rudolfo/Documents/projects/NetGift/src/components/PresentesAdmin.js\";\nimport React, { Component } from \"react\";\nimport $ from 'jquery';\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./Loader\";\nimport { fetchGifts, editGift } from \"../actions/giftActions\";\nimport { fetchCategories, fetchSetCategories } from \"../actions/categoriesActions\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport Creatable from 'react-select/creatable';\nimport Select from 'react-select';\nimport { Field, reduxForm, change } from 'redux-form';\nimport \"select2\";\nconst blockStyle = {\n  \"display\": \"block\"\n};\n\nclass PresentesAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      current_categories: [],\n      page: 2\n    };\n\n    this.submit = item => {\n      var search = item.search;\n      var category_ids = item.categories;\n      category_ids = undefined !== category_ids && 0 !== category_ids.length ? item.categories : null;\n      this.props.dispatch(fetchGifts(search, category_ids));\n      this.setState({\n        page: 2\n      });\n    };\n\n    this.handleChangeCategories = (newValue, actionMeta) => {\n      var last_new_option = [];\n\n      if (null !== newValue) {\n        newValue.map((current_value, index) => {\n          last_new_option.push(current_value.value);\n        });\n      }\n\n      this.props.dispatch(change(\"gift_filters\", \"categories\", last_new_option));\n    };\n  }\n\n  componentDidMount() {\n    setSelect2();\n    this.props.dispatch(fetchGifts(null, null, 1));\n    this.props.dispatch(fetchCategories('categories', 'gift'));\n    this.setState({\n      page: 2\n    });\n  }\n\n  getMoreGifts(item) {\n    var cat = '' === $('#categories').val() ? null : $('#categories').val().split(',');\n    var search = $('#search-gift').val();\n    search = '' === search ? null : search;\n    this.props.dispatch(fetchGifts(search, cat, this.state.page)).then(res => {\n      this.setState({\n        page: this.state.page + 1\n      });\n    });\n  }\n\n  delete(id) {\n    var del = window.confirm(\"Tem certeza?\");\n\n    if (del) {\n      this.props.dispatch(editGift(null, this.props.history, id, \"delete\"));\n    } else {}\n  }\n\n  render() {\n    if (undefined !== this.props.categories && 0 !== this.props.categories.length) {\n      this.state.current_categories = this.props.categories;\n    }\n\n    var categ_options = [];\n\n    if (undefined !== this.state.current_categories) {\n      this.state.current_categories.map((category, index) => {\n        var id = category.id;\n        var name = category.name;\n        categ_options.push({\n          value: id,\n          label: name\n        });\n      });\n    }\n\n    const divStyle = src => ({\n      backgroundImage: 'url(' + src + ')'\n    });\n\n    const _this$props = this.props,\n          gifts = _this$props.gifts,\n          handleSubmit = _this$props.handleSubmit;\n    const loading = gifts.loading,\n          error = gifts.error,\n          loadingNext = gifts.loadingNext;\n    var items = gifts.items;\n    const giftsCategories = gifts.giftsCategories;\n    return React.createElement(\"div\", {\n      className: \"wrap-content novo-tema presentes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-baseline flex-space\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Presentes\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Edite, exclua ou crie novos presentes\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"gradient fullcolor novo-desk\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/dashboard/presentes/novo-presente\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Novo presente\")), React.createElement(\"button\", {\n      className: \"gradient fullcolor novo-mob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"+\")))), React.createElement(\"section\", {\n      className: \"card-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-card-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-card-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Buscar um presente\"), React.createElement(\"p\", {\n      className: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex quas cum reprehenderit fuga repellat, maiores ut minus accusantium\"))), React.createElement(\"div\", {\n      className: \"line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: handleSubmit(this.submit),\n      className: \"grid grid-input\",\n      name: \"theme_filter_form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"tipo-festa\",\n      className: \"label-theme\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Nome do presente \", React.createElement(\"i\", {\n      className: \"ng-info-circled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(Field, {\n      name: \"search\",\n      component: \"input\",\n      className: \"input-theme\",\n      placeholder: \"Digite o nome do presente que voc\\xEA quer busca\",\n      type: \"text\",\n      id: \"search-gift\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"presente-categ-mob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"descricao-tema\",\n      className: \"label-theme\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Categoria do presente\", React.createElement(\"i\", {\n      className: \"ng-info-circled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), \" \"), React.createElement(Field, {\n      name: \"categories\",\n      component: \"input\",\n      className: \"hiden-input-theme\",\n      type: \"hidden\",\n      id: \"categories\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(Select, {\n      isMulti: true,\n      onChange: this.handleChangeCategories,\n      options: categ_options,\n      className: \"selecione\",\n      closeMenuOnSelect: false,\n      placeholder: \"Selecione\",\n      noOptionsMessage: () => {\n        return \"Categoria não encontrada.\";\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"gradient fullcolor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Buscar presente\"))))), React.createElement(\"div\", {\n      className: \"cards-gift flex flex-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, loading ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }) : error ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Erro no servidor\") : items.map((itens, i) => {\n      if (itens.length > 0 && this.state.page === 2) {\n        return itens.map((item, j) => {\n          return React.createElement(\"div\", {\n            key: j,\n            className: \"card-gift  flex flex-column flex-space\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card-gift-thumb\",\n            style: divStyle(item.url),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"flex flex-column\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card-gift-name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          }, item.name), React.createElement(\"div\", {\n            className: \"card-gift-price\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 190\n            },\n            __self: this\n          }, \"R$\", \"\".concat(item.price).replace(\".\", \",\")), React.createElement(\"div\", {\n            className: \"card-gift-desc\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }, item.description.substring(0, 100))), React.createElement(\"div\", {\n            className: \"flex flex-space\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"buttons\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: {\n              pathname: \"/dashboard/presentes/editar-presente/\".concat(item.id)\n            },\n            className: \"gradient fullcolor edit\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          }, \"Editar item\"), React.createElement(\"button\", {\n            className: \"gradient border bgwhite\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }, \"Excluir\")))));\n        });\n      } else {\n        return React.createElement(\"div\", {\n          key: i,\n          className: \"card-gift  flex flex-column flex-space\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-gift-thumb\",\n          style: divStyle(itens.url),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"flex flex-column\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-gift-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, itens.name), React.createElement(\"div\", {\n          className: \"card-gift-price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, \"R$\", \"\".concat(itens.price).replace(\".\", \",\")), React.createElement(\"div\", {\n          className: \"card-gift-desc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, itens.description.substring(0, 100))), React.createElement(\"div\", {\n          className: \"flex flex-space\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: {\n            pathname: \"/dashboard/presentes/editar-presente/\".concat(itens.id)\n          },\n          className: \"gradient fullcolor edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \"Editar item\"), React.createElement(\"button\", {\n          onClick: () => this.delete(itens.id),\n          className: \"gradient border bgwhite\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, \"Excluir\")))));\n      }\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }), loadingNext ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }) : \"\"), React.createElement(\"button\", {\n      onClick: () => this.getMoreGifts(),\n      className: \"btn-large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"Ver Mais\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  gifts: state.gifts,\n  categories: state.themeCategories.categories\n});\n\nconst reduxFormFilters = reduxForm({\n  form: 'gift_filters'\n})(PresentesAdmin);\nexport default connect(mapStateToProps)(reduxFormFilters);","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/components/PresentesAdmin.js"],"names":["React","Component","$","Link","connect","Loader","fetchGifts","editGift","fetchCategories","fetchSetCategories","setSelect2","Creatable","Select","Field","reduxForm","change","blockStyle","PresentesAdmin","state","current_categories","page","submit","item","search","category_ids","categories","undefined","length","props","dispatch","setState","handleChangeCategories","newValue","actionMeta","last_new_option","map","current_value","index","push","value","componentDidMount","getMoreGifts","cat","val","split","then","res","delete","id","del","window","confirm","history","render","categ_options","category","name","label","divStyle","src","backgroundImage","gifts","handleSubmit","loading","error","loadingNext","items","giftsCategories","itens","i","j","url","price","replace","description","substring","pathname","mapStateToProps","themeCategories","reduxFormFilters","form"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport $ from 'jquery';\nimport {Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./Loader\";\nimport { fetchGifts, editGift } from \"../actions/giftActions\";\nimport { fetchCategories, fetchSetCategories } from \"../actions/categoriesActions\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport Creatable from 'react-select/creatable';\nimport Select from 'react-select';\nimport {Field, reduxForm, change} from 'redux-form';\nimport \"select2\";\n\nconst blockStyle = {\n  \"display\": \"block\"\n}\n\nclass PresentesAdmin extends Component {\n\n  componentDidMount(){\n    setSelect2();\n    this.props.dispatch( fetchGifts(null, null, 1) );\n    this.props.dispatch( fetchCategories( 'categories', 'gift' ) );\n    this.setState({\n      page: 2\n    })\n  }\n\n  state = {\n    current_categories: [],\n    page: 2\n  };\n\n  getMoreGifts( item ){\n    var cat = '' === $( '#categories' ).val() ? null : $( '#categories' ).val().split( ',' );\n    var search = $( '#search-gift' ).val();\n    search = '' === search ? null : search;\n    this.props.dispatch(fetchGifts(search, cat, this.state.page))\n    .then((res) => {\n      this.setState({\n        page: this.state.page + 1\n      })\n    });\n  }\n\n  delete(id){\n    var del = window.confirm(\"Tem certeza?\");\n    if(del){\n      this.props.dispatch(editGift(null, this.props.history, id, \"delete\"));\n    }else{\n\n    }\n  }\n\n  submit = ( item ) => {\n    var search       = item.search;\n    var category_ids = item.categories;\n    category_ids     = undefined !== category_ids && 0 !== category_ids.length ? item.categories : null;\n    \n    this.props.dispatch( fetchGifts( search, category_ids ) );\n    this.setState({\n      page: 2\n    })\n  }\n\n  handleChangeCategories = (newValue: any, actionMeta: any ) => {\n    var last_new_option = [];\n\n    if ( null !== newValue ) {\n      newValue.map( ( current_value, index ) => {\n        last_new_option.push( current_value.value );\n      });\n    }\n\n    this.props.dispatch( change( \"gift_filters\", \"categories\", last_new_option ) ); \n  }\n\n  render() {\n    if ( undefined !== this.props.categories && 0 !== this.props.categories.length ) {\n        this.state.current_categories = this.props.categories;\n    }\n\n    var categ_options = [];\n\n    if ( undefined !== this.state.current_categories ) {\n        this.state.current_categories.map( ( category, index ) => {\n            var id = category.id;\n            var name = category.name;\n            categ_options.push( { value: id, label : name } );\n        })\n    }\n\n    const divStyle = (src) => ({\n      backgroundImage: 'url(' + src + ')'\n    })\n    const{ gifts, handleSubmit } = this.props;\n    const {loading, error, loadingNext} = gifts;\n    var { items } = gifts;\n    const {giftsCategories} = gifts;\n    return (\n      <div className=\"wrap-content novo-tema presentes\">\n\n          <div className=\"content-title\">\n              <div className=\"flex flex-baseline flex-space\">\n                  <div>\n                      <h1>Presentes</h1>\n                      <h2>Edite, exclua ou crie novos presentes</h2>\n                  </div>\n\n                  <div>\n                      <button className=\"gradient fullcolor novo-desk\">\n                        <Link to=\"/dashboard/presentes/novo-presente\">\n                          Novo presente\n                        </Link>\n                      </button>\n                      <button className=\"gradient fullcolor novo-mob\">+</button>\n                  </div>\n              </div>\n          </div>\n\n          <section className=\"card-options\">\n              <div>\n\n                <div className=\"content-card-options\">\n                  <div className=\"header-card-options\">\n                      <h2 className=\"title\">Buscar um presente</h2>\n                      <p className=\"subtitle\">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ex quas cum reprehenderit fuga repellat, maiores ut minus accusantium</p>\n                  </div>\n                </div>\n\n                <div className=\"line\"></div>\n\n                <div className=\"main-options\">\n\n                  <form onSubmit={handleSubmit( this.submit )} className=\"grid grid-input\" name=\"theme_filter_form\">\n                    <div>\n                        <label htmlFor=\"tipo-festa\" className=\"label-theme\">Nome do presente <i className=\"ng-info-circled\"></i></label>\n                        <Field\n                          name={\"search\"}\n                          component=\"input\"\n                          className={\"input-theme\"}\n                          placeholder=\"Digite o nome do presente que você quer busca\"\n                          type=\"text\"\n                          id=\"search-gift\"\n                          />\n                    </div>\n\n                    <div className=\"presente-categ-mob\">\n                        <label htmlFor=\"descricao-tema\" className=\"label-theme\">Categoria do presente<i className=\"ng-info-circled\"></i> </label>\n                        <Field\n                          name={\"categories\"}\n                          component=\"input\"\n                          className={\"hiden-input-theme\"}\n                          type=\"hidden\"\n                          id=\"categories\"\n                          />\n                        <Select\n                          isMulti\n                          onChange={this.handleChangeCategories}\n                          options={categ_options}\n                          className=\"selecione\"\n                          closeMenuOnSelect={false}\n                          placeholder=\"Selecione\"\n                          noOptionsMessage={() => { return \"Categoria não encontrada.\" }}\n                        />\n\n                    </div>\n                    <button className=\"gradient fullcolor\">Buscar presente</button>\n\n                  </form>\n\n                </div>\n\n              </div>\n          </section>\n\n          <div className=\"cards-gift flex flex-wrap\">\n            {\n              loading ? <Loader /> :\n              error ? <p>Erro no servidor</p> :\n              items.map((itens, i) => {\n                if(itens.length > 0 && this.state.page === 2){\n                  return(\n                    itens.map((item, j) => {\n                      return(\n                        <div key={j} className=\"card-gift  flex flex-column flex-space\">\n                          <div className=\"card-gift-thumb\" style={divStyle(item.url)}></div>\n                            <div className=\"flex flex-column\">\n                              <div className=\"card-gift-name\">{item.name}</div>\n                              <div className=\"card-gift-price\">R${`${item.price}`.replace(\".\", \",\")}</div>\n                              <div className=\"card-gift-desc\">{item.description.substring(0,100)}</div>\n                          </div>\n                          <div className=\"flex flex-space\">\n                            <div className=\"buttons\">\n                                <Link to={{\n                                  pathname: `/dashboard/presentes/editar-presente/${item.id}`,\n                                }} className=\"gradient fullcolor edit\">Editar item</Link>\n                                <button className=\"gradient border bgwhite\"><span>Excluir</span></button>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    })                    \n                  )\n                }else{\n                  return(\n                    <div key={i} className=\"card-gift  flex flex-column flex-space\">\n                      <div className=\"card-gift-thumb\" style={divStyle(itens.url)}></div>\n                        <div className=\"flex flex-column\">\n                          <div className=\"card-gift-name\">{itens.name}</div>\n                          <div className=\"card-gift-price\">R${`${itens.price}`.replace(\".\", \",\")}</div>\n                          <div className=\"card-gift-desc\">{itens.description.substring(0,100)}</div>\n                      </div>\n                      <div className=\"flex flex-space\">\n                        <div className=\"buttons\">\n                            <Link to={{\n                              pathname: `/dashboard/presentes/editar-presente/${itens.id}`,\n                            }} className=\"gradient fullcolor edit\">Editar item</Link>\n                            <button onClick={() => this.delete(itens.id)} className=\"gradient border bgwhite\"><span>Excluir</span></button>\n                        </div>\n                      </div>\n                    </div>\n                  )\n                }\n                \n              })\n            }\n            <div>\n            </div>\n            {loadingNext ? <Loader /> : \"\"}\n      </div>\n\n            <button onClick={() => this.getMoreGifts()} className=\"btn-large\">Ver Mais</button>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  gifts: state.gifts,\n  categories: state.themeCategories.categories,\n})\n\nconst reduxFormFilters = reduxForm({form: 'gift_filters'})(PresentesAdmin);\n\nexport default connect(mapStateToProps)(reduxFormFilters);\n"]},"metadata":{},"sourceType":"module"}