{"ast":null,"code":"import axios from \"axios\";\nconst URL = \"http://51.15.99.120:4700\";\nexport const FETCH_DELETE_CART_BEGIN = 'FETCH_DELETE_CART_BEGIN';\nexport const FETCH_DELETE_CART_FAILURE = 'FETCH_DELETE_CART_FAILURE';\nexport const FETCH_DELETE_CART_SUCCESS = 'FETCH_DELETE_CART_SUCCESS';\nexport const fetchDeleteCartBegin = () => ({\n  type: FETCH_DELETE_CART_BEGIN\n});\nexport const fetchDeleteCartSuccess = checkoutCart => ({\n  type: FETCH_DELETE_CART_SUCCESS,\n  payload: {\n    checkoutCart\n  }\n});\nexport const fetchDeleteCartFailure = error => ({\n  type: FETCH_DELETE_CART_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchDeleteCart({\n  id_user,\n  id_event,\n  cart_gift_id\n}) {\n  return dispatch => {\n    dispatch(fetchDeleteCartBegin());\n    return axios.delete(\"\".concat(URL, \"/cart/\").concat(id_event, \"/\").concat(id_user, \"/\").concat(cart_gift_id)).then(response => {\n      var data = response.data;\n      dispatch(fetchDeleteCartSuccess(data));\n      return data;\n    }).catch(error => dispatch(fetchDeleteCartFailure(error)));\n  };\n}\nexport function fetchDeleteGifts({\n  id_user,\n  id_event,\n  cart_gift_id\n}) {\n  var current_gift_id = 0;\n  return dispatch => {\n    dispatch(fetchDeleteCartBegin());\n    return axios.get(\"\".concat(URL, \"/cart/\").concat(id_event, \"/\").concat(id_user)).then(response => {\n      var data = response.data;\n      data.cart.map(item => {\n        if (item.id === cart_gift_id) {\n          current_gift_id = item.cart_gift_id;\n        }\n      });\n      return axios.delete(\"\".concat(URL, \"/cart/\").concat(id_event, \"/\").concat(id_user, \"/\").concat(current_gift_id)).then(response => {\n        var data = response.data;\n        dispatch(fetchDeleteCartSuccess(data));\n        return data;\n      }).catch(error => dispatch(fetchDeleteCartFailure(error)));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/deleteCartAction.js"],"names":["axios","URL","FETCH_DELETE_CART_BEGIN","FETCH_DELETE_CART_FAILURE","FETCH_DELETE_CART_SUCCESS","fetchDeleteCartBegin","type","fetchDeleteCartSuccess","checkoutCart","payload","fetchDeleteCartFailure","error","fetchDeleteCart","id_user","id_event","cart_gift_id","dispatch","delete","then","response","data","catch","fetchDeleteGifts","current_gift_id","get","cart","map","item","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,GAAG,GAAK,0BAAd;AAEA,OAAO,MAAMC,uBAAuB,GAAK,yBAAlC;AACP,OAAO,MAAMC,yBAAyB,GAAG,2BAAlC;AACP,OAAO,MAAMC,yBAAyB,GAAG,2BAAlC;AAEP,OAAO,MAAMC,oBAAoB,GAAG,OAAO;AACvCC,EAAAA,IAAI,EAAEJ;AADiC,CAAP,CAA7B;AAIP,OAAO,MAAMK,sBAAsB,GAAGC,YAAY,KAAK;AACnDF,EAAAA,IAAI,EAAEF,yBAD6C;AAEnDK,EAAAA,OAAO,EAAE;AAAED,IAAAA;AAAF;AAF0C,CAAL,CAA3C;AAKP,OAAO,MAAME,sBAAsB,GAAGC,KAAK,KAAK;AAC5CL,EAAAA,IAAI,EAAEH,yBADsC;AAE5CM,EAAAA,OAAO,EAAE;AAAEE,IAAAA;AAAF;AAFmC,CAAL,CAApC;AAKP,OAAO,SAASC,eAAT,CAAyB;AAACC,EAAAA,OAAD;AAAUC,EAAAA,QAAV;AAAoBC,EAAAA;AAApB,CAAzB,EAA2D;AAC9D,SAAOC,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACX,oBAAoB,EAArB,CAAR;AACA,WAAOL,KAAK,CAACiB,MAAN,WAAgBhB,GAAhB,mBAA4Ba,QAA5B,cAAwCD,OAAxC,cAAmDE,YAAnD,GACNG,IADM,CACAC,QAAD,IAAc;AAAA,UACXC,IADW,GACHD,QADG,CACXC,IADW;AAEhBJ,MAAAA,QAAQ,CAACT,sBAAsB,CAACa,IAAD,CAAvB,CAAR;AACA,aAAOA,IAAP;AACH,KALM,EAMNC,KANM,CAMAV,KAAK,IAAIK,QAAQ,CAACN,sBAAsB,CAACC,KAAD,CAAvB,CANjB,CAAP;AAOH,GATD;AAUH;AAED,OAAO,SAASW,gBAAT,CAA0B;AAACT,EAAAA,OAAD;AAAUC,EAAAA,QAAV;AAAoBC,EAAAA;AAApB,CAA1B,EAA4D;AAC/D,MAAIQ,eAAe,GAAG,CAAtB;AACA,SAAOP,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACX,oBAAoB,EAArB,CAAR;AACA,WAAOL,KAAK,CAACwB,GAAN,WAAavB,GAAb,mBAAyBa,QAAzB,cAAqCD,OAArC,GACNK,IADM,CACAC,QAAD,IAAc;AAAA,UACXC,IADW,GACHD,QADG,CACXC,IADW;AAEhBA,MAAAA,IAAI,CAACK,IAAL,CAAUC,GAAV,CAAeC,IAAD,IAAU;AACpB,YAAKA,IAAI,CAACC,EAAL,KAAYb,YAAjB,EAAgC;AAC5BQ,UAAAA,eAAe,GAAGI,IAAI,CAACZ,YAAvB;AACH;AACJ,OAJD;AAMA,aAAOf,KAAK,CAACiB,MAAN,WAAgBhB,GAAhB,mBAA4Ba,QAA5B,cAAwCD,OAAxC,cAAmDU,eAAnD,GACNL,IADM,CACAC,QAAD,IAAc;AAAA,YACXC,IADW,GACHD,QADG,CACXC,IADW;AAEhBJ,QAAAA,QAAQ,CAACT,sBAAsB,CAACa,IAAD,CAAvB,CAAR;AACA,eAAOA,IAAP;AACH,OALM,EAMNC,KANM,CAMAV,KAAK,IAAIK,QAAQ,CAACN,sBAAsB,CAACC,KAAD,CAAvB,CANjB,CAAP;AAOH,KAhBM,CAAP;AAiBH,GAnBD;AAoBH","sourcesContent":["import axios from \"axios\";\nconst URL   = \"http://51.15.99.120:4700\";\n\nexport const FETCH_DELETE_CART_BEGIN   = 'FETCH_DELETE_CART_BEGIN';\nexport const FETCH_DELETE_CART_FAILURE = 'FETCH_DELETE_CART_FAILURE';\nexport const FETCH_DELETE_CART_SUCCESS = 'FETCH_DELETE_CART_SUCCESS';\n\nexport const fetchDeleteCartBegin = () => ({\n    type: FETCH_DELETE_CART_BEGIN\n});\n  \nexport const fetchDeleteCartSuccess = checkoutCart => ({\n    type: FETCH_DELETE_CART_SUCCESS,\n    payload: { checkoutCart }\n});\n  \nexport const fetchDeleteCartFailure = error => ({\n    type: FETCH_DELETE_CART_FAILURE,\n    payload: { error }\n});\n  \nexport function fetchDeleteCart({id_user, id_event, cart_gift_id}){\n    return dispatch => {\n        dispatch(fetchDeleteCartBegin());\n        return axios.delete(`${URL}/cart/${id_event}/${id_user}/${cart_gift_id}` )\n        .then((response) => {\n            var {data} = response;\n            dispatch(fetchDeleteCartSuccess(data));\n            return data;\n        })\n        .catch(error => dispatch(fetchDeleteCartFailure(error)));\n    }\n}\n\nexport function fetchDeleteGifts({id_user, id_event, cart_gift_id}){\n    var current_gift_id = 0;\n    return dispatch => {\n        dispatch(fetchDeleteCartBegin());\n        return axios.get(`${URL}/cart/${id_event}/${id_user}`)\n        .then((response) => {\n            var {data} = response;\n            data.cart.map((item) => {\n                if ( item.id === cart_gift_id ) {\n                    current_gift_id = item.cart_gift_id\n                }\n            })\n\n            return axios.delete(`${URL}/cart/${id_event}/${id_user}/${current_gift_id}` )\n            .then((response) => {\n                var {data} = response;\n                dispatch(fetchDeleteCartSuccess(data));\n                return data;\n            })\n            .catch(error => dispatch(fetchDeleteCartFailure(error)));\n        })        \n    }\n}"]},"metadata":{},"sourceType":"module"}