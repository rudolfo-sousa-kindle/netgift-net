{"ast":null,"code":"var _jsxFileName = \"/Users/rudolfo/Documents/projects/NetGift/src/components/PresentesAdminEditar.js\";\nimport React, { Component } from \"react\";\nimport $ from \"jquery\";\nimport { connect } from \"react-redux\";\nimport { fetchGift, fetchGiftCategories, editGift } from \"../actions/giftActions\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport ImageUploader from 'react-images-upload';\nimport { defaultStyle } from \"./styleFunctions\";\nimport CreatableSelect from 'react-select/creatable';\nimport Select from 'react-select';\nimport { fetchCategories, fetchSetCategories } from \"../actions/categoriesActions\";\nimport Loader from \"./Loader\";\nimport setMask from '../assets/js/mask';\n\nconst image2base64 = require('image-to-base64');\n\nconst bgImage = {\n  \"backgroundImage\": \"url(https://havan.vteximg.com.br/arquivos/ids/3270937-1200-1200/aparelho-de-jantar-e-cha-rosas-20-pecas-biona-1-21.jpg?v=636669152638700000)\"\n};\nvar categ_options;\nvar category_values;\n\nclass PresentesAdminEditar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.submit = e => {\n      e.preventDefault();\n      var values = {};\n      var file = this.state.pictures[0];\n      var reader = new FileReader();\n\n      if (file) {\n        var url = reader.readAsDataURL(file);\n\n        reader.onloadend = function (e) {\n          this.setState({\n            imgSrc: [reader.result]\n          });\n          image2base64(this.state.imgSrc[0]) // you can also to use url\n          .then(response => {\n            values[\"image\"] = response;\n            values[\"nome_presente\"] = $(\"input[name=nome-presente]\").val();\n            values[\"price\"] = $(\"input[name=valor-presente]\").val();\n            values[\"description\"] = $(\"input[name=descricao-presente]\").val();\n            values[\"category_id\"] = $(\"input[name=tema-categoria]\").val();\n            values[\"old_categories\"] = $(\"input[name=old-categories]\").val();\n            console.log($(\"input[name=old-categories]\").val());\n            this.props.editGift(values, this.props.history, this.props.match.params.id);\n          }).catch(error => {\n            console.log(error); //Exepection error....\n          });\n        }.bind(this);\n      } else {\n        values[\"nome_presente\"] = $(\"input[name=nome-presente]\").val();\n        values[\"price\"] = $(\"input[name=valor-presente]\").val();\n        values[\"description\"] = $(\"input[name=descricao-presente]\").val();\n        values[\"category_id\"] = $(\"input[name=tema-categoria]\").val();\n        values[\"old_categories\"] = $(\"input[name=old-categories]\").val();\n        console.log(values);\n        this.props.editGift(values, this.props.history, this.props.match.params.id);\n      }\n    };\n\n    this.handleChangeCategories = (newValue, actionMeta) => {\n      // console.group('Value Changed');\n      let cat = 0;\n\n      if (newValue != null) {\n        newValue.map(item => {\n          cat = cat + \",\" + item.value;\n        });\n      }\n\n      $(\"input[name=tema-categoria]\").val(cat);\n\n      if ('create-option' === actionMeta.action) {\n        var last_new_option;\n        var last_new_index;\n        newValue.map((current_value, index) => {\n          if (current_value.hasOwnProperty('__isNew__')) {\n            last_new_option = current_value;\n            last_new_index = index;\n          }\n        });\n        this.props.fetchSetCategories('category', last_new_option.value, \"gift\").then(response => {\n          newValue[last_new_index].value = response.id;\n          this.props.fetchGiftCategories('categories').then(res => {\n            let catNew = $(\"input[name=tema-categoria]\").val();\n            catNew = catNew + \",\" + res[res.length - 1].id;\n            $(\"input[name=tema-categoria]\").val(catNew);\n          });\n        });\n      } // console.log( newValue );\n      // console.log( actionMeta );\n      // console.log(`action: ${actionMeta.action}`);\n      // console.groupEnd();\n\n    };\n\n    this.state = {\n      category_values: null,\n      categ: null\n    };\n    this.state = {\n      pictures: []\n    };\n    this.onDrop = this.onDrop.bind(this);\n    setMask();\n  }\n\n  onDrop(picture) {\n    this.setState({\n      pictures: this.state.pictures.concat(picture),\n      imgSrc: \"\"\n    });\n    var pathImg = $('.uploadPicture').attr('src');\n    var nome_presente = $('#nome-presente').val();\n    var valor_presente = $('#valor-presente').val();\n    var descricao_presente = $('#descricao_presente').val();\n    $('.card-gift-name').html(nome_presente);\n    $('.card-gift-price').html('R$' + valor_presente);\n    $('.card-gift-desc').html(descricao_presente);\n    $('.card-gift').fadeIn(200);\n    $('.card-gift-thumb').append('<img src=\" ' + pathImg + '\" >');\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    this.props.fetchGift(id);\n    this.props.fetchGiftCategories();\n  }\n\n  render() {\n    category_values = null;\n    const gifts = this.props.state.gifts;\n    const item = gifts.item,\n          error = gifts.error,\n          loadingOne = gifts.loadingOne,\n          loadingSend = gifts.loadingSend,\n          loading = gifts.loading;\n    const giftsCategories = gifts.giftsCategories;\n    var gift = {};\n    var bgUrl;\n\n    if (!loading && !loadingOne) {\n      this.state.category_values = [];\n      this.state.categ = 0;\n      bgUrl = {\n        \"backgroundImage\": item[0].url\n      };\n      $('.card-gift').fadeIn(200);\n      gift = item[0];\n      var cat = 0;\n      category_values = [];\n      setSelect2(gift.category_id);\n      item.map((i, j) => {\n        i.categories.map((cat, index) => {\n          let default_option = {\n            value: cat.id,\n            label: cat.name\n          };\n          category_values.push(default_option);\n        });\n        category_values.map(item => {\n          cat = cat + \",\" + item.value;\n        });\n      });\n\n      if (cat != 0) {\n        $(\"input[name=tema-categoria]\").val(cat);\n      }\n    }\n\n    if (giftsCategories) {\n      categ_options = [{}];\n      giftsCategories.map((category, i) => {\n        var id = category.id;\n        var name = category.name;\n        categ_options.push({\n          value: id,\n          label: name\n        });\n      });\n    }\n\n    if (null === category_values) {\n      return React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        className: \"wrap-content novo-tema presentes-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"flex flex-baseline flex-space\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Presentes\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Edite, exclua ou crie novos presentes\")), React.createElement(\"button\", {\n        className: \"gradient fullcolor disabled\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Novo presente\"))), React.createElement(\"section\", {\n        className: \"card-options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content-card-options grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header-card-options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Editar presente\"), React.createElement(\"p\", {\n        className: \"subtitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"main-options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid grid-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"tipo-festa\",\n        className: \"label-theme\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Nome do presente \", React.createElement(\"i\", {\n        className: \"ng-info-circled\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"input-theme\",\n        name: \"nome-presente\",\n        id: \"nome-presente\",\n        placeholder: \"Digite o nome do presente\",\n        defaultValue: loadingOne ? \"\" : gift.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"valor-presente\",\n        className: \"label-theme\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"Valor do presente\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"input-theme\",\n        name: \"valor-presente\",\n        id: \"valor-presente\",\n        placeholder: \"Ex: R$350,00\",\n        defaultValue: loadingOne ? \"\" : gift.price,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"tipo-festa\",\n        className: \"label-theme\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Categoria do presente\"), React.createElement(\"input\", {\n        type: \"hidden\",\n        name: \"tema-categoria\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), React.createElement(CreatableSelect, {\n        isMulti: true,\n        isClearable: true,\n        onChange: this.handleChangeCategories,\n        defaultValue: this.state.category_values,\n        options: categ_options,\n        className: \"selecione\",\n        id: \"tema-categoria\",\n        closeMenuOnSelect: false,\n        placeholder: \"Selecione\",\n        formatCreateLabel: input_text => {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 256\n            },\n            __self: this\n          }, 'Adicionar \"' + input_text + '\" como nova categoria.');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"div-textarea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"descricao-presente\",\n        className: \"label-theme\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"Descri\\xE7\\xE3o do presente\"), React.createElement(\"input\", {\n        name: \"descricao-presente\",\n        id: \"descricao_presente\",\n        placeholder: \"Digite a descri\\xE7\\xE3o que aparecer\\xE1 para o usu\\xE1rio\",\n        defaultValue: loadingOne ? \"\" : gift.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"foto-presente\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"add-foto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(ImageUploader, {\n        buttonClassName: \"fileup-btn\",\n        buttonText: \"Adicionar foto\",\n        withIcon: false,\n        onChange: this.onDrop,\n        imgExtension: ['.jpg', '.gif', '.png', '.gif', '.jpeg'],\n        maxFileSize: 5242880,\n        withPreview: true,\n        singleImage: true,\n        fileSizeError: 'true',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"upload-presente-preview\",\n        className: \"queue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"fullcolor gradient\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Salvar e criar presente\")), loadingSend ? React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }) : \"\")), React.createElement(\"div\", {\n        className: \"card-gift flex flex-column flex-space\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-gift-thumb\",\n        style: defaultStyle({\n          backgroundImage: gift.url,\n          backgroundSize: \"cover\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"flex flex-column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-gift-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, loadingOne ? \"\" : gift.name), React.createElement(\"div\", {\n        className: \"card-gift-price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, loadingOne ? \"\" : \"R$\" + gift.price), React.createElement(\"div\", {\n        className: \"card-gift-desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, loadingOne ? \"\" : gift.description))))));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  state: state\n});\n\nexport default connect(mapStateToProps, {\n  fetchGift,\n  fetchGiftCategories,\n  editGift,\n  fetchSetCategories\n})(PresentesAdminEditar);","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/components/PresentesAdminEditar.js"],"names":["React","Component","$","connect","fetchGift","fetchGiftCategories","editGift","setSelect2","ImageUploader","defaultStyle","CreatableSelect","Select","fetchCategories","fetchSetCategories","Loader","setMask","image2base64","require","bgImage","categ_options","category_values","PresentesAdminEditar","constructor","props","submit","e","preventDefault","values","file","state","pictures","reader","FileReader","url","readAsDataURL","onloadend","setState","imgSrc","result","then","response","val","console","log","history","match","params","id","catch","error","bind","handleChangeCategories","newValue","actionMeta","cat","map","item","value","action","last_new_option","last_new_index","current_value","index","hasOwnProperty","res","catNew","length","categ","onDrop","picture","concat","pathImg","attr","nome_presente","valor_presente","descricao_presente","html","fadeIn","append","componentDidMount","render","gifts","loadingOne","loadingSend","loading","giftsCategories","gift","bgUrl","category_id","i","j","categories","default_option","label","name","push","category","price","input_text","description","backgroundImage","backgroundSize","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,EAAoBC,mBAApB,EAAyCC,QAAzC,QAAyD,wBAAzD;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,aAAP,MAA0B,qBAA1B;AACA,SAAQC,YAAR,QAA2B,kBAA3B;AACA,OAAOC,eAAP,MAA4B,wBAA5B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,eAAT,EAA0BC,kBAA1B,QAAoD,8BAApD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,mBAApB;;AAEA,MAAMC,YAAY,GAAGC,OAAO,CAAC,iBAAD,CAA5B;;AAEA,MAAMC,OAAO,GAAG;AACZ,qBAAmB;AADP,CAAhB;AAIA,IAAIC,aAAJ;AACA,IAAIC,eAAJ;;AAEA,MAAMC,oBAAN,SAAmCpB,SAAnC,CAA6C;AAEzCqB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAuBnBC,MAvBmB,GAuBTC,CAAD,IAAO;AACZA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,MAAM,GAAG,EAAb;AACA,UAAIC,IAAI,GAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAX;AACA,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACA,UAAGJ,IAAH,EAAQ;AACJ,YAAIK,GAAG,GAAGF,MAAM,CAACG,aAAP,CAAqBN,IAArB,CAAV;;AACAG,QAAAA,MAAM,CAACI,SAAP,GAAmB,UAAUV,CAAV,EAAa;AAC5B,eAAKW,QAAL,CAAc;AACVC,YAAAA,MAAM,EAAE,CAACN,MAAM,CAACO,MAAR;AADE,WAAd;AAGAtB,UAAAA,YAAY,CAAC,KAAKa,KAAL,CAAWQ,MAAX,CAAkB,CAAlB,CAAD,CAAZ,CAAmC;AAAnC,WACCE,IADD,CAEKC,QAAD,IAAc;AACVb,YAAAA,MAAM,CAAC,OAAD,CAAN,GAAkBa,QAAlB;AACAb,YAAAA,MAAM,CAAC,eAAD,CAAN,GAA0BzB,CAAC,CAAC,2BAAD,CAAD,CAA+BuC,GAA/B,EAA1B;AACAd,YAAAA,MAAM,CAAC,OAAD,CAAN,GAAkBzB,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,EAAlB;AACAd,YAAAA,MAAM,CAAC,aAAD,CAAN,GAAwBzB,CAAC,CAAC,gCAAD,CAAD,CAAoCuC,GAApC,EAAxB;AACAd,YAAAA,MAAM,CAAC,aAAD,CAAN,GAAwBzB,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,EAAxB;AACAd,YAAAA,MAAM,CAAC,gBAAD,CAAN,GAA2BzB,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,EAA3B;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAazC,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,EAAb;AACA,iBAAKlB,KAAL,CAAWjB,QAAX,CAAoBqB,MAApB,EAA4B,KAAKJ,KAAL,CAAWqB,OAAvC,EAAgD,KAAKrB,KAAL,CAAWsB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAxE;AACH,WAXL,EAaCC,KAbD,CAcKC,KAAD,IAAW;AACPP,YAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ,EADO,CACa;AACvB,WAhBL;AAkBH,SAtBkB,CAsBjBC,IAtBiB,CAsBZ,IAtBY,CAAnB;AAuBH,OAzBD,MAyBK;AACDvB,QAAAA,MAAM,CAAC,eAAD,CAAN,GAA0BzB,CAAC,CAAC,2BAAD,CAAD,CAA+BuC,GAA/B,EAA1B;AACAd,QAAAA,MAAM,CAAC,OAAD,CAAN,GAAkBzB,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,EAAlB;AACAd,QAAAA,MAAM,CAAC,aAAD,CAAN,GAAwBzB,CAAC,CAAC,gCAAD,CAAD,CAAoCuC,GAApC,EAAxB;AACAd,QAAAA,MAAM,CAAC,aAAD,CAAN,GAAwBzB,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,EAAxB;AACAd,QAAAA,MAAM,CAAC,gBAAD,CAAN,GAA2BzB,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,EAA3B;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYhB,MAAZ;AACA,aAAKJ,KAAL,CAAWjB,QAAX,CAAoBqB,MAApB,EAA4B,KAAKJ,KAAL,CAAWqB,OAAvC,EAAgD,KAAKrB,KAAL,CAAWsB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAxE;AACH;AAEJ,KA/DkB;;AAAA,SAiEnBI,sBAjEmB,GAiEM,CAACC,QAAD,EAAgBC,UAAhB,KAAqC;AAC1D;AACA,UAAIC,GAAG,GAAG,CAAV;;AACA,UAAGF,QAAQ,IAAI,IAAf,EAAoB;AAChBA,QAAAA,QAAQ,CAACG,GAAT,CAAcC,IAAD,IAAU;AACnBF,UAAAA,GAAG,GAAGA,GAAG,GAAG,GAAN,GAAYE,IAAI,CAACC,KAAvB;AACH,SAFD;AAGH;;AAEDvD,MAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,CAAoCa,GAApC;;AAEA,UAAK,oBAAoBD,UAAU,CAACK,MAApC,EAA6C;AACzC,YAAIC,eAAJ;AACA,YAAIC,cAAJ;AACAR,QAAAA,QAAQ,CAACG,GAAT,CAAc,CAAEM,aAAF,EAAiBC,KAAjB,KAA4B;AACtC,cAAKD,aAAa,CAACE,cAAd,CAA8B,WAA9B,CAAL,EAAmD;AAC/CJ,YAAAA,eAAe,GAAGE,aAAlB;AACAD,YAAAA,cAAc,GAAIE,KAAlB;AACH;AACJ,SALD;AAMA,aAAKvC,KAAL,CAAWV,kBAAX,CAA+B,UAA/B,EAA2C8C,eAAe,CAACF,KAA3D,EAAkE,MAAlE,EAA2ElB,IAA3E,CAAmFC,QAAF,IAAgB;AAC7FY,UAAAA,QAAQ,CAAEQ,cAAF,CAAR,CAA2BH,KAA3B,GAAmCjB,QAAQ,CAACO,EAA5C;AACA,eAAKxB,KAAL,CAAWlB,mBAAX,CAA+B,YAA/B,EACCkC,IADD,CACMyB,GAAG,IAAI;AACT,gBAAIC,MAAM,GAAG/D,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,EAAb;AACAwB,YAAAA,MAAM,GAAGA,MAAM,GAAG,GAAT,GAAeD,GAAG,CAACA,GAAG,CAACE,MAAJ,GAAa,CAAd,CAAH,CAAoBnB,EAA5C;AACA7C,YAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,CAAoCwB,MAApC;AACH,WALD;AAMH,SARD;AASH,OA7ByD,CA+B1D;AACA;AACA;AACA;;AACH,KApGkB;;AAAA,SA8GrBpC,KA9GqB,GA8Gb;AACNT,MAAAA,eAAe,EAAG,IADZ;AAEN+C,MAAAA,KAAK,EAAG;AAFF,KA9Ga;AAEf,SAAKtC,KAAL,GAAa;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAb;AACA,SAAKsC,MAAL,GAAc,KAAKA,MAAL,CAAYlB,IAAZ,CAAiB,IAAjB,CAAd;AACAnC,IAAAA,OAAO;AACV;;AAEDqD,EAAAA,MAAM,CAACC,OAAD,EAAU;AACZ,SAAKjC,QAAL,CAAc;AACVN,MAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QAAX,CAAoBwC,MAApB,CAA2BD,OAA3B,CADA;AACqChC,MAAAA,MAAM,EAAE;AAD7C,KAAd;AAGA,QAAIkC,OAAO,GAAcrE,CAAC,CAAC,gBAAD,CAAD,CAAoBsE,IAApB,CAAyB,KAAzB,CAAzB;AACA,QAAIC,aAAa,GAAQvE,CAAC,CAAC,gBAAD,CAAD,CAAoBuC,GAApB,EAAzB;AACA,QAAIiC,cAAc,GAAOxE,CAAC,CAAC,iBAAD,CAAD,CAAqBuC,GAArB,EAAzB;AACA,QAAIkC,kBAAkB,GAAGzE,CAAC,CAAC,qBAAD,CAAD,CAAyBuC,GAAzB,EAAzB;AAEAvC,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB0E,IAArB,CAA0BH,aAA1B;AACAvE,IAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB0E,IAAtB,CAA2B,OAAOF,cAAlC;AACAxE,IAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB0E,IAArB,CAA0BD,kBAA1B;AACAzE,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB2E,MAAhB,CAAuB,GAAvB;AACA3E,IAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB4E,MAAtB,CAA6B,gBAAgBP,OAAhB,GAA0B,KAAvD;AACH;;AAmFHQ,EAAAA,iBAAiB,GAAE;AACjB,UAAMhC,EAAE,GAAG,KAAKxB,KAAL,CAAWsB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAnC;AACA,SAAKxB,KAAL,CAAWnB,SAAX,CAAqB2C,EAArB;AACA,SAAKxB,KAAL,CAAWlB,mBAAX;AACD;;AAOD2E,EAAAA,MAAM,GAAG;AAEP5D,IAAAA,eAAe,GAAG,IAAlB;AAFO,UAGE6D,KAHF,GAGW,KAAK1D,KAAL,CAAWM,KAHtB,CAGEoD,KAHF;AAAA,UAIEzB,IAJF,GAImDyB,KAJnD,CAIEzB,IAJF;AAAA,UAIQP,KAJR,GAImDgC,KAJnD,CAIQhC,KAJR;AAAA,UAIeiC,UAJf,GAImDD,KAJnD,CAIeC,UAJf;AAAA,UAI2BC,WAJ3B,GAImDF,KAJnD,CAI2BE,WAJ3B;AAAA,UAIwCC,OAJxC,GAImDH,KAJnD,CAIwCG,OAJxC;AAAA,UAKEC,eALF,GAKqBJ,KALrB,CAKEI,eALF;AAML,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,KAAJ;;AAEF,QAAG,CAACH,OAAD,IAAY,CAACF,UAAhB,EAA2B;AACvB,WAAKrD,KAAL,CAAWT,eAAX,GAA6B,EAA7B;AACA,WAAKS,KAAL,CAAWsC,KAAX,GAAmB,CAAnB;AACAoB,MAAAA,KAAK,GAAG;AACJ,2BAAoB/B,IAAI,CAAC,CAAD,CAAJ,CAAQvB;AADxB,OAAR;AAGA/B,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB2E,MAAhB,CAAuB,GAAvB;AACAS,MAAAA,IAAI,GAAG9B,IAAI,CAAC,CAAD,CAAX;AACA,UAAIF,GAAG,GAAG,CAAV;AACAlC,MAAAA,eAAe,GAAG,EAAlB;AACAb,MAAAA,UAAU,CAAC+E,IAAI,CAACE,WAAN,CAAV;AACAhC,MAAAA,IAAI,CAACD,GAAL,CAAS,CAACkC,CAAD,EAAIC,CAAJ,KAAU;AACnBD,QAAAA,CAAC,CAACE,UAAF,CAAapC,GAAb,CAAiB,CAACD,GAAD,EAAMQ,KAAN,KAAgB;AACzB,cAAI8B,cAAc,GAAG;AACjBnC,YAAAA,KAAK,EAAEH,GAAG,CAACP,EADM;AAEjB8C,YAAAA,KAAK,EAAEvC,GAAG,CAACwC;AAFM,WAArB;AAIA1E,UAAAA,eAAe,CAAC2E,IAAhB,CAAsBH,cAAtB;AACH,SANL;AAQIxE,QAAAA,eAAe,CAACmC,GAAhB,CAAqBC,IAAD,IAAU;AAC1BF,UAAAA,GAAG,GAAGA,GAAG,GAAG,GAAN,GAAYE,IAAI,CAACC,KAAvB;AACH,SAFD;AAGH,OAZD;;AAaA,UAAGH,GAAG,IAAI,CAAV,EAAY;AACRpD,QAAAA,CAAC,CAAC,4BAAD,CAAD,CAAgCuC,GAAhC,CAAoCa,GAApC;AACH;AAEJ;;AAGG,QAAG+B,eAAH,EAAmB;AACflE,MAAAA,aAAa,GAAG,CAAC,EAAD,CAAhB;AAEAkE,MAAAA,eAAe,CAAC9B,GAAhB,CAAqB,CAAEyC,QAAF,EAAYP,CAAZ,KAAmB;AACpC,YAAI1C,EAAE,GAAGiD,QAAQ,CAACjD,EAAlB;AACA,YAAI+C,IAAI,GAAGE,QAAQ,CAACF,IAApB;AACA3E,QAAAA,aAAa,CAAC4E,IAAd,CAAoB;AAAEtC,UAAAA,KAAK,EAAEV,EAAT;AAAa8C,UAAAA,KAAK,EAAGC;AAArB,SAApB;AACH,OAJD;AAKH;;AAET,QAAI,SAAS1E,eAAb,EAA+B;AAC3B,aAAQ,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACH,KAFD,MAEO;AACH,aACI;AAAK,QAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAFJ,CADJ,EAMI;AAAQ,QAAA,SAAS,EAAC,6BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBANJ,CADJ,CAFA,EAaA;AAAS,QAAA,SAAS,EAAC,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,QAAQ,EAAE,KAAKI,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEI;AAAG,QAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,EAKI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,EAMI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAK,QAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,OAAO,EAAC,YAAf;AAA4B,QAAA,SAAS,EAAC,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAqE;AAAG,QAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArE,CADJ,EAGI;AAAO,QAAA,IAAI,EAAC,MAAZ;AACI,QAAA,SAAS,EAAC,aADd;AAEI,QAAA,IAAI,EAAC,eAFT;AAGI,QAAA,EAAE,EAAC,eAHP;AAII,QAAA,WAAW,EAAC,2BAJhB;AAKI,QAAA,YAAY,EAAE0D,UAAU,GAAG,EAAH,GAAQI,IAAI,CAACQ,IALzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CAFJ,EAcI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,OAAO,EAAC,gBAAf;AAAgC,QAAA,SAAS,EAAC,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,EAGI;AAAO,QAAA,IAAI,EAAC,MAAZ;AACI,QAAA,SAAS,EAAC,aADd;AAEI,QAAA,IAAI,EAAC,gBAFT;AAGI,QAAA,EAAE,EAAC,gBAHP;AAII,QAAA,WAAW,EAAC,cAJhB;AAKI,QAAA,YAAY,EAAEZ,UAAU,GAAG,EAAH,GAAQI,IAAI,CAACW,KALzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CAdJ,EA0BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,OAAO,EAAC,YAAf;AAA4B,QAAA,SAAS,EAAC,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,EAEI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,IAAI,EAAC,gBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,eAAD;AACI,QAAA,OAAO,MADX;AAEI,QAAA,WAAW,MAFf;AAGI,QAAA,QAAQ,EAAE,KAAK9C,sBAHnB;AAII,QAAA,YAAY,EAAE,KAAKtB,KAAL,CAAWT,eAJ7B;AAKI,QAAA,OAAO,EAAED,aALb;AAMI,QAAA,SAAS,EAAC,WANd;AAOI,QAAA,EAAE,EAAC,gBAPP;AAQI,QAAA,iBAAiB,EAAE,KARvB;AASI,QAAA,WAAW,EAAC,WAThB;AAUI,QAAA,iBAAiB,EAAG+E,UAAD,IAAc;AAAC,iBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAO,gBAAgBA,UAAhB,GAA6B,wBAApC,CAAP;AAA4E,SAVlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CA1BJ,CADJ,EA6CI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,OAAO,EAAC,oBAAf;AAAoC,QAAA,SAAS,EAAC,aAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADJ,EAGI;AAAO,QAAA,IAAI,EAAC,oBAAZ;AACA,QAAA,EAAE,EAAC,oBADH;AAEA,QAAA,WAAW,EAAC,6DAFZ;AAGA,QAAA,YAAY,EAAEhB,UAAU,GAAG,EAAH,GAAQI,IAAI,CAACa,WAHrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CA7CJ,CANJ,EA6DI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI,oBAAC,aAAD;AACI,QAAA,eAAe,EAAC,YADpB;AAEI,QAAA,UAAU,EAAC,gBAFf;AAGI,QAAA,QAAQ,EAAE,KAHd;AAII,QAAA,QAAQ,EAAE,KAAK/B,MAJnB;AAKI,QAAA,YAAY,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,OAAjC,CALlB;AAMI,QAAA,WAAW,EAAE,OANjB;AAOI,QAAA,WAAW,EAAE,IAPjB;AAQI,QAAA,WAAW,EAAE,IARjB;AASI,QAAA,aAAa,EAAE,MATnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,EAgBI;AAAK,QAAA,EAAE,EAAC,yBAAR;AAAkC,QAAA,SAAS,EAAC,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBJ,CADJ,EAoBI;AAAQ,QAAA,SAAS,EAAC,oBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCApBJ,CA7DJ,EAmFKe,WAAW,GAAG,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAH,GAAe,EAnF/B,CADJ,CADJ,EAyFI;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAiC,QAAA,KAAK,EAAE1E,YAAY,CAAC;AAAC2F,UAAAA,eAAe,EAAEd,IAAI,CAACrD,GAAvB;AAA4BoE,UAAAA,cAAc,EAAE;AAA5C,SAAD,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiCnB,UAAU,GAAG,EAAH,GAAQI,IAAI,CAACQ,IAAxD,CADJ,EAEI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkCZ,UAAU,GAAG,EAAH,GAAQ,OAAOI,IAAI,CAACW,KAAhE,CAFJ,EAGI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiCf,UAAU,GAAG,EAAH,GAAQI,IAAI,CAACa,WAAxD,CAHJ,CAFJ,CAzFJ,CADJ,CAbA,CADJ;AAoHD;AACF;;AA/R4C;;AAmS7C,MAAMG,eAAe,GAAGzE,KAAK,KAAK;AAC9BA,EAAAA,KAAK,EAAEA;AADuB,CAAL,CAA7B;;AAIA,eAAe1B,OAAO,CAACmG,eAAD,EAAiB;AAAClG,EAAAA,SAAD;AAAWC,EAAAA,mBAAX;AAA+BC,EAAAA,QAA/B;AAAyCO,EAAAA;AAAzC,CAAjB,CAAP,CAAsFQ,oBAAtF,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport $ from \"jquery\";\nimport { connect } from \"react-redux\";\nimport { fetchGift, fetchGiftCategories, editGift } from \"../actions/giftActions\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport ImageUploader from 'react-images-upload';\nimport {defaultStyle} from \"./styleFunctions\";\nimport CreatableSelect from 'react-select/creatable';\nimport Select from 'react-select';\nimport { fetchCategories, fetchSetCategories } from \"../actions/categoriesActions\";\nimport Loader from \"./Loader\";\nimport setMask from '../assets/js/mask'\n\nconst image2base64 = require('image-to-base64');\n\nconst bgImage = {\n    \"backgroundImage\": \"url(https://havan.vteximg.com.br/arquivos/ids/3270937-1200-1200/aparelho-de-jantar-e-cha-rosas-20-pecas-biona-1-21.jpg?v=636669152638700000)\"\n  }\n\nvar categ_options;\nvar category_values;\n\nclass PresentesAdminEditar extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { pictures: [] };\n        this.onDrop = this.onDrop.bind(this);\n        setMask();\n    }\n\n    onDrop(picture) {\n        this.setState({\n            pictures: this.state.pictures.concat(picture), imgSrc: \"\"\n        });\n        var pathImg            = $('.uploadPicture').attr('src');\n        var nome_presente      = $('#nome-presente').val();\n        var valor_presente     = $('#valor-presente').val();\n        var descricao_presente = $('#descricao_presente').val();\n\n        $('.card-gift-name').html(nome_presente);\n        $('.card-gift-price').html('R$' + valor_presente);\n        $('.card-gift-desc').html(descricao_presente);\n        $('.card-gift').fadeIn(200);\n        $('.card-gift-thumb').append('<img src=\" ' + pathImg + '\" >');\n    }\n\n    submit = (e) => {\n        e.preventDefault();\n        var values = {};\n        var file = this.state.pictures[0];\n        var reader = new FileReader();\n        if(file){\n            var url = reader.readAsDataURL(file);\n            reader.onloadend = function (e) {\n                this.setState({\n                    imgSrc: [reader.result]\n                });\n                image2base64(this.state.imgSrc[0]) // you can also to use url\n                .then(\n                    (response) => {\n                        values[\"image\"] = response;\n                        values[\"nome_presente\"] = $(\"input[name=nome-presente]\").val();\n                        values[\"price\"] = $(\"input[name=valor-presente]\").val();\n                        values[\"description\"] = $(\"input[name=descricao-presente]\").val();\n                        values[\"category_id\"] = $(\"input[name=tema-categoria]\").val();\n                        values[\"old_categories\"] = $(\"input[name=old-categories]\").val();\n                        console.log( $(\"input[name=old-categories]\").val() );\n                        this.props.editGift(values, this.props.history, this.props.match.params.id);\n                    }\n                )\n                .catch(\n                    (error) => {\n                        console.log(error); //Exepection error....\n                    }\n                )\n            }.bind(this)\n        }else{\n            values[\"nome_presente\"] = $(\"input[name=nome-presente]\").val();\n            values[\"price\"] = $(\"input[name=valor-presente]\").val();\n            values[\"description\"] = $(\"input[name=descricao-presente]\").val();\n            values[\"category_id\"] = $(\"input[name=tema-categoria]\").val();\n            values[\"old_categories\"] = $(\"input[name=old-categories]\").val();\n            console.log(values)\n            this.props.editGift(values, this.props.history, this.props.match.params.id);\n        }\n\n    }\n\n    handleChangeCategories = (newValue: any, actionMeta: any ) => {\n        // console.group('Value Changed');\n        let cat = 0;\n        if(newValue != null){\n            newValue.map((item) => {\n                cat = cat + \",\" + item.value;\n            })\n        }\n\n        $(\"input[name=tema-categoria]\").val(cat);\n\n        if ( 'create-option' === actionMeta.action ) {\n            var last_new_option;\n            var last_new_index;\n            newValue.map( ( current_value, index ) => {\n                if ( current_value.hasOwnProperty( '__isNew__' ) ) {\n                    last_new_option = current_value;\n                    last_new_index  = index;\n                }\n            });\n            this.props.fetchSetCategories( 'category', last_new_option.value, \"gift\" ).then( ( response ) => {\n                newValue[ last_new_index ].value = response.id;\n                this.props.fetchGiftCategories('categories')\n                .then(res => {\n                    let catNew = $(\"input[name=tema-categoria]\").val();\n                    catNew = catNew + \",\" + res[res.length - 1].id\n                    $(\"input[name=tema-categoria]\").val(catNew);\n                });\n            });\n        }\n\n        // console.log( newValue );\n        // console.log( actionMeta );\n        // console.log(`action: ${actionMeta.action}`);\n        // console.groupEnd();\n    }\n\n\n\n  componentDidMount(){\n    const id = this.props.match.params.id;\n    this.props.fetchGift(id);\n    this.props.fetchGiftCategories();\n  }\n\n  state = {\n    category_values : null,\n    categ : null,\n  }\n\n  render() {\n\n    category_values = null;\n      const {gifts} = this.props.state;\n      const {item, error, loadingOne, loadingSend, loading} = gifts;\n      const {giftsCategories} = gifts;\n      var gift = {};\n      var bgUrl;\n\n    if(!loading && !loadingOne){\n        this.state.category_values = [];\n        this.state.categ = 0;\n        bgUrl = {\n            \"backgroundImage\" : item[0].url\n        }\n        $('.card-gift').fadeIn(200);\n        gift = item[0];\n        var cat = 0;\n        category_values = [];\n        setSelect2(gift.category_id);\n        item.map((i, j) => {\n        i.categories.map((cat, index) => {\n                let default_option = {\n                    value: cat.id,\n                    label: cat.name,\n                };\n                category_values.push( default_option );\n            })\n            \n            category_values.map((item) => {\n                cat = cat + \",\" + item.value;\n            })\n        })\n        if(cat != 0){\n            $(\"input[name=tema-categoria]\").val(cat);\n        }\n\n    }\n        \n\n        if(giftsCategories){\n            categ_options = [{}];\n            \n            giftsCategories.map( ( category, i ) => {\n                var id = category.id;\n                var name = category.name;\n                categ_options.push( { value: id, label : name } );\n            })\n        }\n\nif (null === category_values ) {\n    return( <Loader /> );\n} else {\n    return (\n        <div className=\"wrap-content novo-tema presentes-2\">\n\n        <div className=\"content-title\">\n            <div className=\"flex flex-baseline flex-space\">\n                <div>\n                    <h1>Presentes</h1>\n                    <h2>Edite, exclua ou crie novos presentes</h2>\n                </div>\n\n                <button className=\"gradient fullcolor disabled\">Novo presente</button>\n            </div>\n        </div>\n\n        <section className=\"card-options\">\n            <div className=\"content-card-options grid\">\n                <div>\n                    <form onSubmit={this.submit}>\n                        <div className=\"header-card-options\">\n                            <h2 className=\"title\">Editar presente</h2>\n                            <p className=\"subtitle\"></p>\n                        </div>\n                        <div className=\"line\"></div>\n                        <div className=\"main-options\">\n                            <div className=\"grid grid-input\">\n\n                                <div className=\"\">\n                                    <label htmlFor=\"tipo-festa\" className=\"label-theme\">Nome do presente <i className=\"ng-info-circled\"></i></label>\n\n                                    <input type=\"text\" \n                                        className=\"input-theme\" \n                                        name=\"nome-presente\" \n                                        id=\"nome-presente\" \n                                        placeholder=\"Digite o nome do presente\" \n                                        defaultValue={loadingOne ? \"\" : gift.name } \n                                    />\n                                </div>\n\n                                <div>\n                                    <label htmlFor=\"valor-presente\" className=\"label-theme\">Valor do presente</label>\n\n                                    <input type=\"text\" \n                                        className=\"input-theme\" \n                                        name=\"valor-presente\" \n                                        id=\"valor-presente\" \n                                        placeholder=\"Ex: R$350,00\" \n                                        defaultValue={loadingOne ? \"\" : gift.price} \n                                    />\n                                </div>\n\n                                <div>\n                                    <label htmlFor=\"tipo-festa\" className=\"label-theme\">Categoria do presente</label>\n                                    <input type=\"hidden\" name=\"tema-categoria\" />\n                                    <CreatableSelect\n                                        isMulti\n                                        isClearable\n                                        onChange={this.handleChangeCategories}\n                                        defaultValue={this.state.category_values}\n                                        options={categ_options}\n                                        className=\"selecione\"\n                                        id=\"tema-categoria\"\n                                        closeMenuOnSelect={false}\n                                        placeholder=\"Selecione\"\n                                        formatCreateLabel={(input_text)=>{return <span>{'Adicionar \"' + input_text + '\" como nova categoria.'}</span>}}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"div-textarea\">\n                                <label htmlFor=\"descricao-presente\" className=\"label-theme\">Descrição do presente</label>\n\n                                <input name=\"descricao-presente\" \n                                id=\"descricao_presente\"\n                                placeholder=\"Digite a descrição que aparecerá para o usuário\" \n                                defaultValue={loadingOne ? \"\" : gift.description}></input>\n                            </div>\n                        </div>\n\n                        <div className=\"foto-presente\">\n                            <div className=\"add-foto\">\n                                {/* <button className=\"fileup-btn\">\n                                    Adicionar foto\n                                    <input type=\"file\" id=\"upload-presente\" multiple accept=\"image/*\" />\n                                </button> */}\n                                <ImageUploader\n                                    buttonClassName=\"fileup-btn\"\n                                    buttonText=\"Adicionar foto\"\n                                    withIcon={false}\n                                    onChange={this.onDrop}\n                                    imgExtension={['.jpg', '.gif', '.png', '.gif', '.jpeg']}\n                                    maxFileSize={5242880}\n                                    withPreview={true}\n                                    singleImage={true}\n                                    fileSizeError={'true'}\n                                />\n                                <div id=\"upload-presente-preview\" className=\"queue\"></div>\n                            </div>\n\n                            <button className=\"fullcolor gradient\">Salvar e criar presente</button>\n                        </div>\n                        {loadingSend ? <Loader/> : \"\"}\n                    </form>\n                </div>\n\n                <div className=\"card-gift flex flex-column flex-space\">\n                    <div className=\"card-gift-thumb\" style={defaultStyle({backgroundImage: gift.url, backgroundSize: \"cover\"})}></div>\n                    <div className=\"flex flex-column\">\n                        <div className=\"card-gift-name\">{loadingOne ? \"\" : gift.name }</div>\n                        <div className=\"card-gift-price\">{loadingOne ? \"\" : \"R$\" + gift.price }</div>\n                        <div className=\"card-gift-desc\">{loadingOne ? \"\" : gift.description }</div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n    );\n  }\n}\n}\n\n\nconst mapStateToProps = state => ({\n    state: state\n});\n\nexport default connect(mapStateToProps,{fetchGift,fetchGiftCategories,editGift, fetchSetCategories})(PresentesAdminEditar);\n"]},"metadata":{},"sourceType":"module"}