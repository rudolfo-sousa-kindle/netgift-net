{"ast":null,"code":"import axios from \"axios\";\nimport $ from \"jquery\";\nimport Snackbar from 'node-snackbar';\nexport const AUTHENTICATED = \"authenticated_user\";\nexport const UNAUTHENTICATED = \"unauthenticated_user\";\nexport const AUTHENTICATION_ERROR = \"authentication_error\";\nexport const RETRIEVEPASS = \"retrievepass_user\";\nexport const UNRETRIEVEPASS = \"unretrievepass_user\";\nexport const RETRIVEPASS_ERROR = \"retrivepass_error\";\nexport const REGISTER = \"register_user\";\nexport const UNREGISTER = \"unregister_user\";\nexport const REGISTER_ERROR = \"register_error\";\nexport const MAKERETRIEVEPASS = \"makeretrievepass_user\";\nexport const MAKEUNRETRIEVEPASS = \"makeunretrievepass_user\";\nexport const MAKERETRIVEPASS_ERROR = \"makeretrivepass_error\";\nexport const FETCH_PRODUCTS_BEGIN = 'FETCH_PRODUCTS_BEGIN';\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS';\nexport const FETCH_PRODUCTS_FAILURE = 'FETCH_PRODUCTS_FAILURE';\nexport const FETCH_CONTACT_BEGIN = 'FETCH_CONTACT_BEGIN';\nexport const FETCH_CONTACT_SUCCESS = 'FETCH_CONTACT_SUCCESS';\nexport const FETCH_CONTACT_FAILURE = 'FETCH_CONTACT_FAILURE';\nexport const FETCH_EVENTS_BEGIN = 'FETCH_EVENTS_BEGIN';\nexport const FETCH_EVENTS_FAILURE = 'FETCH_EVENTS_FAILURE';\nexport const FETCH_EVENTS_SUCCESS = 'FETCH_EVENTS_SUCCESS';\nexport const FETCH_HOME_BEGIN = 'FETCH_HOME_BEGIN';\nexport const FETCH_HOME_FAILURE = 'FETCH_HOME_FAILURE';\nexport const FETCH_HOME_SUCCESS = 'FETCH_HOME_SUCCESS';\nexport const FETCH_PAGE_BEGIN = 'FETCH_PAGE_BEGIN';\nexport const FETCH_PAGE_FAILURE = 'FETCH_PAGE_FAILURE';\nexport const FETCH_PAGE_SUCCESS = 'FETCH_PAGE_SUCCESS';\nexport const FETCH_GIFTS_BEGIN = 'FETCH_GIFTS_BEGIN';\nexport const FETCH_GIFTS_FAILURE = 'FETCH_GIFTS_FAILURE';\nexport const FETCH_GIFTS_SUCCESS = 'FETCH_GIFTS_SUCCESS';\nexport const FETCH_ADD_CART_BEGIN = 'FETCH_ADD_CART_BEGIN';\nexport const FETCH_ADD_CART_FAILURE = 'FETCH_ADD_CART_FAILURE';\nexport const FETCH_ADD_CART_SUCCESS = 'FETCH_ADD_CART_SUCCESS';\nexport const FETCH_GET_CART_BEGIN = 'FETCH_GET_CART_BEGIN';\nexport const FETCH_GET_CART_FAILURE = 'FETCH_GET_CART_FAILURE';\nexport const FETCH_GET_CART_SUCCESS = 'FETCH_GET_CART_SUCCESS';\nexport const FETCH_GET_EVENT_BEGIN = 'FETCH_GET_EVENT_BEGIN';\nexport const FETCH_EVENTS_BEGIN_NEXT = 'FETCH_EVENTS_BEGIN_NEXT';\nexport const FETCH_GET_EVENT_FAILURE = 'FETCH_GET_EVENT_FAILURE';\nexport const FETCH_GET_EVENT_SUCCESS = 'FETCH_GET_EVENT_SUCCESS';\nexport const FETCH_FILTER_BY_CATEGORY_BEGIN = 'FETCH_FILTER_BY_CATEGORY_BEGIN';\nexport const FETCH_FILTER_BY_CATEGORY_FAILURE = 'FETCH_FILTER_BY_CATEGORY_FAILURE';\nexport const FETCH_FILTER_BY_CATEGORY_SUCCESS = 'FETCH_FILTER_BY_CATEGORY_SUCCESS';\nconst URL = \"http://51.15.99.120:4700\";\nconst urlWP = \"https://www.localkindle.com.br/netgift_api/wp-json/ntgift/api\";\nconst config = {\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Headers\": \"*\"\n  }\n};\nexport function signInAction({\n  email,\n  password\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"\".concat(URL, \"/login\"), {\n        \"email\": email,\n        \"password\": password,\n        \"facebook_id\": \"\"\n      }, config);\n      dispatch({\n        type: AUTHENTICATED\n      });\n      var jsonAux = JSON.stringify(res.data.user[0]);\n      var jsonAuxBanks = JSON.stringify(res.data.banks);\n      var jsonAuxEvents = JSON.stringify(res.data.events);\n      localStorage.setItem(\"user\", jsonAux);\n      localStorage.setItem(\"banks\", jsonAuxBanks);\n      localStorage.setItem(\"events\", jsonAuxEvents);\n      history.push(\"/dashboard/home\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\nexport function retrievePassAction({\n  email\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"\".concat(URL, \"/users/password\"), {\n        \"email\": email\n      }, config);\n      dispatch({\n        type: RETRIEVEPASS\n      });\n      var jsonAux = JSON.stringify(res.data);\n    } catch (error) {\n      dispatch({\n        type: RETRIVEPASS_ERROR,\n        payload: \"Invalid email\"\n      });\n    }\n  };\n}\nexport function makeRetrievePassAction({\n  user_id,\n  password\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.put(\"\".concat(URL, \"/users/password/\") + user_id, {\n        \"password\": password\n      }, config);\n      dispatch({\n        type: RETRIEVEPASS\n      });\n      var jsonAux = JSON.stringify(res.data);\n    } catch (error) {\n      dispatch({\n        type: RETRIVEPASS_ERROR,\n        payload: \"Invalid email\"\n      });\n    }\n  };\n}\nexport function signInActionRegister({\n  email,\n  first_name,\n  last_name,\n  password,\n  cpf\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"\".concat(URL, \"/users\"), {\n        \"email\": email,\n        \"first_name\": first_name,\n        \"last_name\": last_name,\n        \"facebook_id\": \"\",\n        \"telephone_ddd\": \"21\",\n        \"telephone\": \"999999999\",\n        \"cpf\": cpf,\n        \"admin\": 0,\n        \"password\": password\n      }, config);\n      dispatch({\n        type: REGISTER\n      });\n      var jsonAux = JSON.stringify(res.data.user[0]);\n      var jsonAuxBanks = JSON.stringify(res.data.banks);\n      var jsonAuxEvents = JSON.stringify(res.data.events);\n      localStorage.setItem(\"user\", jsonAux);\n      localStorage.setItem(\"banks\", jsonAuxBanks);\n      localStorage.setItem(\"events\", jsonAuxEvents);\n      history.push(\"/cadastro-concluido\");\n    } catch (error) {\n      var message = '';\n\n      if (409 === error.response.status) {\n        message = \"E-mail já cadastrado.\";\n      } else {\n        message = \"Ocorreu um erro no cadastro, tente novamente mais tarde.\";\n      }\n\n      dispatch({\n        type: REGISTER_ERROR,\n        payload: message\n      });\n      setTimeout(() => {\n        Snackbar.show({\n          pos: 'bottom-center',\n          text: message,\n          backgroundColor: '#da1e1e',\n          showAction: false,\n          duration: 5000\n        });\n      }, 1000);\n      return error.response;\n    }\n  };\n}\nexport const POSTEDTHEME = \"postedtheme\";\nexport const UNPOSTEDTHEME = \"unpostedtheme\";\nexport const POSTEDTHEMEERROR = \"postederror\";\nexport function addThemes(values, history) {\n  return async dispatch => {};\n}\nexport function signOutAction(history) {\n  localStorage.clear();\n  console.log(\"s\");\n  window.location = \"/login\";\n  return {\n    type: UNAUTHENTICATED\n  };\n}\nexport const fetchEventsBegin = () => ({\n  type: FETCH_EVENTS_BEGIN\n});\nexport const fetchEventsBeginNextLine = () => ({\n  type: FETCH_EVENTS_BEGIN_NEXT\n});\nexport const fetchEventsSuccess = events => ({\n  type: FETCH_EVENTS_SUCCESS,\n  payload: {\n    events\n  }\n});\nexport const fetchEventsFailure = error => ({\n  type: FETCH_EVENTS_FAILURE,\n  payload: {\n    error\n  }\n});\nvar count = 0;\nvar events = [];\nexport function fetchEvents(reset_page = false, quem = null, data = null, tipo = null, estado = null, cidade = null) {\n  count = reset_page ? 0 : count;\n  return dispatch => {\n    if (count < 1) {\n      dispatch(fetchEventsBegin());\n    } else {\n      dispatch(fetchEventsBeginNextLine());\n    }\n\n    var filters = {};\n\n    if (quem) {\n      filters.owner = quem;\n    }\n\n    if (data) {\n      filters.date = data;\n    }\n\n    if (tipo) {\n      filters.category_id = parseInt(tipo);\n    }\n\n    if (estado) {\n      filters.state = estado;\n    }\n\n    if (cidade) {\n      filters.city = cidade;\n    }\n\n    count++;\n    return axios.post(\"\".concat(URL, \"/events/search/10/\") + count, filters, config).then(response => {\n      var data = response.data; // console.log(data)\n\n      events.push(data); // if(search){\n\n      dispatch(fetchEventsSuccess(data)); // }else{\n      //   dispatch(fetchEventsSuccess(events));\n      // }\n\n      return events;\n    }).catch(error => dispatch(fetchEventsFailure(error)));\n  };\n}\nexport const fetchGiftsBegin = () => ({\n  type: FETCH_GIFTS_BEGIN\n});\nexport const fetchGiftsSuccess = gifts => ({\n  type: FETCH_GIFTS_SUCCESS,\n  payload: {\n    gifts\n  }\n});\nexport const fetchGiftsFailure = error => ({\n  type: FETCH_GIFTS_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchGifts(id, search) {\n  var data_send = {};\n  data_send['busca'] = search;\n  return dispatch => {\n    dispatch(fetchGiftsBegin());\n    return axios.get(\"\".concat(URL, \"/gift/event/\").concat(id), search).then(response => {\n      var data = response.data;\n      dispatch(fetchGiftsSuccess(data.gift));\n      return data;\n    }).catch(error => dispatch(fetchGiftsFailure(error)));\n  };\n}\n\nconst fetchPageBegin = type_fetch => ({\n  type: type_fetch\n});\n\nconst fetchPageSuccess = (type_fetch, page) => ({\n  type: type_fetch,\n  payload: {\n    page\n  }\n});\n\nconst fetchPageFailure = (type_fetch, type_playload) => ({\n  type: type_fetch,\n  payload: {\n    type_playload\n  }\n});\n\nexport function fetchPage(post_id, post_types) {\n  return dispatch => {\n    dispatch(fetchPageBegin(FETCH_PAGE_BEGIN));\n    return axios.get(\"\".concat(urlWP, \"/get_page_content?post_id=\").concat(post_id, \"&post_types_listed=\").concat(post_types)).then(response => {\n      var data = response.data;\n      dispatch(fetchPageSuccess(FETCH_PAGE_SUCCESS, data));\n      return data;\n    }).catch(error => dispatch(fetchPageFailure(FETCH_PAGE_FAILURE, error)));\n  };\n}\nexport const fetchHomeBegin = () => ({\n  type: FETCH_HOME_BEGIN\n});\nexport const fetchHomeSuccess = home => ({\n  type: FETCH_HOME_SUCCESS,\n  payload: {\n    home\n  }\n});\nexport const fetchHomeFailure = error => ({\n  type: FETCH_HOME_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchHome() {\n  return dispatch => {\n    dispatch(fetchHomeBegin());\n    return axios.get(\"\".concat(urlWP, \"/get_home_content/\")).then(response => {\n      var data = response.data;\n      dispatch(fetchHomeSuccess(data));\n      return data;\n    }).catch(error => dispatch(fetchHomeFailure(error)));\n  };\n}\nexport const fetchFilterByCategoryBegin = () => ({\n  type: FETCH_FILTER_BY_CATEGORY_BEGIN\n});\nexport const fetchFilterByCategorySuccess = category => ({\n  type: FETCH_FILTER_BY_CATEGORY_SUCCESS,\n  payload: {\n    category\n  }\n});\nexport const fetchFilterByCategoryFailure = error => ({\n  type: FETCH_FILTER_BY_CATEGORY_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchFilterByCategory() {\n  return dispatch => {\n    dispatch(fetchFilterByCategoryBegin());\n    return axios.get(\"\".concat(URL, \"/gift/categories\")).then(response => {\n      var data = response.data;\n      dispatch(fetchFilterByCategorySuccess(data));\n      return data;\n    }).catch(error => dispatch(fetchFilterByCategoryFailure(error)));\n  };\n}\nexport const fetchAddCartBegin = () => ({\n  type: FETCH_ADD_CART_BEGIN\n});\nexport const fetchAddCartSuccess = cart => ({\n  type: FETCH_ADD_CART_SUCCESS,\n  payload: {\n    cart\n  }\n});\nexport const fetchAddCartFailure = error => ({\n  type: FETCH_ADD_CART_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchAddCart({\n  id_user,\n  id_event\n}, obj) {\n  return dispatch => {\n    dispatch(fetchAddCartBegin());\n    return axios.post(\"\".concat(URL, \"/cart/\").concat(id_event, \"/\").concat(id_user), obj).then(response => {\n      var data = response.data;\n      dispatch(fetchAddCartSuccess(data));\n      return data;\n    }).catch(error => dispatch(fetchAddCartFailure(error)));\n  };\n}\nexport const fetchGetCartBegin = () => ({\n  type: FETCH_GET_CART_BEGIN\n});\nexport const fetchGetCartSuccess = getCart => ({\n  type: FETCH_GET_CART_SUCCESS,\n  payload: {\n    getCart\n  }\n});\nexport const fetchGetCartFailure = error => ({\n  type: FETCH_GET_CART_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchGetCart({\n  id_user,\n  id_event\n}) {\n  return dispatch => {\n    dispatch(fetchGetCartBegin());\n    return axios.get(\"\".concat(URL, \"/cart/\").concat(id_event, \"/\").concat(id_user)).then(response => {\n      var data = response.data;\n      dispatch(fetchGetCartSuccess(data));\n      return data;\n    }).catch(error => dispatch(fetchGetCartFailure(error)));\n  };\n}\nexport const fetchGetEventBegin = () => ({\n  type: FETCH_GET_EVENT_BEGIN\n});\nexport const fetchGetEventSuccess = event => ({\n  type: FETCH_GET_EVENT_SUCCESS,\n  payload: {\n    event\n  }\n});\nexport const fetchGetEventFailure = error => ({\n  type: FETCH_GET_EVENT_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchGetEvent(id) {\n  return dispatch => {\n    dispatch(fetchGetEventBegin());\n    return axios.get(\"\".concat(URL, \"/event/\").concat(id)).then(response => {\n      var data = response.data;\n      return axios.get(\"\".concat(URL, \"/theme/\").concat(data.EVENTO.theme_id, \"/config\")).then(response => {\n        data.template = response.data;\n        dispatch(fetchGetEventSuccess(data));\n        return data;\n      });\n    }).catch(error => dispatch(fetchGetEventFailure(error)));\n  };\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/index.js"],"names":["axios","$","Snackbar","AUTHENTICATED","UNAUTHENTICATED","AUTHENTICATION_ERROR","RETRIEVEPASS","UNRETRIEVEPASS","RETRIVEPASS_ERROR","REGISTER","UNREGISTER","REGISTER_ERROR","MAKERETRIEVEPASS","MAKEUNRETRIEVEPASS","MAKERETRIVEPASS_ERROR","FETCH_PRODUCTS_BEGIN","FETCH_PRODUCTS_SUCCESS","FETCH_PRODUCTS_FAILURE","FETCH_CONTACT_BEGIN","FETCH_CONTACT_SUCCESS","FETCH_CONTACT_FAILURE","FETCH_EVENTS_BEGIN","FETCH_EVENTS_FAILURE","FETCH_EVENTS_SUCCESS","FETCH_HOME_BEGIN","FETCH_HOME_FAILURE","FETCH_HOME_SUCCESS","FETCH_PAGE_BEGIN","FETCH_PAGE_FAILURE","FETCH_PAGE_SUCCESS","FETCH_GIFTS_BEGIN","FETCH_GIFTS_FAILURE","FETCH_GIFTS_SUCCESS","FETCH_ADD_CART_BEGIN","FETCH_ADD_CART_FAILURE","FETCH_ADD_CART_SUCCESS","FETCH_GET_CART_BEGIN","FETCH_GET_CART_FAILURE","FETCH_GET_CART_SUCCESS","FETCH_GET_EVENT_BEGIN","FETCH_EVENTS_BEGIN_NEXT","FETCH_GET_EVENT_FAILURE","FETCH_GET_EVENT_SUCCESS","FETCH_FILTER_BY_CATEGORY_BEGIN","FETCH_FILTER_BY_CATEGORY_FAILURE","FETCH_FILTER_BY_CATEGORY_SUCCESS","URL","urlWP","config","headers","signInAction","email","password","history","dispatch","res","post","type","jsonAux","JSON","stringify","data","user","jsonAuxBanks","banks","jsonAuxEvents","events","localStorage","setItem","push","error","payload","retrievePassAction","makeRetrievePassAction","user_id","put","signInActionRegister","first_name","last_name","cpf","message","response","status","setTimeout","show","pos","text","backgroundColor","showAction","duration","POSTEDTHEME","UNPOSTEDTHEME","POSTEDTHEMEERROR","addThemes","values","signOutAction","clear","console","log","window","location","fetchEventsBegin","fetchEventsBeginNextLine","fetchEventsSuccess","fetchEventsFailure","count","fetchEvents","reset_page","quem","tipo","estado","cidade","filters","owner","date","category_id","parseInt","state","city","then","catch","fetchGiftsBegin","fetchGiftsSuccess","gifts","fetchGiftsFailure","fetchGifts","id","search","data_send","get","gift","fetchPageBegin","type_fetch","fetchPageSuccess","page","fetchPageFailure","type_playload","fetchPage","post_id","post_types","fetchHomeBegin","fetchHomeSuccess","home","fetchHomeFailure","fetchHome","fetchFilterByCategoryBegin","fetchFilterByCategorySuccess","category","fetchFilterByCategoryFailure","fetchFilterByCategory","fetchAddCartBegin","fetchAddCartSuccess","cart","fetchAddCartFailure","fetchAddCart","id_user","id_event","obj","fetchGetCartBegin","fetchGetCartSuccess","getCart","fetchGetCartFailure","fetchGetCart","fetchGetEventBegin","fetchGetEventSuccess","event","fetchGetEventFailure","fetchGetEvent","EVENTO","theme_id","template","handleErrors","ok","Error","statusText"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport $ from \"jquery\";\nimport Snackbar from 'node-snackbar';\n\nexport const AUTHENTICATED = \"authenticated_user\";\nexport const UNAUTHENTICATED = \"unauthenticated_user\";\nexport const AUTHENTICATION_ERROR = \"authentication_error\";\n\nexport const RETRIEVEPASS      = \"retrievepass_user\";\nexport const UNRETRIEVEPASS    = \"unretrievepass_user\";\nexport const RETRIVEPASS_ERROR = \"retrivepass_error\";\n\nexport const REGISTER        = \"register_user\";\nexport const UNREGISTER      = \"unregister_user\";\nexport const REGISTER_ERROR  = \"register_error\";\n\nexport const MAKERETRIEVEPASS      = \"makeretrievepass_user\";\nexport const MAKEUNRETRIEVEPASS    = \"makeunretrievepass_user\";\nexport const MAKERETRIVEPASS_ERROR = \"makeretrivepass_error\";\n\nexport const FETCH_PRODUCTS_BEGIN   = 'FETCH_PRODUCTS_BEGIN';\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS';\nexport const FETCH_PRODUCTS_FAILURE = 'FETCH_PRODUCTS_FAILURE';\n\nexport const FETCH_CONTACT_BEGIN   = 'FETCH_CONTACT_BEGIN';\nexport const FETCH_CONTACT_SUCCESS = 'FETCH_CONTACT_SUCCESS';\nexport const FETCH_CONTACT_FAILURE = 'FETCH_CONTACT_FAILURE';\n\nexport const FETCH_EVENTS_BEGIN   = 'FETCH_EVENTS_BEGIN';\nexport const FETCH_EVENTS_FAILURE = 'FETCH_EVENTS_FAILURE';\nexport const FETCH_EVENTS_SUCCESS = 'FETCH_EVENTS_SUCCESS';\n\nexport const FETCH_HOME_BEGIN   = 'FETCH_HOME_BEGIN';\nexport const FETCH_HOME_FAILURE = 'FETCH_HOME_FAILURE';\nexport const FETCH_HOME_SUCCESS = 'FETCH_HOME_SUCCESS';\n\nexport const FETCH_PAGE_BEGIN   = 'FETCH_PAGE_BEGIN';\nexport const FETCH_PAGE_FAILURE = 'FETCH_PAGE_FAILURE';\nexport const FETCH_PAGE_SUCCESS = 'FETCH_PAGE_SUCCESS';\n\nexport const FETCH_GIFTS_BEGIN   = 'FETCH_GIFTS_BEGIN';\nexport const FETCH_GIFTS_FAILURE = 'FETCH_GIFTS_FAILURE';\nexport const FETCH_GIFTS_SUCCESS = 'FETCH_GIFTS_SUCCESS';\n\nexport const FETCH_ADD_CART_BEGIN   = 'FETCH_ADD_CART_BEGIN';\nexport const FETCH_ADD_CART_FAILURE = 'FETCH_ADD_CART_FAILURE';\nexport const FETCH_ADD_CART_SUCCESS = 'FETCH_ADD_CART_SUCCESS';\n\nexport const FETCH_GET_CART_BEGIN   = 'FETCH_GET_CART_BEGIN';\nexport const FETCH_GET_CART_FAILURE = 'FETCH_GET_CART_FAILURE';\nexport const FETCH_GET_CART_SUCCESS = 'FETCH_GET_CART_SUCCESS';\n\nexport const FETCH_GET_EVENT_BEGIN   = 'FETCH_GET_EVENT_BEGIN';\nexport const FETCH_EVENTS_BEGIN_NEXT = 'FETCH_EVENTS_BEGIN_NEXT';\nexport const FETCH_GET_EVENT_FAILURE = 'FETCH_GET_EVENT_FAILURE';\nexport const FETCH_GET_EVENT_SUCCESS = 'FETCH_GET_EVENT_SUCCESS';\n\nexport const FETCH_FILTER_BY_CATEGORY_BEGIN   = 'FETCH_FILTER_BY_CATEGORY_BEGIN';\nexport const FETCH_FILTER_BY_CATEGORY_FAILURE = 'FETCH_FILTER_BY_CATEGORY_FAILURE';\nexport const FETCH_FILTER_BY_CATEGORY_SUCCESS = 'FETCH_FILTER_BY_CATEGORY_SUCCESS';\n\n\nconst URL   = \"http://51.15.99.120:4700\";\nconst urlWP = \"https://www.localkindle.com.br/netgift_api/wp-json/ntgift/api\";\n\nconst config = {\n  headers: {\"Access-Control-Allow-Origin\": \"*\", \"Access-Control-Allow-Headers\": \"*\"},\n}\n\nexport function signInAction({ email, password }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/login`, { \"email\" : email, \"password\" : password, \"facebook_id\" : \"\" }, config);\n      dispatch({ type: AUTHENTICATED });\n      var jsonAux = JSON.stringify(res.data.user[0]);\n      var jsonAuxBanks = JSON.stringify(res.data.banks);\n      var jsonAuxEvents = JSON.stringify(res.data.events);\n      localStorage.setItem(\"user\", jsonAux);\n      localStorage.setItem(\"banks\", jsonAuxBanks);\n      localStorage.setItem(\"events\", jsonAuxEvents);\n      history.push(\"/dashboard/home\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\n\nexport function retrievePassAction({ email }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/users/password`, { \"email\" : email }, config);\n      dispatch({ type: RETRIEVEPASS });\n      var jsonAux = JSON.stringify(res.data);\n    } catch (error) {\n      dispatch({\n        type: RETRIVEPASS_ERROR,\n        payload: \"Invalid email\"\n      });\n    }\n  };\n}\n\nexport function makeRetrievePassAction({ user_id, password }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.put(`${URL}/users/password/` + user_id, { \"password\" : password }, config);\n      dispatch({ type: RETRIEVEPASS });\n      var jsonAux = JSON.stringify(res.data);\n    } catch (error) {\n      dispatch({\n        type: RETRIVEPASS_ERROR,\n        payload: \"Invalid email\"\n      });\n    }\n  };\n}\n\nexport function signInActionRegister({ email, first_name, last_name, password, cpf }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/users`, { \n        \"email\" : email,\n        \"first_name\" : first_name, \n        \"last_name\" : last_name, \n        \"facebook_id\" : \"\", \n        \"telephone_ddd\": \"21\", \n        \"telephone\": \"999999999\",\n        \"cpf\": cpf, \n        \"admin\": 0,\n        \"password\" : password }, config);\n\n      dispatch({ type: REGISTER });\n      var jsonAux = JSON.stringify(res.data.user[0]);\n      var jsonAuxBanks = JSON.stringify(res.data.banks);\n      var jsonAuxEvents = JSON.stringify(res.data.events);\n      localStorage.setItem(\"user\", jsonAux);\n      localStorage.setItem(\"banks\", jsonAuxBanks);\n      localStorage.setItem(\"events\", jsonAuxEvents);\n      history.push(\"/cadastro-concluido\");\n    } catch (error) {\n      var message = '';\n\n      if ( 409 === error.response.status ) {\n        message = \"E-mail já cadastrado.\"\n      } else {\n        message = \"Ocorreu um erro no cadastro, tente novamente mais tarde.\"\n      }\n      dispatch({\n        type: REGISTER_ERROR,\n        payload: message\n      });\n\n\n      setTimeout(() => {\n        Snackbar.show({\n            pos: 'bottom-center',\n            text: message,\n            backgroundColor: '#da1e1e',\n            showAction: false,\n            duration: 5000\n        });    \n      }, 1000);\n\n      return error.response;\n    }\n  };\n}\n\nexport const POSTEDTHEME = \"postedtheme\";\nexport const UNPOSTEDTHEME = \"unpostedtheme\";\nexport const POSTEDTHEMEERROR = \"postederror\";\n\nexport function addThemes(values, history){\n\n  return async dispatch => {\n  }\n\n}\n\nexport function signOutAction(history) {\n  localStorage.clear();\n  console.log(\"s\")\n  window.location = \"/login\";\n  return {\n    type: UNAUTHENTICATED\n  };\n}\n\nexport const fetchEventsBegin = () => ({\n    type: FETCH_EVENTS_BEGIN\n});\n\nexport const fetchEventsBeginNextLine = () => ({\n  type: FETCH_EVENTS_BEGIN_NEXT\n});\n\nexport const fetchEventsSuccess = events => ({\n    type: FETCH_EVENTS_SUCCESS,\n    payload: { events }\n});\n\nexport const fetchEventsFailure = error => ({\n    type: FETCH_EVENTS_FAILURE,\n    payload: { error }\n});\n\nvar count = 0;\nvar events = [];\n\nexport function fetchEvents( reset_page = false, quem = null, data = null, tipo = null, estado = null, cidade = null ) {\n  count = reset_page ? 0 : count;\n\n  return dispatch => {\n    if( count < 1){\n      dispatch(fetchEventsBegin());\n    }else{\n      dispatch(fetchEventsBeginNextLine());\n    }\n\n    var filters = {};\n\n    if ( quem ) {\n      filters.owner = quem;\n    }\n\n    if ( data ) {\n      filters.date = data;\n    }\n\n    if ( tipo ) {\n      filters.category_id = parseInt( tipo );\n    }\n\n    if ( estado ) {\n      filters.state = estado;\n    }\n\n    if ( cidade ) {\n      filters.city = cidade;\n    }\n\n    count++;\n    return axios.post(`${URL}/events/search/10/` + count, filters, config)\n      .then((response) => {\n        var {data} = response;\n        // console.log(data)\n        events.push(data);\n        // if(search){\n          dispatch(fetchEventsSuccess(data));\n        // }else{\n        //   dispatch(fetchEventsSuccess(events));\n        // }\n        return events;\n        })\n      .catch(error => dispatch(fetchEventsFailure(error)));\n  };\n}\n\nexport const fetchGiftsBegin = () => ({\n    type: FETCH_GIFTS_BEGIN\n});\n\nexport const fetchGiftsSuccess = gifts => ({\n    type: FETCH_GIFTS_SUCCESS,\n    payload: { gifts }\n});\n\nexport const fetchGiftsFailure = error => ({\n    type: FETCH_GIFTS_FAILURE,\n    payload: { error }\n});\n\nexport function fetchGifts(id, search){\n  var data_send = {};\n  data_send['busca'] = search;\n  \n  return dispatch => {\n    dispatch(fetchGiftsBegin());\n    return axios.get(`${URL}/gift/event/${id}`, search)\n      .then((response) => {\n        var {data} = response;\n        dispatch(fetchGiftsSuccess(data.gift));\n        return data;\n      })\n      .catch(error => dispatch(fetchGiftsFailure(error)));\n  }\n}\n\n\n\nconst fetchPageBegin = type_fetch => ({\n  type: type_fetch\n});\n\nconst fetchPageSuccess = (type_fetch, page) => ({\n  type: type_fetch,\n  payload: { page }\n});\n\nconst fetchPageFailure = (type_fetch, type_playload) => ({\n  type: type_fetch,\n  payload: { type_playload }\n});\n\nexport function fetchPage(post_id, post_types){\n  return dispatch => {\n    dispatch(fetchPageBegin(FETCH_PAGE_BEGIN));\n    return axios.get(`${urlWP}/get_page_content?post_id=${post_id}&post_types_listed=${post_types}`)\n      .then((response) => {\n        var {data} = response;\n        dispatch(fetchPageSuccess(FETCH_PAGE_SUCCESS, data));\n        return data;\n      })\n      .catch(error => dispatch(fetchPageFailure(FETCH_PAGE_FAILURE, error)));\n  }\n}\n\n\nexport const fetchHomeBegin = () => ({\n  type: FETCH_HOME_BEGIN\n});\n\nexport const fetchHomeSuccess = home => ({\n    type: FETCH_HOME_SUCCESS,\n    payload: { home }\n});\n\nexport const fetchHomeFailure = error => ({\n    type: FETCH_HOME_FAILURE,\n    payload: { error }\n});\n\nexport function fetchHome(){\n  return dispatch => {\n    dispatch(fetchHomeBegin());\n    return axios.get(`${urlWP}/get_home_content/`)\n      .then((response) => {\n        var {data} = response;\n\n        dispatch(fetchHomeSuccess(data));\n        return data;\n      })\n      .catch(error => dispatch(fetchHomeFailure(error)));\n  }\n}\n\nexport const fetchFilterByCategoryBegin = () => ({\n  type: FETCH_FILTER_BY_CATEGORY_BEGIN\n});\n\nexport const fetchFilterByCategorySuccess = category => ({\n  type: FETCH_FILTER_BY_CATEGORY_SUCCESS,\n  payload: { category }\n});\n\nexport const fetchFilterByCategoryFailure = error => ({\n  type: FETCH_FILTER_BY_CATEGORY_FAILURE,\n  payload: { error }\n});\n\nexport function fetchFilterByCategory(){\n  return dispatch => {\n    dispatch(fetchFilterByCategoryBegin());\n    return axios.get(`${URL}/gift/categories`)\n      .then((response) => {\n        var {data} = response;\n        dispatch(fetchFilterByCategorySuccess(data));\n        return data;\n      })\n      .catch(error => dispatch(fetchFilterByCategoryFailure(error)));\n  }\n}\n\nexport const fetchAddCartBegin = () => ({\n  type: FETCH_ADD_CART_BEGIN\n});\n\nexport const fetchAddCartSuccess = cart => ({\n  type: FETCH_ADD_CART_SUCCESS,\n  payload: { cart }\n});\n\nexport const fetchAddCartFailure = error => ({\n  type: FETCH_ADD_CART_FAILURE,\n  payload: { error }\n});\n\nexport function fetchAddCart({id_user, id_event}, obj){\n  return dispatch => {\n    dispatch(fetchAddCartBegin());\n    return axios.post(`${URL}/cart/${id_event}/${id_user}`, obj)\n      .then((response) => {\n        var {data} = response;\n        dispatch(fetchAddCartSuccess(data));\n        return data;\n      })\n      .catch(error => dispatch(fetchAddCartFailure(error)));\n  }\n}\n\n\nexport const fetchGetCartBegin = () => ({\n  type: FETCH_GET_CART_BEGIN\n});\n\nexport const fetchGetCartSuccess = getCart => ({\n  type: FETCH_GET_CART_SUCCESS,\n  payload: { getCart }\n});\n\nexport const fetchGetCartFailure = error => ({\n  type: FETCH_GET_CART_FAILURE,\n  payload: { error }\n});\n\nexport function fetchGetCart({id_user, id_event}){\n  return dispatch => {\n    dispatch(fetchGetCartBegin());\n    return axios.get(`${URL}/cart/${id_event}/${id_user}`)\n      .then((response) => {\n        var {data} = response;\n        dispatch(fetchGetCartSuccess(data));\n        return data;\n      })\n      .catch(error => dispatch(fetchGetCartFailure(error)));\n  }\n}\n\nexport const fetchGetEventBegin = () => ({\n  type: FETCH_GET_EVENT_BEGIN\n});\n\nexport const fetchGetEventSuccess = event => ({\n  type: FETCH_GET_EVENT_SUCCESS,\n  payload: { event }\n});\n\nexport const fetchGetEventFailure = error => ({\n  type: FETCH_GET_EVENT_FAILURE,\n  payload: { error }\n});\n\nexport function fetchGetEvent(id){\n  return dispatch => {\n    dispatch(fetchGetEventBegin());\n    return axios.get(`${URL}/event/${id}`)\n      .then((response) => {\n        var {data} = response;\n        return axios.get(`${URL}/theme/${data.EVENTO.theme_id}/config`)\n        .then((response) => {\n          data.template = response.data;\n          dispatch(fetchGetEventSuccess(data));\n          return data;\n        })\n        \n      })\n      .catch(error => dispatch(fetchGetEventFailure(error)));\n  }\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}"]},"metadata":{},"sourceType":"module"}