{"ast":null,"code":"var _jsxFileName = \"/Users/rudolfo/Documents/projects/NetGift/src/components/TemasAdmin.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport { fetchThemes } from \"../actions/themesActions\";\nimport { fetchCategories, fetchSetCategories } from \"../actions/categoriesActions\";\nimport { Field, reduxForm } from 'redux-form';\nimport Loader from \"./Loader\";\nimport \"../assets/js/themes-filters.js\";\nimport { bgImage, bgColor, displayNone, defaultStyle } from \"./styleFunctions\";\n\nclass TemasAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.submit = item => {\n      var category_ids = [];\n      var search = item.search;\n\n      if (undefined !== item.categories) {\n        item.categories.map((categ, index) => {\n          if (categ) {\n            category_ids.push(index);\n          }\n        });\n      }\n\n      var d = new Date();\n      var date_start = null;\n      var date_end = null;\n      var one_day = 86400000;\n\n      switch (item.period) {\n        case 'hoje':\n          var month = d.getMonth() + 1;\n          month = 10 > month ? '0' + month : month;\n          date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n          d = new Date(d.getTime() + one_day);\n          month = d.getMonth() + 1;\n          month = 10 > month ? '0' + month : month;\n          date_end = d.getFullYear() + '-' + month + '-' + d.getDate();\n          break;\n\n        case 'ontem':\n          d = new Date(d.getTime() - one_day);\n          var month = d.getMonth() + 1;\n          month = 10 > month ? '0' + month : month;\n          date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n          d = new Date(d.getTime() + one_day);\n          month = d.getMonth() + 1;\n          month = 10 > month ? '0' + month : month;\n          date_end = d.getFullYear() + '-' + month + '-' + d.getDate();\n          break;\n\n        case 'semana':\n          d = new Date(d.getTime() + one_day);\n          var month = d.getMonth() + 1;\n          month = 10 > month ? '0' + month : month;\n          date_end = d.getFullYear() + '-' + month + '-' + d.getDate();\n          d = new Date(d.getTime() - d.getDay() * one_day);\n          month = d.getMonth() + 1;\n          month = 10 > month ? '0' + month : month;\n          date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n          break;\n\n        case 'mes':\n          d = new Date(d.getTime() + one_day);\n          var month = d.getMonth() + 1;\n          month = 10 > month ? '0' + month : month;\n          date_start = d.getFullYear() + '-' + month + '-01';\n          date_end = d.getFullYear() + '-' + month + '-' + d.getDate();\n          break;\n\n        case 'custom':\n          date_start = item.custom_date_from;\n          date_end = item.custom_date_to;\n          break;\n      }\n\n      category_ids = 0 !== category_ids.length ? category_ids : null;\n      this.props.dispatch(fetchThemes(search, category_ids, date_start, date_end, null, 1));\n      this.setState({\n        page: 2\n      });\n    };\n\n    this.state = {\n      current_categories: [],\n      page: 2\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(fetchThemes());\n    this.props.dispatch(fetchCategories('categories'));\n  }\n\n  getMoreThemes() {\n    // var cat = '' === $( '#categories' ).val() ? null : $( '#categories' ).val().split( ',' );\n    var cat = [];\n    $('.categories').map((index, category) => {\n      if (category.checked) {\n        cat.push($(category).attr('id'));\n      }\n    });\n    cat = 0 === cat.length ? null : cat;\n    var search = $('#search-field').val();\n    search = '' === search ? null : search;\n    var d = new Date();\n    var date_start = null;\n    var date_end = null;\n    var one_day = 86400000;\n\n    switch ($('input[name=period]:checked').val()) {\n      case 'hoje':\n        var month = d.getMonth() + 1;\n        month = 10 > month ? '0' + month : month;\n        date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n        d = new Date(d.getTime() + one_day);\n        month = d.getMonth() + 1;\n        month = 10 > month ? '0' + month : month;\n        date_end = d.getFullYear() + '-' + month + '-' + d.getDate();\n        break;\n\n      case 'ontem':\n        d = new Date(d.getTime() - one_day);\n        var month = d.getMonth() + 1;\n        month = 10 > month ? '0' + month : month;\n        date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n        d = new Date(d.getTime() + one_day);\n        month = d.getMonth() + 1;\n        month = 10 > month ? '0' + month : month;\n        date_end = d.getFullYear() + '-' + month + '-' + d.getDate();\n        break;\n\n      case 'semana':\n        d = new Date(d.getTime() + one_day);\n        var month = d.getMonth() + 1;\n        month = 10 > month ? '0' + month : month;\n        date_end = d.getFullYear() + '-' + month + '-' + d.getDate();\n        d = new Date(d.getTime() - d.getDay() * one_day);\n        month = d.getMonth() + 1;\n        month = 10 > month ? '0' + month : month;\n        date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n        break;\n\n      case 'mes':\n        d = new Date(d.getTime() + one_day);\n        var month = d.getMonth() + 1;\n        month = 10 > month ? '0' + month : month;\n        date_start = d.getFullYear() + '-' + month + '-01';\n        date_end = d.getFullYear() + '-' + month + '-' + d.getDate();\n        break;\n\n      case 'custom':\n        date_start = $('#custom-date-from');\n        date_end = $('#custom-date-to');\n        break;\n    }\n\n    this.props.dispatch(fetchThemes(search, cat, date_start, date_end, null, this.state.page)).then(res => {\n      this.setState({\n        page: this.state.page + 1\n      });\n    });\n  }\n\n  render() {\n    if (undefined !== this.props.categories && 0 !== this.props.categories.length) {\n      this.state.current_categories = this.props.categories;\n    }\n\n    const _this$props = this.props,\n          themes = _this$props.themes,\n          handleSubmit = _this$props.handleSubmit;\n    const items = themes.items,\n          error = themes.error,\n          loading = themes.loading,\n          loadingNext = themes.loadingNext;\n    var current_themes = '' !== items ? items : [];\n    console.log(current_themes);\n    return React.createElement(\"div\", {\n      className: \"wrap-content dashboard temas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-end flex-space\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Temas\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Edite, exclua ou crie novos temas\")), React.createElement(\"button\", {\n      className: \"gradient fullcolor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"temas/novo-tema\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Novo tema\")))), React.createElement(\"div\", {\n      className: \"wrap-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: handleSubmit(this.submit),\n      className: \"sidebar refinar flex flex-column theme-filter-form\",\n      name: \"theme_filter_form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"submit-form-button-hidden\",\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Filtrar\"), React.createElement(\"div\", {\n      className: \"title black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Refinar por\"), React.createElement(\"div\", {\n      className: \"sidebar-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Nome\"), React.createElement(Field, {\n      name: \"search\",\n      component: \"input\",\n      className: \"search\",\n      id: \"search-field\",\n      type: \"text\",\n      placeholder: \"Digite o nome do template\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"sidebar-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Categorias\"), this.state.current_categories.map((category, i) => {\n      var id = category.id;\n      var name = category.name;\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"filter-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(Field, {\n        name: \"categories[\" + id + \"]\",\n        component: \"input\",\n        className: \"categories category-\" + id,\n        type: \"checkbox\",\n        id: id,\n        value: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, name), React.createElement(\"span\", {\n        className: \"count\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      })));\n    })), React.createElement(\"div\", {\n      className: \"sidebar-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Data de Adi\\xE7\\xE3o\"), React.createElement(\"div\", {\n      className: \"filter-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"period\",\n      component: \"input\",\n      className: \"periods period-hoje\",\n      type: \"radio\",\n      id: \"hoje\",\n      value: \"hoje\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"hoje\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"Hoje\"))), React.createElement(\"div\", {\n      className: \"filter-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"period\",\n      component: \"input\",\n      className: \"periods period-ontem\",\n      type: \"radio\",\n      id: \"ontem\",\n      value: \"ontem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"ontem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"Ontem\"))), React.createElement(\"div\", {\n      className: \"filter-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"period\",\n      component: \"input\",\n      className: \"periods period-semana\",\n      type: \"radio\",\n      id: \"semana\",\n      value: \"semana\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"semana\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Essa semana\"))), React.createElement(\"div\", {\n      className: \"filter-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"period\",\n      component: \"input\",\n      className: \"periods period-mes\",\n      type: \"radio\",\n      id: \"mes\",\n      value: \"mes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"mes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Esse m\\xEAs\"))), React.createElement(\"div\", {\n      className: \"filter-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"period\",\n      component: \"input\",\n      className: \"periods period-custom\",\n      type: \"radio\",\n      id: \"custom\",\n      value: \"custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"custom\",\n      id: \"custom-period-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, \"Per\\xEDodo Personalizado\"))), React.createElement(\"div\", {\n      className: \"filter-item last date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"columns-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(Field, {\n      name: \"custom_date_from\",\n      component: \"input\",\n      className: \"periods period-custom-text\",\n      type: \"date\",\n      id: \"custom-date-from\",\n      placeholder: \"De\",\n      value: \"custom-date-from\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }), React.createElement(Field, {\n      name: \"custom_date_to\",\n      component: \"input\",\n      className: \"periods period-custom-text\",\n      type: \"date\",\n      id: \"custom-date-to\",\n      placeholder: \"Para\",\n      value: \"custom-date-to\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"showcase temas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, loading ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"templates\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, current_themes.map(theme => {\n      var bg_color = '';\n      var bg_img = '';\n\n      if (0 !== theme.sessions[0].sub_sessions[5].features.length) {\n        theme.sessions[0].sub_sessions[5].features.map(feature => {\n          if ('fundo_cor' === feature.name) {\n            bg_color = feature.value;\n          }\n\n          if ('imagem' === feature.name) {\n            bg_img = feature.value;\n          }\n        });\n      }\n\n      return React.createElement(\"div\", {\n        key: theme.id,\n        className: \"template\",\n        style: defaultStyle({\n          bgColor: bg_color,\n          backgroundImage: bg_img\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, theme.slug), React.createElement(\"p\", {\n        className: \"desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, theme.description), React.createElement(Link, {\n        to: {\n          pathname: \"/dashboard/temas/editar-tema/\".concat(theme.id)\n        },\n        className: \"gradient fullcolor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"Editar\")));\n    })), loadingNext ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }) : \"\", React.createElement(\"button\", {\n      onClick: () => this.getMoreThemes(),\n      class: \"btn-large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, \"Ver Mais\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  themes: state.themes,\n  categories: state.themeCategories.categories,\n  thematics: state.themeCategories.thematics\n});\n\nconst reduxFormFilters = reduxForm({\n  form: 'filters'\n})(TemasAdmin);\nexport default connect(mapStateToProps, {\n  fetchThemes\n})(reduxFormFilters);","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/components/TemasAdmin.js"],"names":["React","Component","Link","$","connect","fetchThemes","fetchCategories","fetchSetCategories","Field","reduxForm","Loader","bgImage","bgColor","displayNone","defaultStyle","TemasAdmin","submit","item","category_ids","search","undefined","categories","map","categ","index","push","d","Date","date_start","date_end","one_day","period","month","getMonth","getFullYear","getDate","getTime","getDay","custom_date_from","custom_date_to","length","props","dispatch","setState","page","state","current_categories","componentDidMount","getMoreThemes","cat","category","checked","attr","val","then","res","render","themes","handleSubmit","items","error","loading","loadingNext","current_themes","console","log","i","id","name","theme","bg_color","bg_img","sessions","sub_sessions","features","feature","value","backgroundImage","slug","description","pathname","mapStateToProps","themeCategories","thematics","reduxFormFilters","form"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {Link } from \"react-router-dom\";\nimport $ from 'jquery';\nimport { connect } from \"react-redux\";\nimport { fetchThemes } from \"../actions/themesActions\";\nimport { fetchCategories, fetchSetCategories } from \"../actions/categoriesActions\";\nimport {Field, reduxForm} from 'redux-form';\nimport Loader from \"./Loader\";\n\nimport \"../assets/js/themes-filters.js\";\n\nimport {bgImage, bgColor, displayNone, defaultStyle} from \"./styleFunctions\";\n\n\nclass TemasAdmin extends Component {\n\n  componentDidMount(){\n    this.props.dispatch(fetchThemes());\n    this.props.dispatch( fetchCategories( 'categories' ) );\n  }\n\n    submit = ( item ) => {\n        var category_ids = [];\n        var search       = item.search;\n\n        if ( undefined !== item.categories ) {\n            item.categories.map( ( categ, index ) => {\n                if ( categ ) {\n                    category_ids.push( index );\n                } \n            });\n        }\n\n        var d = new Date();\n        var date_start = null;\n        var date_end   = null;\n\n        var one_day    = 86400000;\n\n        switch ( item.period ) {\n            case 'hoje':\n                var month  = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n                d          = new Date( d.getTime() + one_day );\n                month      = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_end   = d.getFullYear() + '-' + month + '-' + d.getDate();\n                break;\n            case 'ontem':\n                d          = new Date( d.getTime() - one_day );\n                var month  = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n                d          = new Date( d.getTime() + one_day );\n                month      = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_end   = d.getFullYear() + '-' + month + '-' + d.getDate();\n                break;\n            case 'semana':\n                d          = new Date( d.getTime() + one_day );\n                var month  = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_end   = d.getFullYear() + '-' + month + '-' + d.getDate();\n                d          = new Date( d.getTime() - ( d.getDay() * one_day ) );\n                month      = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n                break;\n            case 'mes':\n                d          = new Date( d.getTime() + one_day );\n                var month  = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_start = d.getFullYear() + '-' + month + '-01';\n                date_end   = d.getFullYear() + '-' + month + '-' + d.getDate();\n                break;\n            case 'custom':\n                date_start = item.custom_date_from;\n                date_end   = item.custom_date_to;\n                break;\n        }\n\n        category_ids = 0 !== category_ids.length ? category_ids : null;\n        \n        this.props.dispatch( fetchThemes( search, category_ids, date_start, date_end, null, 1 ) );\n        this.setState({\n            page: 2\n        })\n    }\n\n    getMoreThemes(){\n        // var cat = '' === $( '#categories' ).val() ? null : $( '#categories' ).val().split( ',' );\n        var cat = [];\n        $( '.categories' ).map( ( index, category ) => {\n            if ( category.checked ) {\n                cat.push( $( category ).attr( 'id' ) );\n            }\n        });\n        cat = 0 === cat.length ? null : cat;\n        var search = $( '#search-field' ).val();\n        search = '' === search ? null : search;\n\n        var d = new Date();\n        var date_start = null;\n        var date_end   = null;\n\n        var one_day    = 86400000;\n\n        switch ( $( 'input[name=period]:checked' ).val() ) {\n            case 'hoje':\n                var month  = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n                d          = new Date( d.getTime() + one_day );\n                month      = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_end   = d.getFullYear() + '-' + month + '-' + d.getDate();\n                break;\n            case 'ontem':\n                d          = new Date( d.getTime() - one_day );\n                var month  = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n                d          = new Date( d.getTime() + one_day );\n                month      = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_end   = d.getFullYear() + '-' + month + '-' + d.getDate();\n                break;\n            case 'semana':\n                d          = new Date( d.getTime() + one_day );\n                var month  = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_end   = d.getFullYear() + '-' + month + '-' + d.getDate();\n                d          = new Date( d.getTime() - ( d.getDay() * one_day ) );\n                month      = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_start = d.getFullYear() + '-' + month + '-' + d.getDate();\n                break;\n            case 'mes':\n                d          = new Date( d.getTime() + one_day );\n                var month  = d.getMonth() + 1;\n                month      = 10 > month ? '0' + month : month;\n                date_start = d.getFullYear() + '-' + month + '-01';\n                date_end   = d.getFullYear() + '-' + month + '-' + d.getDate();\n                break;\n            case 'custom':\n                date_start = $( '#custom-date-from' );\n                date_end   = $( '#custom-date-to' );\n                break;\n        }\n    \n        this.props.dispatch(fetchThemes(search, cat, date_start, date_end, null, this.state.page))\n        .then((res) => {\n            this.setState({\n                page: this.state.page + 1\n              })\n        });\n      }\n\n    state = {\n        current_categories: [],\n        page: 2,\n    };\n\n  render() {\n    if ( undefined !== this.props.categories && 0 !== this.props.categories.length ) {\n        this.state.current_categories = this.props.categories;\n    }\n\n    const{ themes, handleSubmit } = this.props;\n    const {items, error, loading, loadingNext} = themes;\n\n    \n    var current_themes = '' !== items ? items : [];\n    console.log(current_themes)\n\n    return (\n      <div className=\"wrap-content dashboard temas\">\n\n        <div>\n            <div className=\"content-title\">\n                <div className=\"flex flex-end flex-space\">\n                    <div>\n                        <h1>Temas</h1>\n                        <h2>Edite, exclua ou crie novos temas</h2>\n                    </div>\n                    <button className=\"gradient fullcolor\">\n                        <Link to=\"temas/novo-tema\">\n                            Novo tema\n                        </Link>    \n                    </button>\n                </div>\n            </div>\n\n            <div className=\"wrap-body\">\n                <form onSubmit={handleSubmit( this.submit )} className=\"sidebar refinar flex flex-column theme-filter-form\" name=\"theme_filter_form\">\n                        <button id=\"submit-form-button-hidden\" hidden>Filtrar</button>\n                        <div className=\"title black\">Refinar por</div>\n\n                        <div className=\"sidebar-item\">\n                            <div className=\"title\">Nome</div>\n                            <Field\n                                name=\"search\"\n                                component=\"input\"\n                                className=\"search\"\n                                id=\"search-field\"\n                                type=\"text\"\n                                placeholder=\"Digite o nome do template\"\n                                />\n                        </div>\n\n                        <div className=\"sidebar-item\">\n                            <div className=\"title\">Categorias</div>\n                            {\n                                this.state.current_categories.map( ( category, i ) => {\n                                    var id = category.id;\n                                    var name = category.name;\n                                    return(\n                                        <div key={i} className=\"filter-item\">\n                                            <Field\n                                                name={\"categories[\" + id + \"]\" }\n                                                component=\"input\"\n                                                className={\"categories category-\" + id}\n                                                type=\"checkbox\"\n                                                id={id}\n                                                value={id}\n                                                />\n                                        \n                                            <label htmlFor={id}><span>{name}</span><span className=\"count\"></span></label>\n                                        </div>\n                                    )\n                                })\n                            }\n\n                        </div>\n\n                        <div className=\"sidebar-item\">\n                            <div className=\"title\">Data de Adição</div>\n\n                            <div className=\"filter-item\">\n                                <Field\n                                    name={\"period\"}\n                                    component=\"input\"\n                                    className={\"periods period-hoje\"}\n                                    type=\"radio\"\n                                    id=\"hoje\"\n                                    value=\"hoje\"\n                                    />\n                                <label htmlFor=\"hoje\"><span>Hoje</span></label>\n                            </div>\n\n                            <div className=\"filter-item\">\n                                <Field\n                                    name={\"period\"}\n                                    component=\"input\"\n                                    className={\"periods period-ontem\"}\n                                    type=\"radio\"\n                                    id=\"ontem\"\n                                    value=\"ontem\"\n                                    />\n                                <label htmlFor=\"ontem\"><span>Ontem</span></label>\n                            </div>\n\n                            <div className=\"filter-item\">\n                                <Field\n                                    name={\"period\"}\n                                    component=\"input\"\n                                    className={\"periods period-semana\"}\n                                    type=\"radio\"\n                                    id=\"semana\"\n                                    value=\"semana\"\n                                    />\n                                <label htmlFor=\"semana\"><span>Essa semana</span></label>\n                            </div>\n\n                            <div className=\"filter-item\">\n                                <Field\n                                    name={\"period\"}\n                                    component=\"input\"\n                                    className={\"periods period-mes\"}\n                                    type=\"radio\"\n                                    id=\"mes\"\n                                    value=\"mes\"\n                                    />\n                                <label htmlFor=\"mes\"><span>Esse mês</span></label>\n                            </div>\n\n                            <div className=\"filter-item\">\n                                <Field\n                                    name={\"period\"}\n                                    component=\"input\"\n                                    className={\"periods period-custom\"}\n                                    type=\"radio\"\n                                    id=\"custom\"\n                                    value=\"custom\"\n                                    />\n                                <label htmlFor=\"custom\" id=\"custom-period-label\"><span>Período Personalizado</span></label>\n                            </div>\n\n                            <div className=\"filter-item last date\">\n                                <div className=\"columns-2\">\n                                    <Field\n                                        name={\"custom_date_from\"}\n                                        component=\"input\"\n                                        className={\"periods period-custom-text\"}\n                                        type=\"date\"\n                                        id=\"custom-date-from\"\n                                        placeholder=\"De\"\n                                        value=\"custom-date-from\"\n                                        />\n                                    <Field\n                                        name={\"custom_date_to\"}\n                                        component=\"input\"\n                                        className={\"periods period-custom-text\"}\n                                        type=\"date\"\n                                        id=\"custom-date-to\"\n                                        placeholder=\"Para\"\n                                        value=\"custom-date-to\"\n                                        />\n                                </div>\n                            </div>\n\n\n                        </div>\n\n                </form>\n                <div className=\"showcase temas\">\n                    {\n                        loading ? <Loader /> : <div className=\"templates\">\n                        {\n                            current_themes.map((theme) => {\n                                    var bg_color = '';\n                                    var bg_img   = '';\n                                    if ( 0 !== theme.sessions[0].sub_sessions[5].features.length ) {\n                                        theme.sessions[0].sub_sessions[5].features.map( ( feature, ) => {\n                                            if ( 'fundo_cor' === feature.name ) {\n                                                bg_color = feature.value;\n                                            }\n\n                                            if ( 'imagem' === feature.name ) {\n                                                bg_img = feature.value;\n                                            }\n                                        });\n\n                                    }\n                                    return (\n                                    <div key={theme.id} className=\"template\" style={defaultStyle({bgColor: bg_color, backgroundImage: bg_img})}>\n                                        <div className=\"info\">\n                                            <p className=\"title\">{theme.slug}</p>\n                                            <p className=\"desc\">{theme.description}</p>\n                                            <Link to={{\n                                                    pathname: `/dashboard/temas/editar-tema/${theme.id}`,\n                                                }} className=\"gradient fullcolor\">Editar</Link>\n                                        </div>\n                                    </div>\n                                    ) \n                                \n                                \n                            })\n                        }\n                    </div>\n                    }\n                    {loadingNext ? <Loader /> : \"\"}\n                    <button onClick={() => this.getMoreThemes()} class=\"btn-large\">Ver Mais</button>\n                </div>\n            </div>\n          </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n    themes: state.themes,\n    categories: state.themeCategories.categories,\n    thematics: state.themeCategories.thematics,\n  })\n\nconst reduxFormFilters = reduxForm({form: 'filters'})(TemasAdmin);\n\nexport default connect(mapStateToProps, {fetchThemes})(reduxFormFilters);\n"]},"metadata":{},"sourceType":"module"}