{"ast":null,"code":"import axios from \"axios\";\nexport const AUTHENTICATED = \"authenticated_user\";\nexport const UNAUTHENTICATED = \"unauthenticated_user\";\nexport const AUTHENTICATION_ERROR = \"authentication_error\";\nexport const RETRIEVEPASS = \"retrievepass_user\";\nexport const UNRETRIEVEPASS = \"unretrievepass_user\";\nexport const RETRIVEPASS_ERROR = \"retrivepass_error\";\nexport const REGISTER = \"register_user\";\nexport const UNREGISTER = \"unregister_user\";\nexport const REGISTER_ERROR = \"register_error\";\nexport const MAKERETRIEVEPASS = \"makeretrievepass_user\";\nexport const MAKEUNRETRIEVEPASS = \"makeunretrievepass_user\";\nexport const MAKERETRIVEPASS_ERROR = \"makeretrivepass_error\";\nexport const FETCH_PRODUCTS_BEGIN = 'FETCH_PRODUCTS_BEGIN';\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS';\nexport const FETCH_PRODUCTS_FAILURE = 'FETCH_PRODUCTS_FAILURE';\nexport const FETCH_THEMES_BEGIN = 'FETCH_THEMES_BEGIN';\nexport const FETCH_THEMES_SUCCESS = 'FETCH_THEMES_SUCCESS';\nexport const FETCH_THEMES_FAILURE = 'FETCH_THEMES_FAILURE';\nexport const FETCH_CONTACT_BEGIN = 'FETCH_CONTACT_BEGIN';\nexport const FETCH_CONTACT_SUCCESS = 'FETCH_CONTACT_SUCCESS';\nexport const FETCH_CONTACT_FAILURE = 'FETCH_CONTACT_FAILURE';\nexport const FETCH_EVENTS_BEGIN = 'FETCH_EVENTS_BEGIN';\nexport const FETCH_EVENTS_FAILURE = 'FETCH_EVENTS_FAILURE';\nexport const FETCH_EVENTS_SUCCESS = 'FETCH_EVENTS_SUCCESS';\nexport const FETCH_HOME_BEGIN = 'FETCH_HOME_BEGIN';\nexport const FETCH_HOME_FAILURE = 'FETCH_HOME_FAILURE';\nexport const FETCH_HOME_SUCCESS = 'FETCH_HOME_SUCCESS';\nexport const FETCH_PAGE_BEGIN = 'FETCH_PAGE_BEGIN';\nexport const FETCH_PAGE_FAILURE = 'FETCH_PAGE_FAILURE';\nexport const FETCH_PAGE_SUCCESS = 'FETCH_PAGE_SUCCESS';\nconst URL = \"http://51.15.99.120:4700\";\nconst urlWP = \"http://www.localkindle.com.br/netgift_api/wp-json/ntgift/api\";\nconst config = {\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n};\nexport function signInAction({\n  email,\n  password\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"\".concat(URL, \"/login\"), {\n        \"email\": email,\n        \"password\": password,\n        \"facebook_id\": \"\"\n      }, config);\n      dispatch({\n        type: AUTHENTICATED\n      });\n      var jsonAux = JSON.stringify(res.data);\n      localStorage.setItem(\"user\", jsonAux);\n      history.push(\"/dashboard\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\nexport function retrievePassAction({\n  email\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"\".concat(URL, \"/users/password\"), {\n        \"email\": email\n      }, config);\n      dispatch({\n        type: RETRIEVEPASS\n      });\n      var jsonAux = JSON.stringify(res.data);\n    } catch (error) {\n      dispatch({\n        type: RETRIVEPASS_ERROR,\n        payload: \"Invalid email\"\n      });\n    }\n  };\n}\nexport function makeRetrievePassAction({\n  user_id,\n  password\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.put(\"\".concat(URL, \"/users/password/\") + user_id, {\n        \"password\": password\n      }, config);\n      dispatch({\n        type: RETRIEVEPASS\n      });\n      var jsonAux = JSON.stringify(res.data);\n    } catch (error) {\n      dispatch({\n        type: RETRIVEPASS_ERROR,\n        payload: \"Invalid email\"\n      });\n    }\n  };\n}\nexport function signInActionRegister({\n  email,\n  first_name,\n  last_name,\n  password\n}, history) {\n  console.log(email, first_name, last_name, password);\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"\".concat(URL, \"/users\"), {\n        \"email\": email,\n        \"first_name\": first_name,\n        \"last_name\": last_name,\n        \"facebook_id\": \"\",\n        \"telephone_ddd\": \"21\",\n        \"telephone\": \"987654321\",\n        \"admin\": 0,\n        \"password\": password\n      }, config);\n      dispatch({\n        type: REGISTER\n      });\n      var jsonAux = JSON.stringify(res.data);\n      localStorage.setItem(\"user\", jsonAux);\n      history.push(\"/cadastro-concluido\");\n    } catch (error) {\n      dispatch({\n        type: REGISTER_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\nexport const POSTEDTHEME = \"postedtheme\";\nexport const UNPOSTEDTHEME = \"unpostedtheme\";\nexport const POSTEDTHEMEERROR = \"postederror\";\nexport function addThemes(values, history) {\n  return async dispatch => {\n    console.log(values);\n  };\n}\nexport function signOutAction(history) {\n  localStorage.clear();\n  window.location = \"/login\";\n  return {\n    type: UNAUTHENTICATED\n  };\n}\nexport const fetchEventsBegin = () => ({\n  type: FETCH_EVENTS_BEGIN\n});\nexport const fetchEventsSuccess = events => ({\n  type: FETCH_EVENTS_SUCCESS,\n  payload: {\n    events\n  }\n});\nexport const fetchEventsFailure = error => ({\n  type: FETCH_EVENTS_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchEvents() {\n  return dispatch => {\n    dispatch(fetchEventsBegin());\n    return axios.get(\"\".concat(URL, \"/events/all\")).then(response => {\n      var data = response.data;\n      dispatch(fetchEventsSuccess(data));\n      return data;\n    }).catch(error => dispatch(fetchEventsFailure(error)));\n  };\n}\nexport const fetchHomeBegin = () => ({\n  type: FETCH_HOME_BEGIN\n});\n\nconst fetchPageBegin = type_fetch => ({\n  type: type_fetch\n});\n\nconst fetchPageSuccess = (type_fetch, page) => ({\n  type: type_fetch,\n  payload: {\n    page\n  }\n});\n\nconst fetchPageFailure = (type_fetch, type_playload) => ({\n  type: type_fetch,\n  payload: {\n    type_playload\n  }\n});\n\nexport function fetchPage(post_id, post_types) {\n  return dispatch => {\n    dispatch(fetchPageBegin(FETCH_PAGE_BEGIN));\n    return axios.get(\"\".concat(urlWP, \"/get_page_content?post_id=\").concat(post_id, \"&post_types_listed=\").concat(post_types)).then(response => {\n      var data = response.data;\n      dispatch(fetchPageSuccess(FETCH_PAGE_SUCCESS, data));\n      return data;\n    }).catch(error => dispatch(fetchPageFailure(FETCH_PAGE_FAILURE, error)));\n  };\n}\nexport const fetchHomeSuccess = home => ({\n  type: FETCH_HOME_SUCCESS,\n  payload: {\n    home\n  }\n});\nexport const fetchHomeFailure = error => ({\n  type: FETCH_HOME_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchHome() {\n  return dispatch => {\n    dispatch(fetchHomeBegin());\n    return axios.get(\"\".concat(urlWP, \"/get_home_content\")).then(response => {\n      var data = response.data;\n      dispatch(fetchHomeSuccess(data));\n      return data;\n    }).catch(error => dispatch(fetchHomeFailure(error)));\n  };\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/index.js"],"names":["axios","AUTHENTICATED","UNAUTHENTICATED","AUTHENTICATION_ERROR","RETRIEVEPASS","UNRETRIEVEPASS","RETRIVEPASS_ERROR","REGISTER","UNREGISTER","REGISTER_ERROR","MAKERETRIEVEPASS","MAKEUNRETRIEVEPASS","MAKERETRIVEPASS_ERROR","FETCH_PRODUCTS_BEGIN","FETCH_PRODUCTS_SUCCESS","FETCH_PRODUCTS_FAILURE","FETCH_THEMES_BEGIN","FETCH_THEMES_SUCCESS","FETCH_THEMES_FAILURE","FETCH_CONTACT_BEGIN","FETCH_CONTACT_SUCCESS","FETCH_CONTACT_FAILURE","FETCH_EVENTS_BEGIN","FETCH_EVENTS_FAILURE","FETCH_EVENTS_SUCCESS","FETCH_HOME_BEGIN","FETCH_HOME_FAILURE","FETCH_HOME_SUCCESS","FETCH_PAGE_BEGIN","FETCH_PAGE_FAILURE","FETCH_PAGE_SUCCESS","URL","urlWP","config","headers","signInAction","email","password","history","dispatch","res","post","type","jsonAux","JSON","stringify","data","localStorage","setItem","push","error","payload","retrievePassAction","makeRetrievePassAction","user_id","put","signInActionRegister","first_name","last_name","console","log","POSTEDTHEME","UNPOSTEDTHEME","POSTEDTHEMEERROR","addThemes","values","signOutAction","clear","window","location","fetchEventsBegin","fetchEventsSuccess","events","fetchEventsFailure","fetchEvents","get","then","response","catch","fetchHomeBegin","fetchPageBegin","type_fetch","fetchPageSuccess","page","fetchPageFailure","type_playload","fetchPage","post_id","post_types","fetchHomeSuccess","home","fetchHomeFailure","fetchHome","handleErrors","ok","Error","statusText"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nexport const AUTHENTICATED = \"authenticated_user\";\nexport const UNAUTHENTICATED = \"unauthenticated_user\";\nexport const AUTHENTICATION_ERROR = \"authentication_error\";\n\nexport const RETRIEVEPASS      = \"retrievepass_user\";\nexport const UNRETRIEVEPASS    = \"unretrievepass_user\";\nexport const RETRIVEPASS_ERROR = \"retrivepass_error\";\n\nexport const REGISTER        = \"register_user\";\nexport const UNREGISTER      = \"unregister_user\";\nexport const REGISTER_ERROR  = \"register_error\";\n\nexport const MAKERETRIEVEPASS      = \"makeretrievepass_user\";\nexport const MAKEUNRETRIEVEPASS    = \"makeunretrievepass_user\";\nexport const MAKERETRIVEPASS_ERROR = \"makeretrivepass_error\";\n\nexport const FETCH_PRODUCTS_BEGIN   = 'FETCH_PRODUCTS_BEGIN';\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS';\nexport const FETCH_PRODUCTS_FAILURE = 'FETCH_PRODUCTS_FAILURE';\n\nexport const FETCH_THEMES_BEGIN   = 'FETCH_THEMES_BEGIN';\nexport const FETCH_THEMES_SUCCESS = 'FETCH_THEMES_SUCCESS';\nexport const FETCH_THEMES_FAILURE = 'FETCH_THEMES_FAILURE';\n\nexport const FETCH_CONTACT_BEGIN   = 'FETCH_CONTACT_BEGIN';\nexport const FETCH_CONTACT_SUCCESS = 'FETCH_CONTACT_SUCCESS';\nexport const FETCH_CONTACT_FAILURE = 'FETCH_CONTACT_FAILURE';\n\n\nexport const FETCH_EVENTS_BEGIN   = 'FETCH_EVENTS_BEGIN';\nexport const FETCH_EVENTS_FAILURE = 'FETCH_EVENTS_FAILURE';\nexport const FETCH_EVENTS_SUCCESS = 'FETCH_EVENTS_SUCCESS';\n\nexport const FETCH_HOME_BEGIN   = 'FETCH_HOME_BEGIN';\nexport const FETCH_HOME_FAILURE = 'FETCH_HOME_FAILURE';\nexport const FETCH_HOME_SUCCESS = 'FETCH_HOME_SUCCESS';\n\nexport const FETCH_PAGE_BEGIN   = 'FETCH_PAGE_BEGIN';\nexport const FETCH_PAGE_FAILURE = 'FETCH_PAGE_FAILURE';\nexport const FETCH_PAGE_SUCCESS = 'FETCH_PAGE_SUCCESS';\n\n\nconst URL   = \"http://51.15.99.120:4700\";\nconst urlWP = \"http://www.localkindle.com.br/netgift_api/wp-json/ntgift/api\";\n\nconst config = {\n  headers: {\"Access-Control-Allow-Origin\": \"*\"},\n}\n\nexport function signInAction({ email, password }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/login`, { \"email\" : email, \"password\" : password, \"facebook_id\" : \"\" }, config);\n      dispatch({ type: AUTHENTICATED });\n      var jsonAux = JSON.stringify(res.data);\n      localStorage.setItem(\"user\", jsonAux);\n      history.push(\"/dashboard\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\n\nexport function retrievePassAction({ email }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/users/password`, { \"email\" : email }, config);\n      dispatch({ type: RETRIEVEPASS });\n      var jsonAux = JSON.stringify(res.data);\n    } catch (error) {\n      dispatch({\n        type: RETRIVEPASS_ERROR,\n        payload: \"Invalid email\"\n      });\n    }\n  };\n}\n\nexport function makeRetrievePassAction({ user_id, password }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.put(`${URL}/users/password/` + user_id, { \"password\" : password }, config);\n      dispatch({ type: RETRIEVEPASS });\n      var jsonAux = JSON.stringify(res.data);\n    } catch (error) {\n      dispatch({\n        type: RETRIVEPASS_ERROR,\n        payload: \"Invalid email\"\n      });\n    }\n  };\n}\n\nexport function signInActionRegister({ email, first_name, last_name, password }, history) {\n  console.log(email, first_name, last_name, password)\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/users`, { \n        \"email\" : email,\n        \"first_name\" : first_name, \n        \"last_name\" : last_name, \n        \"facebook_id\" : \"\", \n        \"telephone_ddd\": \"21\", \n        \"telephone\": \"987654321\", \n        \"admin\": 0,\n        \"password\" : password }, config);\n\n      dispatch({ type: REGISTER });\n      var jsonAux = JSON.stringify(res.data);\n      localStorage.setItem(\"user\", jsonAux);\n      history.push(\"/cadastro-concluido\");\n    } catch (error) {\n      dispatch({\n        type: REGISTER_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\n\nexport const POSTEDTHEME = \"postedtheme\";\nexport const UNPOSTEDTHEME = \"unpostedtheme\";\nexport const POSTEDTHEMEERROR = \"postederror\";\n\nexport function addThemes(values, history){\n\n  return async dispatch => {\n    console.log(values);\n  }\n\n}\n\nexport function signOutAction(history) {\n  localStorage.clear();\n  window.location = \"/login\";\n  return {\n    type: UNAUTHENTICATED\n  };\n}\n\nexport const fetchEventsBegin = () => ({\n    type: FETCH_EVENTS_BEGIN\n});\n\nexport const fetchEventsSuccess = events => ({\n    type: FETCH_EVENTS_SUCCESS,\n    payload: { events }\n});\n\nexport const fetchEventsFailure = error => ({\n    type: FETCH_EVENTS_FAILURE,\n    payload: { error }\n});\n\nexport function fetchEvents(){\n  return dispatch => {\n    dispatch(fetchEventsBegin());\n    return axios.get(`${URL}/events/all`)\n      .then((response) => {\n        var {data} = response;\n        dispatch(fetchEventsSuccess(data));\n        return data;\n      })\n      .catch(error => dispatch(fetchEventsFailure(error)));\n  }\n}\n\nexport const fetchHomeBegin = () => ({\n    type: FETCH_HOME_BEGIN\n});\n\nconst fetchPageBegin = type_fetch => ({\n  type: type_fetch\n});\n\nconst fetchPageSuccess = (type_fetch, page) => ({\n  type: type_fetch,\n  payload: { page }\n});\n\nconst fetchPageFailure = (type_fetch, type_playload) => ({\n  type: type_fetch,\n  payload: { type_playload }\n});\n\nexport function fetchPage(post_id, post_types){\n  return dispatch => {\n    dispatch(fetchPageBegin(FETCH_PAGE_BEGIN));\n    return axios.get(`${urlWP}/get_page_content?post_id=${post_id}&post_types_listed=${post_types}`)\n      .then((response) => {\n        var {data} = response;\n        dispatch(fetchPageSuccess(FETCH_PAGE_SUCCESS, data));\n        return data;\n      })\n      .catch(error => dispatch(fetchPageFailure(FETCH_PAGE_FAILURE, error)));\n  }\n}\n\nexport const fetchHomeSuccess = home => ({\n    type: FETCH_HOME_SUCCESS,\n    payload: { home }\n});\n\nexport const fetchHomeFailure = error => ({\n    type: FETCH_HOME_FAILURE,\n    payload: { error }\n});\n\nexport function fetchHome(){\n  return dispatch => {\n    dispatch(fetchHomeBegin());\n    return axios.get(`${urlWP}/get_home_content`)\n      .then((response) => {\n        var {data} = response;\n\n        dispatch(fetchHomeSuccess(data));\n        return data;\n      })\n      .catch(error => dispatch(fetchHomeFailure(error)));\n  }\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}\n"]},"metadata":{},"sourceType":"module"}