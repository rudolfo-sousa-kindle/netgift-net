{"ast":null,"code":"import axios from \"axios\";\nimport { parse } from \"path\";\nexport const FETCH_USER_COUNT_BEGIN = 'FETCH_USER_COUNT_BEGIN';\nexport const FETCH_USER_COUNT_SUCCESS = 'FETCH_USER_COUNT_SUCCESS';\nexport const FETCH_USER_COUNT_PASSADO_SUCCESS = 'FETCH_USER_COUNT_PASSADO_SUCCESS';\nexport const FETCH_USER_COUNT_FAILURE = 'FETCH_USER_COUNT_FAILURE';\nconst URL = \"http://51.15.99.120:4700\";\nconst config = {\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Headers\": \"*\"\n  }\n};\nexport const fetchUserCountBegin = () => ({\n  type: FETCH_USER_COUNT_BEGIN\n});\nexport const fetchUserCountSuccess = user => ({\n  type: FETCH_USER_COUNT_SUCCESS,\n  payload: {\n    user\n  }\n});\nexport const fetchUserCountPassadoSuccess = (userPassado, porcentagem) => ({\n  type: FETCH_USER_COUNT_PASSADO_SUCCESS,\n  payload: {\n    userPassado\n  },\n  porcentagem: {\n    porcentagem\n  }\n});\nexport const fetchUserCountFailure = error => ({\n  type: FETCH_USER_COUNT_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchUserCount() {\n  return dispatch => {\n    dispatch(fetchUserCountBegin());\n    return axios.get(\"\".concat(URL, \"/count/users/1\"), config).then(response => {\n      var totalAtual = 0;\n      var totalPassado = 0;\n      let data = response.data;\n      let total = data.total;\n      totalAtual = total;\n      dispatch(fetchUserCountSuccess(total));\n      axios.get(\"\".concat(URL, \"/count/users/7\"), config).then(response => {\n        let data = response.data;\n        let total = data.total;\n        totalPassado = total;\n        var porcentagem = totalPassado * 100 / total;\n        console.log(porcentagem);\n        dispatch(fetchUserCountPassadoSuccess(totalPassado, porcentagem));\n      });\n    }).catch(error => dispatch(fetchUserCountFailure(error)));\n  };\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/usersActions.js"],"names":["axios","parse","FETCH_USER_COUNT_BEGIN","FETCH_USER_COUNT_SUCCESS","FETCH_USER_COUNT_PASSADO_SUCCESS","FETCH_USER_COUNT_FAILURE","URL","config","headers","fetchUserCountBegin","type","fetchUserCountSuccess","user","payload","fetchUserCountPassadoSuccess","userPassado","porcentagem","fetchUserCountFailure","error","fetchUserCount","dispatch","get","then","response","totalAtual","totalPassado","data","total","console","log","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,MAAtB;AAEA,OAAO,MAAMC,sBAAsB,GAAK,wBAAjC;AACP,OAAO,MAAMC,wBAAwB,GAAK,0BAAnC;AACP,OAAO,MAAMC,gCAAgC,GAAK,kCAA3C;AACP,OAAO,MAAMC,wBAAwB,GAAG,0BAAjC;AAEP,MAAMC,GAAG,GAAK,0BAAd;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE;AAAC,mCAA+B,GAAhC;AAAqC,oCAAgC;AAArE;AADI,CAAf;AAIA,OAAO,MAAMC,mBAAmB,GAAG,OAAO;AACxCC,EAAAA,IAAI,EAAER;AADkC,CAAP,CAA5B;AAIP,OAAO,MAAMS,qBAAqB,GAAGC,IAAI,KAAK;AAC5CF,EAAAA,IAAI,EAAEP,wBADsC;AAE5CU,EAAAA,OAAO,EAAE;AAACD,IAAAA;AAAD;AAFmC,CAAL,CAAlC;AAKP,OAAO,MAAME,4BAA4B,GAAG,CAACC,WAAD,EAAcC,WAAd,MAA+B;AACzEN,EAAAA,IAAI,EAAEN,gCADmE;AAEzES,EAAAA,OAAO,EAAE;AAACE,IAAAA;AAAD,GAFgE;AAGzEC,EAAAA,WAAW,EAAE;AAACA,IAAAA;AAAD;AAH4D,CAA/B,CAArC;AAMP,OAAO,MAAMC,qBAAqB,GAAGC,KAAK,KAAK;AAC7CR,EAAAA,IAAI,EAAEL,wBADuC;AAE7CQ,EAAAA,OAAO,EAAE;AAAEK,IAAAA;AAAF;AAFoC,CAAL,CAAnC;AAKP,OAAO,SAASC,cAAT,GAA0B;AAE/B,SAAOC,QAAQ,IAAI;AAEfA,IAAAA,QAAQ,CAACX,mBAAmB,EAApB,CAAR;AAEF,WAAOT,KAAK,CAACqB,GAAN,WAAaf,GAAb,qBAAkCC,MAAlC,EACJe,IADI,CACEC,QAAD,IAAc;AAClB,UAAIC,UAAU,GAAG,CAAjB;AACA,UAAIC,YAAY,GAAG,CAAnB;AAFkB,UAIbC,IAJa,GAILH,QAJK,CAIbG,IAJa;AAAA,UAKbC,KALa,GAKJD,IALI,CAKbC,KALa;AAMlBH,MAAAA,UAAU,GAAGG,KAAb;AACAP,MAAAA,QAAQ,CAACT,qBAAqB,CAACgB,KAAD,CAAtB,CAAR;AAEA3B,MAAAA,KAAK,CAACqB,GAAN,WAAaf,GAAb,qBAAkCC,MAAlC,EACCe,IADD,CACOC,QAAD,IAAc;AAAA,YACbG,IADa,GACLH,QADK,CACbG,IADa;AAAA,YAEbC,KAFa,GAEJD,IAFI,CAEbC,KAFa;AAGlBF,QAAAA,YAAY,GAAGE,KAAf;AAEA,YAAIX,WAAW,GAAKS,YAAY,GAAC,GAAd,GAAqBE,KAAxC;AAEAC,QAAAA,OAAO,CAACC,GAAR,CAAYb,WAAZ;AAEAI,QAAAA,QAAQ,CAACN,4BAA4B,CAACW,YAAD,EAAeT,WAAf,CAA7B,CAAR;AAGD,OAbD;AAgBC,KA1BE,EA2BJc,KA3BI,CA2BEZ,KAAK,IAAIE,QAAQ,CAACH,qBAAqB,CAACC,KAAD,CAAtB,CA3BnB,CAAP;AA4BD,GAhCD;AAiCD","sourcesContent":["import axios from \"axios\";\nimport { parse } from \"path\";\n\nexport const FETCH_USER_COUNT_BEGIN   = 'FETCH_USER_COUNT_BEGIN';\nexport const FETCH_USER_COUNT_SUCCESS   = 'FETCH_USER_COUNT_SUCCESS';\nexport const FETCH_USER_COUNT_PASSADO_SUCCESS   = 'FETCH_USER_COUNT_PASSADO_SUCCESS';\nexport const FETCH_USER_COUNT_FAILURE = 'FETCH_USER_COUNT_FAILURE';\n\nconst URL   = \"http://51.15.99.120:4700\";\n\nconst config = {\n  headers: {\"Access-Control-Allow-Origin\": \"*\", \"Access-Control-Allow-Headers\": \"*\"},\n}\n\nexport const fetchUserCountBegin = () => ({\n  type: FETCH_USER_COUNT_BEGIN\n});\n\nexport const fetchUserCountSuccess = user => ({\n  type: FETCH_USER_COUNT_SUCCESS,\n  payload: {user}\n});\n\nexport const fetchUserCountPassadoSuccess = (userPassado, porcentagem) => ({\n  type: FETCH_USER_COUNT_PASSADO_SUCCESS,\n  payload: {userPassado},\n  porcentagem: {porcentagem}\n})\n\nexport const fetchUserCountFailure = error => ({\n  type: FETCH_USER_COUNT_FAILURE,\n  payload: { error }\n});\n\nexport function fetchUserCount() {\n\n  return dispatch => {\n\n      dispatch(fetchUserCountBegin());\n\n    return axios.get(`${URL}/count/users/1`, config)\n      .then((response) => {\n        var totalAtual = 0;\n        var totalPassado = 0;\n\n        let {data} = response;\n        let {total} = data;\n        totalAtual = total;\n        dispatch(fetchUserCountSuccess(total))\n\n        axios.get(`${URL}/count/users/7`, config)\n        .then((response) => {\n          let {data} = response;\n          let {total} = data;\n          totalPassado = total;\n\n          var porcentagem = ((totalPassado*100) / total);\n\n          console.log(porcentagem)\n\n          dispatch(fetchUserCountPassadoSuccess(totalPassado, porcentagem))\n\n\n        })\n\n\n        })\n      .catch(error => dispatch(fetchUserCountFailure(error)));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}