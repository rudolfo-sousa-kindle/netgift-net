{"ast":null,"code":"var _jsxFileName = \"/Users/rudolfo/Documents/projects/NetGift/src/components/DashboardAdminHome.js\";\nimport React, { Component } from \"react\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport { connect } from \"react-redux\";\nimport Extrato from \"./ExtratoAdmin\";\nimport GridCards from \"./GridCards\";\nimport { fetchUserCount, fetchUserSites } from \"../actions/usersActions\";\nimport { fetchExtratoAbstract } from \"../actions/extratoActions\";\nimport Select from 'react-select';\nimport $ from \"jquery\";\n\nclass Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.change = () => {\n      let periodo = $(\"#filter-date\").val();\n      this.props.fetchUserCount(periodo);\n      this.props.fetchExtratoAbstract(null, null, null, null, null, null, 1, parseInt(periodo));\n    };\n\n    this.filter = () => {\n      var search = $('#nome-usuario').val();\n      var date_start = $('#inicio-periodo').val();\n      var date_end = $('#fim-periodo').val();\n      var payment_type = $('#select2-tipo-pagamento-container').val();\n      var payment_method = $('#select2-forma-pagamento-container').val();\n      var status = $('#status').val();\n      var periodo = $(\"#filter-date\").val();\n      search = '' === search ? null : search;\n      date_start = '' === date_start ? null : date_start;\n      date_end = '' === date_end ? null : date_end;\n      this.props.fetchExtratoAbstract(search, date_start, date_end, payment_type, payment_method, status, 1, parseInt(periodo));\n      this.setState({\n        page: 2\n      });\n    };\n  }\n\n  componentDidMount() {\n    // setSelect2();\n    this.props.fetchUserCount();\n    this.props.fetchUserSites();\n    this.props.fetchExtratoAbstract(null, null, null, null, null, null, 1, 1);\n  }\n\n  render() {\n    const _this$props$usersCoun = this.props.usersCount,\n          total = _this$props$usersCoun.total,\n          totalPassado = _this$props$usersCoun.totalPassado,\n          loading = _this$props$usersCoun.loading,\n          error = _this$props$usersCoun.error,\n          porcentagem = _this$props$usersCoun.porcentagem,\n          totalSites = _this$props$usersCoun.totalSites,\n          totalSitePassado = _this$props$usersCoun.totalSitePassado,\n          porcentagemSites = _this$props$usersCoun.porcentagemSites;\n    console.log(totalSites);\n    const loadingExtrato = this.props.extrato.loading;\n    const extrato = this.props.extrato.extrato;\n    const dashboard = extrato.dashboard;\n    const extratoOld = this.props.extrato.extratoOld;\n    const extratoAbstract = this.props.extratoAbstract;\n    var totalOld; // console.log(extratoOld)\n\n    if (extratoOld) {\n      totalOld = extratoOld.dashboard.total;\n    }\n\n    var faturamento;\n    var recebido;\n\n    if (extratoAbstract) {\n      faturamento = extratoAbstract.dashboard.total.toFixed(2).replace(\".\", \",\");\n      recebido = extratoAbstract.dashboard.netgift.recebido.toFixed(2).replace(\".\", \",\");\n    } else {\n      faturamento = \"--\";\n      recebido = \"--\";\n    }\n\n    return React.createElement(\"div\", {\n      className: \"wrap-content home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-baseline flex-space\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Dashboard\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Voc\\xEA est\\xE1 no painel principal\")), React.createElement(\"div\", {\n      className: \"filter-admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Select, {\n      onChange: () => this.change(),\n      options: [{\n        value: 1,\n        label: 'Diário'\n      }, {\n        value: 7,\n        label: 'Semanal'\n      }, {\n        value: 30,\n        label: 'Mensal'\n      }],\n      isSearchable: false,\n      id: \"filter-date\",\n      className: \"select-filter-admin select-filter-date\",\n      name: \"filter_date\",\n      closeMenuOnSelect: true,\n      placeholder: \"Di\\xE1rio\",\n      noOptionsMessage: () => {\n        return \"Tipo não encontrado.\";\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"wrap-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(GridCards, {\n      totalUser: total,\n      totalUserPassado: totalPassado,\n      porcentagem: porcentagem ? porcentagem : \"--\",\n      totalSites: totalSites ? totalSites : \"--\",\n      totalSitePassado: totalSitePassado ? totalSitePassado : \"--\",\n      porcentagemSites: porcentagemSites ? porcentagemSites : \"--\",\n      loading: loading,\n      faturamento: dashboard ? faturamento : \"--\",\n      recebido: dashboard ? recebido : \"--\",\n      totalOld: totalOld ? totalOld : \"--\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(Extrato, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  extrato: state.extrato,\n  usersCount: state.usersCount,\n  extrato: state.extrato,\n  extratoAbstract: state.extrato.extratoAbstract\n});\n\nexport default connect(mapStateToProps, {\n  fetchUserCount,\n  fetchUserSites,\n  fetchExtratoAbstract\n})(Dashboard);","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/components/DashboardAdminHome.js"],"names":["React","Component","setSelect2","connect","Extrato","GridCards","fetchUserCount","fetchUserSites","fetchExtratoAbstract","Select","$","Dashboard","change","periodo","val","props","parseInt","filter","search","date_start","date_end","payment_type","payment_method","status","setState","page","componentDidMount","render","usersCount","total","totalPassado","loading","error","porcentagem","totalSites","totalSitePassado","porcentagemSites","console","log","loadingExtrato","extrato","dashboard","extratoOld","extratoAbstract","totalOld","faturamento","recebido","toFixed","replace","netgift","value","label","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport { connect } from \"react-redux\";\nimport Extrato from \"./ExtratoAdmin\";\nimport GridCards from \"./GridCards\";\nimport {fetchUserCount, fetchUserSites} from \"../actions/usersActions\";\nimport { fetchExtratoAbstract } from \"../actions/extratoActions\";\nimport Select from 'react-select';\n\nimport $ from \"jquery\";\n\nclass Dashboard extends Component {\n\n    componentDidMount(){\n        // setSelect2();\n        this.props.fetchUserCount();\n        this.props.fetchUserSites();\n        this.props.fetchExtratoAbstract(null, null, null, null, null, null, 1, 1);\n    }\n\n    change = () => {\n        let periodo = $( \"#filter-date\" ).val();\n        this.props.fetchUserCount( periodo );\n        this.props.fetchExtratoAbstract( null, null, null, null, null, null, 1, parseInt( periodo ) );\n    }\n\n    filter = () => {\n        var search         = $( '#nome-usuario' ).val();\n        var date_start     = $( '#inicio-periodo' ).val();\n        var date_end       = $( '#fim-periodo' ).val();\n        var payment_type   = $( '#select2-tipo-pagamento-container' ).val();\n        var payment_method = $( '#select2-forma-pagamento-container' ).val();\n        var status         = $( '#status' ).val();\n        var periodo        = $(\"#filter-date\").val();\n\n        search     = '' === search ? null : search;\n        date_start = '' === date_start ? null : date_start;\n        date_end   = '' === date_end ? null : date_end;\n        \n        this.props.fetchExtratoAbstract( search, date_start, date_end, payment_type, payment_method, status, 1, parseInt( periodo ) );\n        this.setState({\n            page: 2\n        })\n    }\n\n\n    render() {\n        const {total, totalPassado, loading, error, porcentagem, totalSites, totalSitePassado, porcentagemSites} = this.props.usersCount;\n        console.log(totalSites)\n        const loadingExtrato = this.props.extrato.loading;\n        const {extrato} = this.props.extrato;\n        const {dashboard} = extrato;\n        const {extratoOld} = this.props.extrato;\n        const extratoAbstract = this.props.extratoAbstract;\n        var totalOld;\n        \n        // console.log(extratoOld)\n        \n        if(extratoOld){\n            totalOld = extratoOld.dashboard.total\n        }\n\n\n        var faturamento;\n        var recebido;\n        if(extratoAbstract){\n            faturamento = extratoAbstract.dashboard.total.toFixed(2).replace(\".\", \",\")\n            recebido = extratoAbstract.dashboard.netgift.recebido.toFixed(2).replace(\".\", \",\")\n        }else{\n            faturamento = \"--\"\n            recebido = \"--\"\n        }\n\n        return (\n            <div className=\"wrap-content home\">\n                <div className=\"content-title\">\n                    <div className=\"flex flex-baseline flex-space\">\n                        <div>\n                            <h1>Dashboard</h1>\n                            <h2>Você está no painel principal</h2>\n                        </div>\n                        <div className=\"filter-admin\">\n                            <Select\n                                onChange={() => this.change()}\n                                options={[\n                                    {value: 1, label: 'Diário'},\n                                    {value: 7, label: 'Semanal'},\n                                    {value: 30, label: 'Mensal'},\n                                ]}\n                                isSearchable={false}\n                                id=\"filter-date\"\n                                className=\"select-filter-admin select-filter-date\"\n                                name=\"filter_date\"\n                                closeMenuOnSelect={true}\n                                placeholder=\"Diário\"\n                                noOptionsMessage={() => { return \"Tipo não encontrado.\" }}\n                            />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"wrap-body\">\n                    <GridCards \n                        totalUser={total}\n                        totalUserPassado={totalPassado}\n                        porcentagem={porcentagem ? porcentagem : \"--\"}\n                        totalSites={totalSites ? totalSites : \"--\"}\n                        totalSitePassado={totalSitePassado ? totalSitePassado : \"--\"}\n                        porcentagemSites={porcentagemSites ? porcentagemSites : \"--\"}\n                        loading={loading}\n                        faturamento={dashboard ? faturamento : \"--\"}\n                        recebido={dashboard ? recebido : \"--\"}\n                        totalOld={totalOld ? totalOld : \"--\"}\n                    />\n                </div>\n                <Extrato />\n            </div>\n        )\n    }\n}\nconst mapStateToProps = state => ({\n    extrato: state.extrato,\n    usersCount: state.usersCount,\n    extrato: state.extrato,\n    extratoAbstract : state.extrato.extratoAbstract\n  })\n\nexport default connect(mapStateToProps, {fetchUserCount, fetchUserSites, fetchExtratoAbstract})(Dashboard);"]},"metadata":{},"sourceType":"module"}