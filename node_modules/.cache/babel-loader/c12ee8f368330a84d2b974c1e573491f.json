{"ast":null,"code":"import axios from \"axios\";\nexport const FETCH_EVENT_BEGIN = 'FETCH_EVENT_BEGIN';\nexport const FETCH_EVENTS_BEGIN_NEXT = 'FETCH_EVENTS_BEGIN_NEXT';\nexport const FETCH_EVENT_SUCCESS = 'FETCH_EVENT_SUCCESS';\nexport const FETCH_ONEEVENT_SUCCESS = 'FETCH_ONEEVENT_SUCCESS';\nexport const FETCH_EVENTCATEGORIES_SUCCESS = 'FETCH_EVENTCATEGORIES_SUCCESS';\nexport const FETCH_EVENT_FAILURE = 'FETCH_EVENT_FAILURE';\nexport const SEND_EVENT_SUCCESS = 'SEND_EVENT_SUCCESS';\nexport const FETCH_FINANCIAL_BEGIN = 'FETCH_FINANCIAL_BEGIN';\nexport const FETCH_FINANCIAL_SUCCESS = 'FETCH_FINANCIAL_SUCCESS';\nexport const FETCH_FINANCIAL_FAILURE = 'FETCH_FINANCIAL_FAILURE';\nconst URL = \"http://51.15.99.120:4700\";\nconst config = {\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Headers\": \"*\"\n  }\n};\nexport const fetchEventsBegin = () => ({\n  type: FETCH_EVENT_BEGIN\n});\nexport const fetchEventsBeginNextLine = () => ({\n  type: FETCH_EVENTS_BEGIN_NEXT\n});\nexport const fetchEventsSuccess = events => ({\n  type: FETCH_EVENT_SUCCESS,\n  payload: {\n    events\n  }\n});\nexport const fetchEventSuccess = event => ({\n  type: FETCH_ONEEVENT_SUCCESS,\n  payload: {\n    event\n  }\n});\nexport const fetchEventsFailure = error => ({\n  type: FETCH_EVENT_FAILURE,\n  payload: {\n    error\n  }\n});\nexport const sendEventSuccess = data => ({\n  type: SEND_EVENT_SUCCESS,\n  payload: {\n    data\n  }\n});\nvar count = 0;\nvar events = [];\nexport function fetchEvents() {\n  return dispatch => {\n    if (count < 1) {\n      dispatch(fetchEventsBegin());\n    } else {\n      dispatch(fetchEventsBeginNextLine());\n    }\n\n    count++;\n    return axios.post(\"\".concat(URL, \"/events/search/10/\") + count, config).then(response => {\n      var data = response.data;\n      console.log(data);\n      events.push(data); // if(search){\n\n      dispatch(fetchEventsSuccess(data)); // }else{\n      //   dispatch(fetchEventsSuccess(events));\n      // }\n\n      return events;\n    }).catch(error => dispatch(fetchEventsFailure(error)));\n  };\n}\nexport const fetchFinancialBegin = () => ({\n  type: FETCH_FINANCIAL_BEGIN\n});\nexport const fetchFinancialSuccess = financial => ({\n  type: FETCH_FINANCIAL_SUCCESS,\n  payload: {\n    financial\n  }\n});\nexport const fetchFinancialFailure = error => ({\n  type: FETCH_FINANCIAL_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchFinancial(id) {\n  return dispatch => {\n    return axios.get(\"\".concat(URL, \"/financial/\").concat(id, \"/10/1\"), config).then(response => {\n      var data = response.data;\n      dispatch(fetchFinancialSuccess(data));\n      return data;\n    }).catch(error => dispatch(fetchFinancialFailure(error)));\n  };\n} // export function fetchGiftCategories(){\n//   return dispatch => {\n//     dispatch(fetchGiftsBegin());\n//     return axios.get(`${URL}/gift/categories`, config)\n//       .then((response) => {\n//         var {data} = response;\n//         dispatch(fetchGiftsCategoriesSuccess(data));\n//         return data;\n//         })\n//       .catch(error => dispatch(fetchGiftsFailure(error)));\n//   };\n// }\n// export function fetchGift(id){\n//   return dispatch => {\n//     dispatch(fetchGiftsBegin());\n//     return axios.get(`${URL}/gift/` + id, config)\n//       .then((response) => {\n//         var {data} = response;\n//         dispatch(fetchGiftSuccess(data));\n//         return data;\n//       })\n//       .catch(error => dispatch(fetchGiftsFailure(error)));\n//   }\n// }\n// export function sendGift({description, nome_presente, image, category_id, price}, history){\n//   return async dispatch => {\n//     dispatch(fetchGiftsBegin());\n//     var categoria = 1;\n//     categoria = category_id.split(\",\");\n//     var priceFloat = parseFloat(price);\n//     var categoryFloat = parseFloat(category_id);\n//     axios.post(`${URL}/gift`, { \"name\" : nome_presente ,\"description\" : description, \"image\" : image, \"price\" : priceFloat, \"category_id\" : categoryFloat }, config)\n//       .then((response) => {\n//         var {data} = response;\n//         for(var i = 1; i < categoria.length; i++){\n//           var item = categoria[i];\n//           axios.post(`${URL}/gift/` + data.id + `/category/` + item)\n//           .then((res) => {\n//             console.log(res)\n//           })\n//         }\n//         dispatch(sendGiftSuccess(data.success));\n//         return data;\n//       })\n//       .catch(error => dispatch(fetchGiftsFailure(error)));\n//   }\n// }\n// export function editGift({description, nome_presente, image, category_id, price}, history, id){\n//   return async dispatch => {\n//     dispatch(fetchGiftsBegin());\n//     var priceFloat = parseFloat(price);\n//     var categoryFloat = parseFloat(category_id);\n//     axios.put(`${URL}/gift/${id}`, { \"name\" : nome_presente ,\"description\" : description, \"image\" : image, \"price\" : priceFloat }, config)\n//       .then((response) => {\n//         var {data} = response;\n//         return data;\n//       })\n//       .catch(error => dispatch(fetchGiftsFailure(error)));\n//   }\n// }","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/eventsActions.js"],"names":["axios","FETCH_EVENT_BEGIN","FETCH_EVENTS_BEGIN_NEXT","FETCH_EVENT_SUCCESS","FETCH_ONEEVENT_SUCCESS","FETCH_EVENTCATEGORIES_SUCCESS","FETCH_EVENT_FAILURE","SEND_EVENT_SUCCESS","FETCH_FINANCIAL_BEGIN","FETCH_FINANCIAL_SUCCESS","FETCH_FINANCIAL_FAILURE","URL","config","headers","fetchEventsBegin","type","fetchEventsBeginNextLine","fetchEventsSuccess","events","payload","fetchEventSuccess","event","fetchEventsFailure","error","sendEventSuccess","data","count","fetchEvents","dispatch","post","then","response","console","log","push","catch","fetchFinancialBegin","fetchFinancialSuccess","financial","fetchFinancialFailure","fetchFinancial","id","get"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nexport const FETCH_EVENT_BEGIN   = 'FETCH_EVENT_BEGIN';\nexport const FETCH_EVENTS_BEGIN_NEXT   = 'FETCH_EVENTS_BEGIN_NEXT';\nexport const FETCH_EVENT_SUCCESS = 'FETCH_EVENT_SUCCESS';\nexport const FETCH_ONEEVENT_SUCCESS = 'FETCH_ONEEVENT_SUCCESS';\nexport const FETCH_EVENTCATEGORIES_SUCCESS = 'FETCH_EVENTCATEGORIES_SUCCESS';\nexport const FETCH_EVENT_FAILURE = 'FETCH_EVENT_FAILURE';\nexport const SEND_EVENT_SUCCESS = 'SEND_EVENT_SUCCESS';\nexport const FETCH_FINANCIAL_BEGIN   = 'FETCH_FINANCIAL_BEGIN';\nexport const FETCH_FINANCIAL_SUCCESS = 'FETCH_FINANCIAL_SUCCESS';\nexport const FETCH_FINANCIAL_FAILURE = 'FETCH_FINANCIAL_FAILURE';\n\nconst URL   = \"http://51.15.99.120:4700\";\n\nconst config = {\n  headers: {\"Access-Control-Allow-Origin\": \"*\", \"Access-Control-Allow-Headers\": \"*\"},\n}\n\nexport const fetchEventsBegin = () => ({\n  type: FETCH_EVENT_BEGIN\n});\n\nexport const fetchEventsBeginNextLine = () => ({\n  type: FETCH_EVENTS_BEGIN_NEXT\n});\n\nexport const fetchEventsSuccess = events => ({\n  type: FETCH_EVENT_SUCCESS,\n  payload: { events }\n});\n\nexport const fetchEventSuccess = event => ({\n  type: FETCH_ONEEVENT_SUCCESS,\n  payload: { event }\n});\n\n\nexport const fetchEventsFailure = error => ({\n  type: FETCH_EVENT_FAILURE,\n  payload: { error }\n});\n\nexport const sendEventSuccess = data => ({\n  type: SEND_EVENT_SUCCESS,\n  payload: { data }\n})\n\nvar count = 0;\nvar events = [];\n\nexport function fetchEvents() {\n\n  return dispatch => {\n    if( count < 1){\n      dispatch(fetchEventsBegin());\n    }else{\n      dispatch(fetchEventsBeginNextLine());\n    }\n    count++;\n    return axios.post(`${URL}/events/search/10/` + count, config)\n      .then((response) => {\n        var {data} = response;\n        console.log(data)\n        events.push(data);\n        // if(search){\n          dispatch(fetchEventsSuccess(data));\n        // }else{\n        //   dispatch(fetchEventsSuccess(events));\n        // }\n        return events;\n        })\n      .catch(error => dispatch(fetchEventsFailure(error)));\n  };\n}\n\nexport const fetchFinancialBegin = () => ({\n  type: FETCH_FINANCIAL_BEGIN\n});\nexport const fetchFinancialSuccess = financial => ({\n  type: FETCH_FINANCIAL_SUCCESS,\n  payload: { financial }\n});\nexport const fetchFinancialFailure = error => ({\n  type: FETCH_FINANCIAL_FAILURE,\n  payload: { error }\n});\n\nexport function fetchFinancial(id) {\n\n  return dispatch => {\n    return axios.get(`${URL}/financial/${id}/10/1`, config)\n      .then((response) => {\n        var {data} = response;\n        dispatch(fetchFinancialSuccess(data));\n\n        return data;\n        })\n      .catch(error => dispatch(fetchFinancialFailure(error)));\n  };\n}\n\n// export function fetchGiftCategories(){\n//   return dispatch => {\n//     dispatch(fetchGiftsBegin());\n//     return axios.get(`${URL}/gift/categories`, config)\n//       .then((response) => {\n//         var {data} = response;\n//         dispatch(fetchGiftsCategoriesSuccess(data));\n//         return data;\n//         })\n//       .catch(error => dispatch(fetchGiftsFailure(error)));\n//   };\n// }\n\n// export function fetchGift(id){\n//   return dispatch => {\n//     dispatch(fetchGiftsBegin());\n//     return axios.get(`${URL}/gift/` + id, config)\n//       .then((response) => {\n//         var {data} = response;\n//         dispatch(fetchGiftSuccess(data));\n//         return data;\n//       })\n//       .catch(error => dispatch(fetchGiftsFailure(error)));\n//   }\n// }\n\n// export function sendGift({description, nome_presente, image, category_id, price}, history){\n//   return async dispatch => {\n//     dispatch(fetchGiftsBegin());\n//     var categoria = 1;\n//     categoria = category_id.split(\",\");\n//     var priceFloat = parseFloat(price);\n//     var categoryFloat = parseFloat(category_id);\n//     axios.post(`${URL}/gift`, { \"name\" : nome_presente ,\"description\" : description, \"image\" : image, \"price\" : priceFloat, \"category_id\" : categoryFloat }, config)\n//       .then((response) => {\n//         var {data} = response;\n//         for(var i = 1; i < categoria.length; i++){\n//           var item = categoria[i];\n//           axios.post(`${URL}/gift/` + data.id + `/category/` + item)\n//           .then((res) => {\n//             console.log(res)\n//           })\n//         }\n//         dispatch(sendGiftSuccess(data.success));\n//         return data;\n//       })\n//       .catch(error => dispatch(fetchGiftsFailure(error)));\n//   }\n// }\n\n// export function editGift({description, nome_presente, image, category_id, price}, history, id){\n//   return async dispatch => {\n//     dispatch(fetchGiftsBegin());\n//     var priceFloat = parseFloat(price);\n//     var categoryFloat = parseFloat(category_id);\n//     axios.put(`${URL}/gift/${id}`, { \"name\" : nome_presente ,\"description\" : description, \"image\" : image, \"price\" : priceFloat }, config)\n//       .then((response) => {\n//         var {data} = response;\n//         return data;\n//       })\n//       .catch(error => dispatch(fetchGiftsFailure(error)));\n//   }\n// }\n"]},"metadata":{},"sourceType":"module"}