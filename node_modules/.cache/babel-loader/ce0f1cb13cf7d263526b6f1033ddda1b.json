{"ast":null,"code":"import axios from \"axios\";\nconst URL = \"http://51.15.99.120:4700\";\nexport const FETCH_CREATE_EVENT_BEGIN = 'FETCH_CREATE_EVENT_BEGIN';\nexport const FETCH_CREATE_EVENT_SUCCESS = 'FETCH_CREATE_EVENT_SUCCESS';\nexport const FETCH_CREATE_EVENT_FAILURE = 'FETCH_CREATE_EVENT_FAILURE';\nexport const fetchCreateEventBegin = () => ({\n  type: FETCH_CREATE_EVENT_BEGIN\n});\nexport const fetchCreateEventSuccess = createEvent => ({\n  type: FETCH_CREATE_EVENT_SUCCESS,\n  payload: {\n    createEvent\n  }\n});\nexport const fetchCreateEventFailure = error => ({\n  type: FETCH_CREATE_EVENT_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchCreateEvent(obj, history) {\n  return dispatch => {\n    dispatch(fetchCreateEventBegin());\n    return axios.post(\"\".concat(URL, \"/event\"), obj).then(response => {\n      var data = response.data;\n      dispatch(fetchCreateEventSuccess(data));\n      var user = localStorage.getItem('user');\n      user = JSON.parse(user);\n      var user_id = user.id; //history.push(`/dashboard/home/${data.event.id}`);\n\n      var EVENT = data;\n      var EVENT_ID = data.event.id;\n      console.log(EVENT);\n      return axios.post(\"\".concat(URL, \"/event/\").concat(data.event.id, \"/user/\").concat(user_id)).then(response => {\n        var data = response.data;\n        dispatch(fetchCreateEventSuccess(EVENT)); //history.push(`/dashboard/home/${data.event.id}`);\n\n        window.location.href = \"/dashboard/home/\".concat(EVENT_ID);\n        return EVENT;\n      });\n      return EVENT;\n    }).catch(error => dispatch(fetchCreateEventFailure(error)));\n  };\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/createEventAction.js"],"names":["axios","URL","FETCH_CREATE_EVENT_BEGIN","FETCH_CREATE_EVENT_SUCCESS","FETCH_CREATE_EVENT_FAILURE","fetchCreateEventBegin","type","fetchCreateEventSuccess","createEvent","payload","fetchCreateEventFailure","error","fetchCreateEvent","obj","history","dispatch","post","then","response","data","user","localStorage","getItem","JSON","parse","user_id","id","EVENT","EVENT_ID","event","console","log","window","location","href","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,GAAG,GAAK,0BAAd;AAEA,OAAO,MAAMC,wBAAwB,GAAK,0BAAnC;AACP,OAAO,MAAMC,0BAA0B,GAAG,4BAAnC;AACP,OAAO,MAAMC,0BAA0B,GAAG,4BAAnC;AAGP,OAAO,MAAMC,qBAAqB,GAAG,OAAO;AACxCC,EAAAA,IAAI,EAAEJ;AADkC,CAAP,CAA9B;AAIP,OAAO,MAAMK,uBAAuB,GAAGC,WAAW,KAAK;AACnDF,EAAAA,IAAI,EAAEH,0BAD6C;AAEnDM,EAAAA,OAAO,EAAE;AAAED,IAAAA;AAAF;AAF0C,CAAL,CAA3C;AAKP,OAAO,MAAME,uBAAuB,GAAGC,KAAK,KAAK;AAC7CL,EAAAA,IAAI,EAAEF,0BADuC;AAE7CK,EAAAA,OAAO,EAAE;AAAEE,IAAAA;AAAF;AAFoC,CAAL,CAArC;AAKP,OAAO,SAASC,gBAAT,CAA0BC,GAA1B,EAA+BC,OAA/B,EAAuC;AAC1C,SAAOC,QAAQ,IAAI;AACjBA,IAAAA,QAAQ,CAACV,qBAAqB,EAAtB,CAAR;AACA,WAAOL,KAAK,CAACgB,IAAN,WAAcf,GAAd,aAA2BY,GAA3B,EACJI,IADI,CACEC,QAAD,IAAc;AAAA,UACbC,IADa,GACLD,QADK,CACbC,IADa;AAElBJ,MAAAA,QAAQ,CAACR,uBAAuB,CAACY,IAAD,CAAxB,CAAR;AACE,UAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;AACAF,MAAAA,IAAI,GAAGG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;AACA,UAAIK,OAAO,GAAGL,IAAI,CAACM,EAAnB,CALgB,CAMhB;;AACA,UAAIC,KAAK,GAAMR,IAAf;AACA,UAAIS,QAAQ,GAAGT,IAAI,CAACU,KAAL,CAAWH,EAA1B;AACEI,MAAAA,OAAO,CAACC,GAAR,CAAaJ,KAAb;AACF,aAAO3B,KAAK,CAACgB,IAAN,WAAcf,GAAd,oBAA2BkB,IAAI,CAACU,KAAL,CAAWH,EAAtC,mBAAiDD,OAAjD,GACNR,IADM,CACAC,QAAD,IAAc;AAAA,YACbC,IADa,GACLD,QADK,CACbC,IADa;AAElBJ,QAAAA,QAAQ,CAACR,uBAAuB,CAACoB,KAAD,CAAxB,CAAR,CAFkB,CAGlB;;AACAK,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,6BAA0CN,QAA1C;AAEA,eAAOD,KAAP;AACD,OARM,CAAP;AAUF,aAAOA,KAAP;AACD,KAtBI,EAuBJQ,KAvBI,CAuBExB,KAAK,IAAII,QAAQ,CAACL,uBAAuB,CAACC,KAAD,CAAxB,CAvBnB,CAAP;AAwBD,GA1BD;AA2BH","sourcesContent":["import axios from \"axios\";\nconst URL   = \"http://51.15.99.120:4700\";\n\nexport const FETCH_CREATE_EVENT_BEGIN   = 'FETCH_CREATE_EVENT_BEGIN';\nexport const FETCH_CREATE_EVENT_SUCCESS = 'FETCH_CREATE_EVENT_SUCCESS';\nexport const FETCH_CREATE_EVENT_FAILURE = 'FETCH_CREATE_EVENT_FAILURE';\n\n\nexport const fetchCreateEventBegin = () => ({\n    type: FETCH_CREATE_EVENT_BEGIN\n});\n\nexport const fetchCreateEventSuccess = createEvent => ({\n    type: FETCH_CREATE_EVENT_SUCCESS,\n    payload: { createEvent }\n});\n\nexport const fetchCreateEventFailure = error => ({\n    type: FETCH_CREATE_EVENT_FAILURE,\n    payload: { error }\n});\n\nexport function fetchCreateEvent(obj, history){\n    return dispatch => {\n      dispatch(fetchCreateEventBegin());\n      return axios.post(`${URL}/event`, obj)\n        .then((response) => {\n          var {data} = response;\n          dispatch(fetchCreateEventSuccess(data));\n            var user = localStorage.getItem('user');\n            user = JSON.parse(user);\n            var user_id = user.id;\n            //history.push(`/dashboard/home/${data.event.id}`);\n            var EVENT    = data;\n            var EVENT_ID = data.event.id;\n              console.log( EVENT )\n            return axios.post(`${URL}/event/${data.event.id}/user/${user_id}`)\n            .then((response) => {\n              var {data} = response;\n              dispatch(fetchCreateEventSuccess(EVENT));\n              //history.push(`/dashboard/home/${data.event.id}`);\n              window.location.href = `/dashboard/home/${EVENT_ID}`;\n\n              return EVENT;\n            })\n\n          return EVENT;\n        })\n        .catch(error => dispatch(fetchCreateEventFailure(error)));\n    }\n}"]},"metadata":{},"sourceType":"module"}