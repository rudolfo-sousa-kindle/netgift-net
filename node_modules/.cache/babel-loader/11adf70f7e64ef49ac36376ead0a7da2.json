{"ast":null,"code":"import axios from \"axios\";\nimport $ from \"jquery\";\nimport Snackbar from 'node-snackbar';\nconst URL = \"http://51.15.99.120:4700\";\nexport const FETCH_ADD_USER_BEGIN = 'FETCH_ADD_USER_BEGIN';\nexport const FETCH_ADD_USER_SUCCESS = 'FETCH_ADD_USER_SUCCESS';\nexport const FETCH_ADD_USER_FAILURE = 'FETCH_ADD_USER_FAILURE';\nexport const FETCH_PICTURE_USER_BEGIN = 'FETCH_PICTURE_USER_BEGIN';\nexport const FETCH_PICTURE_USER_SUCCESS = 'FETCH_PICTURE_USER_SUCCESS';\nexport const FETCH_PICTURE_USER_FAILURE = 'FETCH_PICTURE_USER_FAILURE';\nexport const fetchAddUserBegin = () => ({\n  type: FETCH_ADD_USER_BEGIN\n});\nexport const fetchAddUserSuccess = addUser => ({\n  type: FETCH_ADD_USER_SUCCESS,\n  payload: {\n    addUser\n  }\n});\nexport const fetchAddUserFailure = error => ({\n  type: FETCH_ADD_USER_FAILURE,\n  payload: {\n    error\n  }\n});\nexport const fetchPictureUserBegin = () => ({\n  type: FETCH_PICTURE_USER_BEGIN\n});\nexport const fetchPictureUserSuccess = pictureUser => ({\n  type: FETCH_PICTURE_USER_SUCCESS,\n  payload: {\n    pictureUser\n  }\n});\nexport const fetchPictureUserFailure = error => ({\n  type: FETCH_PICTURE_USER_FAILURE,\n  payload: {\n    error\n  }\n});\nexport function fetchAddUser(id_event, id_user, obj) {\n  return dispatch => {\n    dispatch(fetchAddUserBegin());\n    return axios.post(\"\".concat(URL, \"/painel/\").concat(id_event, \"/users\"), obj).then(response => {\n      var data = response.data;\n      dispatch(fetchAddUserSuccess(data));\n      setTimeout(() => {\n        Snackbar.show({\n          pos: 'bottom-center',\n          text: 'Usuário adicionado com sucesso',\n          backgroundColor: '#8332f5',\n          showAction: false,\n          duration: 5000\n        });\n      }, 1000);\n      return axios.put(\"\".concat(URL, \"/users/\").concat(id_user, \"/picture\")).then(response => {\n        var data = response.data;\n        dispatch(fetchPictureUserSuccess(data));\n        return data;\n      }).catch(error => dispatch(fetchPictureUserFailure(error)));\n    }).catch(error => {\n      setTimeout(() => {\n        Snackbar.show({\n          pos: 'bottom-center',\n          text: 'Não foi possível adicionar o usuário',\n          backgroundColor: '#da1e1e',\n          showAction: false,\n          duration: 5000\n        });\n      }, 1000);\n      dispatch(fetchAddUserFailure(error));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/addUserAction.js"],"names":["axios","$","Snackbar","URL","FETCH_ADD_USER_BEGIN","FETCH_ADD_USER_SUCCESS","FETCH_ADD_USER_FAILURE","FETCH_PICTURE_USER_BEGIN","FETCH_PICTURE_USER_SUCCESS","FETCH_PICTURE_USER_FAILURE","fetchAddUserBegin","type","fetchAddUserSuccess","addUser","payload","fetchAddUserFailure","error","fetchPictureUserBegin","fetchPictureUserSuccess","pictureUser","fetchPictureUserFailure","fetchAddUser","id_event","id_user","obj","dispatch","post","then","response","data","setTimeout","show","pos","text","backgroundColor","showAction","duration","put","catch"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport $ from \"jquery\";\nimport Snackbar from 'node-snackbar';\n\nconst URL   = \"http://51.15.99.120:4700\";\n\nexport const FETCH_ADD_USER_BEGIN   = 'FETCH_ADD_USER_BEGIN';\nexport const FETCH_ADD_USER_SUCCESS = 'FETCH_ADD_USER_SUCCESS';\nexport const FETCH_ADD_USER_FAILURE = 'FETCH_ADD_USER_FAILURE';\n\nexport const FETCH_PICTURE_USER_BEGIN   = 'FETCH_PICTURE_USER_BEGIN';\nexport const FETCH_PICTURE_USER_SUCCESS = 'FETCH_PICTURE_USER_SUCCESS';\nexport const FETCH_PICTURE_USER_FAILURE = 'FETCH_PICTURE_USER_FAILURE';\n\nexport const fetchAddUserBegin = () => ({\n    type: FETCH_ADD_USER_BEGIN\n});\n\nexport const fetchAddUserSuccess = addUser => ({\n    type: FETCH_ADD_USER_SUCCESS,\n    payload: { addUser }\n});\n\nexport const fetchAddUserFailure = error => ({\n    type: FETCH_ADD_USER_FAILURE,\n    payload: { error }\n});\n\nexport const fetchPictureUserBegin = () => ({\n  type: FETCH_PICTURE_USER_BEGIN\n});\n\nexport const fetchPictureUserSuccess = pictureUser => ({\n  type: FETCH_PICTURE_USER_SUCCESS,\n  payload: { pictureUser }\n});\n\nexport const fetchPictureUserFailure = error => ({\n  type: FETCH_PICTURE_USER_FAILURE,\n  payload: { error }\n});\n\nexport function fetchAddUser(id_event, id_user, obj){\n    return dispatch => {\n      dispatch(fetchAddUserBegin());\n      return axios.post(`${URL}/painel/${id_event}/users`, obj)\n        .then((response) => {\n          var {data} = response;\n          dispatch(fetchAddUserSuccess(data));\n          setTimeout(() => {\n            Snackbar.show({\n                pos: 'bottom-center',\n                text: 'Usuário adicionado com sucesso',\n                backgroundColor: '#8332f5',\n                showAction: false,\n                duration: 5000\n            });\n          }, 1000);\n          \n          return axios.put(`${URL}/users/${id_user}/picture`)\n          .then((response) => {\n            var {data} = response;\n            dispatch(fetchPictureUserSuccess(data));\n            return data;\n          })\n          .catch(error => dispatch(fetchPictureUserFailure(error)));\n        })\n        .catch(error => {\n          setTimeout(() => {\n            Snackbar.show({\n                pos: 'bottom-center',\n                text: 'Não foi possível adicionar o usuário',\n                backgroundColor: '#da1e1e',\n                showAction: false,\n                duration: 5000\n            });\n          }, 1000);\n\n          dispatch(fetchAddUserFailure(error))\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}