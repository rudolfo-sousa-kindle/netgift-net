{"ast":null,"code":"import axios from \"axios\";\nexport const AUTHENTICATED = \"authenticated_user\";\nexport const UNAUTHENTICATED = \"unauthenticated_user\";\nexport const AUTHENTICATION_ERROR = \"authentication_error\";\nexport const GET_GIFTS = \"get_gifts\";\nconst URL = \"http://51.15.99.120:4700\";\nconst config = {\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n};\nexport function signInAction({\n  email,\n  password\n}, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(\"\".concat(URL, \"/login\"), {\n        email,\n        password\n      }, config);\n      dispatch({\n        type: AUTHENTICATED\n      });\n      localStorage.setItem(\"user\", res.data);\n      history.push(\"/dashboard\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\nexport function getAllGifts(props) {\n  return dispatch => {\n    axios.get(\"\".concat(URL, \"/gift\")).then(res => {\n      dispatch({\n        type: GET_GIFTS,\n        payload: res\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/actions/index.js"],"names":["axios","AUTHENTICATED","UNAUTHENTICATED","AUTHENTICATION_ERROR","GET_GIFTS","URL","config","headers","signInAction","email","password","history","dispatch","res","post","type","localStorage","setItem","data","push","error","payload","getAllGifts","props","get","then"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,aAAa,GAAG,oBAAtB;AACP,OAAO,MAAMC,eAAe,GAAG,sBAAxB;AACP,OAAO,MAAMC,oBAAoB,GAAG,sBAA7B;AACP,OAAO,MAAMC,SAAS,GAAG,WAAlB;AAEP,MAAMC,GAAG,GAAG,0BAAZ;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE;AAAC,mCAA+B;AAAhC;AADI,CAAf;AAIA,OAAO,SAASC,YAAT,CAAsB;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAtB,EAA2CC,OAA3C,EAAoD;AACzD,SAAO,MAAMC,QAAN,IAAkB;AACvB,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMb,KAAK,CAACc,IAAN,WAAcT,GAAd,aAA2B;AAAEI,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAA3B,EAAgDJ,MAAhD,CAAlB;AACAM,MAAAA,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAEd;AAAR,OAAD,CAAR;AACAe,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BJ,GAAG,CAACK,IAAjC;AACAP,MAAAA,OAAO,CAACQ,IAAR,CAAa,YAAb;AACD,KALD,CAKE,OAAOC,KAAP,EAAc;AACdR,MAAAA,QAAQ,CAAC;AACPG,QAAAA,IAAI,EAAEZ,oBADC;AAEPkB,QAAAA,OAAO,EAAE;AAFF,OAAD,CAAR;AAID;AACF,GAZD;AAaD;AAED,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACjC,SAAQX,QAAD,IAAc;AACnBZ,IAAAA,KAAK,CAACwB,GAAN,WAAanB,GAAb,YACCoB,IADD,CACOZ,GAAD,IAAS;AACbD,MAAAA,QAAQ,CAAC;AACPG,QAAAA,IAAI,EAAEX,SADC;AAEPiB,QAAAA,OAAO,EAAER;AAFF,OAAD,CAAR;AAID,KAND;AAOD,GARD;AASD","sourcesContent":["import axios from \"axios\";\nexport const AUTHENTICATED = \"authenticated_user\";\nexport const UNAUTHENTICATED = \"unauthenticated_user\";\nexport const AUTHENTICATION_ERROR = \"authentication_error\";\nexport const GET_GIFTS = \"get_gifts\";\n\nconst URL = \"http://51.15.99.120:4700\";\n\nconst config = {\n  headers: {\"Access-Control-Allow-Origin\": \"*\"}\n}\n\nexport function signInAction({ email, password }, history) {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`${URL}/login`, { email, password }, config);\n      dispatch({ type: AUTHENTICATED });\n      localStorage.setItem(\"user\", res.data);\n      history.push(\"/dashboard\");\n    } catch (error) {\n      dispatch({\n        type: AUTHENTICATION_ERROR,\n        payload: \"Invalid email or password\"\n      });\n    }\n  };\n}\n\nexport function getAllGifts(props) {\n  return (dispatch) => {\n    axios.get(`${URL}/gift`)\n    .then((res) => {\n      dispatch({\n        type: GET_GIFTS,\n        payload: res\n      });\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}