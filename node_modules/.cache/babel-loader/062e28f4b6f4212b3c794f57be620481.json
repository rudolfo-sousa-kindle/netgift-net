{"ast":null,"code":"var _jsxFileName = \"/Users/rudolfo/Documents/projects/NetGift/src/components/UsuariosAdmin.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport { setMasonry, reloadUsuariosCard } from \"../assets/js/setMasonry\";\nimport { Field, reduxForm } from 'redux-form';\nimport Loader from \"./Loader\";\nimport Creatable from 'react-select/creatable';\nimport Select from 'react-select';\nimport $ from \"jquery\";\nimport { fetchEvents, fetchFinancial } from \"../actions/eventsActions\";\nimport { fetchInvited } from \"../actions/invitedAction\";\nimport { setIdNotified } from \"../actions/notificarActions\";\nimport { fetchNotificacoesAdminPerUser } from \"../actions/notificacoesAdminActions\";\nimport \"select2\";\nimport fotoUser from \"../assets/imgs/foto-user.png\";\nimport checked from \"../assets/imgs/checked.svg\";\n\nclass UsuariosAdmin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      financials: {},\n      inviteds: {},\n      events: [],\n      page: 2,\n      page_old: 0\n    };\n  }\n\n  componentDidMount() {\n    setSelect2();\n    var user_admin = this;\n    $(document).on('select2:select', function (event) {\n      var data = event.params.data;\n      $('#status_filter_' + data.id).val(data.selected);\n      user_admin.filter();\n    });\n    $(document).on('select2:unselect', function (event) {\n      var data = event.params.data;\n      $('#status_filter_' + data.id).val(data.selected);\n      user_admin.filter();\n    });\n    this.props.dispatch(fetchEvents()).then(res => {\n      // console.log(res)\n      setMasonry();\n      res.map(item => {\n        item.map((event, index) => {\n          if (event.notified) {// console.log(event)\n            // Get notifieds per user_id TODO\n          }\n\n          this.props.dispatch(fetchFinancial(event.id)).then(response => {\n            this.setState(state => {\n              var event_id = event.id;\n              state.financials[event_id] = response;\n              return state;\n            });\n          });\n          this.props.dispatch(fetchInvited(event.id)).then(response => {\n            this.setState(state => {\n              var event_id = event.id;\n              state.inviteds[event_id] = response;\n              return state;\n            });\n          });\n        });\n      });\n      this.state.page = 2;\n    });\n  }\n\n  paginate() {\n    this.props.dispatch(fetchEvents()).then(res => {\n      // console.log(res)\n      res.map(item => {\n        item.map((event, index) => {\n          if (event.notified) {// console.log(event)\n            // Get notifieds per user_id TODO\n          }\n\n          this.props.dispatch(fetchFinancial(event.id)).then(response => {\n            this.setState(state => {\n              var event_id = event.id;\n              state.financials[event_id] = response;\n              return state;\n            });\n          });\n          this.props.dispatch(fetchInvited(event.id)).then(response => {\n            this.setState(state => {\n              var event_id = event.id;\n              state.inviteds[event_id] = response;\n              return state;\n            });\n          });\n        });\n      });\n      this.state.page++;\n      setTimeout(function () {\n        reloadUsuariosCard();\n      }, 1000);\n    });\n  }\n\n  filter() {\n    var publicado = '' !== $('#status_filter_publicado').val() ? $('#status_filter_publicado').val() : 'false';\n    var suspenso = '' !== $('#status_filter_suspenso').val() ? $('#status_filter_suspenso').val() : 'false';\n    var finalizado = '' !== $('#status_filter_finalizado').val() ? $('#status_filter_finalizado').val() : 'false';\n    var notificados = '' !== $('#status_filter_notificados').val() ? $('#status_filter_notificados').val() : 'false';\n    publicado = 'true' === publicado ? true : null;\n    suspenso = 'true' === suspenso ? true : null;\n    finalizado = 'true' === finalizado ? true : null;\n    notificados = 'true' === notificados ? true : null;\n    this.props.dispatch(fetchEvents(true, publicado, suspenso, finalizado, notificados)).then(res => {\n      // console.log(res)\n      res.map(item => {\n        item.map((event, index) => {\n          if (event.notified) {// console.log(event)\n            // Get notifieds per user_id TODO\n          }\n\n          this.props.dispatch(fetchFinancial(event.id)).then(response => {\n            this.setState(state => {\n              var event_id = event.id;\n              state.financials[event_id] = response;\n              return state;\n            });\n          });\n          this.props.dispatch(fetchInvited(event.id)).then(response => {\n            this.setState(state => {\n              var event_id = event.id;\n              state.inviteds[event_id] = response;\n              return state;\n            });\n          });\n        });\n      });\n      this.state.page = 2;\n      this.state.page_old = 0;\n      this.state.events = [];\n      setTimeout(function () {\n        reloadUsuariosCard();\n      }, 1000);\n    });\n  }\n\n  notifiedUser(id) {\n    this.props.dispatch(setIdNotified(id));\n  }\n\n  getDetails(id) {\n    this.props.dispatch(fetchNotificacoesAdminPerUser(id));\n  }\n\n  render() {\n    $('#filter-status').on('select2:select', function (e) {\n      var data = e.params.data;\n      change(data);\n    });\n\n    function change(data) {}\n\n    const _this$props$events = this.props.events,\n          items = _this$props$events.items,\n          loading = _this$props$events.loading,\n          error = _this$props$events.error;\n\n    if (this.state.page !== this.state.page_old && 0 !== items.length) {\n      this.state.events = this.state.events.concat(items);\n      this.state.page_old = this.state.page;\n    }\n\n    var financials;\n    var inviteds;\n    financials = this.state.financials;\n    inviteds = this.state.inviteds;\n    return React.createElement(\"div\", {\n      className: \"wrap-content usuarios\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex flex-baseline flex-space\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Controle de festas\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Controle o conte\\xFAdo das featas publicadas e as notifica\\xE7\\xF5es de cada usu\\xE1rio\")), React.createElement(\"div\", {\n      className: \"filter-admin filter-status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      id: \"status_filter_publicado\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"hidden\",\n      id: \"status_filter_suspenso\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"hidden\",\n      id: \"status_filter_finalizado\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"hidden\",\n      id: \"status_filter_notificados\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      name: \"filter_admin\",\n      onChange: () => this.filter(),\n      id: \"filter-status\",\n      className: \"select-filter-admin select-filter-status\",\n      multiple: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"publicado\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Publicado\"), React.createElement(\"option\", {\n      value: \"suspenso\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Suspenso\"), React.createElement(\"option\", {\n      value: \"finalizado\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Finalizado\"), React.createElement(\"option\", {\n      value: \"notificados\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Notificados\"))))), React.createElement(\"div\", {\n      className: \"content-festas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grid-festas\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"box-festas-sizer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), loading ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }) : this.state.events.map((item, i) => {\n      var user_img = item.created_by.picture_path ? item.created_by.picture_path : fotoUser;\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"box-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: item.suspended ? \"header-festas suspenso\" : \"header-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"event\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, item.category.name), React.createElement(\"div\", {\n        className: \"flex flex-space flex-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"title-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, item.name), item.notified ? React.createElement(\"div\", {\n        className: \"notification\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"notificado\") : \"\"), React.createElement(\"p\", {\n        className: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"\".concat(item.date).replace(\"-\", \"/\"), \", \", item.hour), React.createElement(\"div\", {\n        className: \"buttons-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/festa/' + item.id,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"gradient fullcolor\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Ver site\")), React.createElement(\"button\", {\n        onClick: () => this.notifiedUser(item.id),\n        className: \"btn-notificar hover-shadow toggle-aside\",\n        \"data-open\": \"notificar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"Notificar usu\\xE1rio\"))), React.createElement(\"div\", {\n        className: \"main-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"info-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dados-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"text-purple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Criado em\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, new Date(item.created_at).toLocaleDateString('pt-br'))), React.createElement(\"div\", {\n        className: \"dados-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"text-purple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: item.suspended ? \"icon-status icon-red\" : \"icon-status icon-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }), \" \", item.suspended ? \"Suspenso\" : \"Publicado\"))), React.createElement(\"div\", {\n        className: \"info-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dados-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"text-purple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Convidados\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, undefined !== inviteds[item.id] && '' !== inviteds[item.id] ? inviteds[item.id].Todos : '0')), React.createElement(\"div\", {\n        className: \"dados-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"text-purple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"Arrecadado\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, undefined !== financials[item.id] ? financials[item.id].dashboard.recebido.toLocaleString('pt-br', {\n        style: 'currency',\n        currency: 'BRL'\n      }) : \"\"))), React.createElement(\"div\", {\n        className: \"perfil-user dados-festas flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: user_img,\n        alt: \"\",\n        className: \"foto-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"name-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, item.created_by.first_name, \" \", item.created_by.last_name), React.createElement(\"p\", {\n        className: \"email-user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, item.created_by.email), React.createElement(\"a\", {\n        href: \"#\",\n        className: \"text-purple ver-perfil\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Ver perfil\")))), React.createElement(\"div\", {\n        className: \"footer-festas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => this.getDetails(item.id),\n        className: \"btn-ver-detalhes toggle-aside\",\n        \"data-open\": \"detalhes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"ver detalhes (\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"9\"), \")\")));\n    })), React.createElement(\"button\", {\n      className: \"btn-large\",\n      onClick: () => this.paginate(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Ver Mais\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  events: state.eventsAdmin,\n  financial: state.financial\n});\n\nconst reduxFormFilters = reduxForm({\n  form: 'filters'\n})(UsuariosAdmin);\nexport default connect(mapStateToProps, {\n  fetchEvents\n})(reduxFormFilters);","map":{"version":3,"sources":["/Users/rudolfo/Documents/projects/NetGift/src/components/UsuariosAdmin.js"],"names":["React","Component","Link","connect","setSelect2","setMasonry","reloadUsuariosCard","Field","reduxForm","Loader","Creatable","Select","$","fetchEvents","fetchFinancial","fetchInvited","setIdNotified","fetchNotificacoesAdminPerUser","fotoUser","UsuariosAdmin","state","financials","inviteds","events","page","page_old","componentDidMount","user_admin","document","on","event","data","params","id","val","selected","filter","props","dispatch","then","res","map","item","index","notified","response","setState","event_id","paginate","setTimeout","publicado","suspenso","finalizado","notificados","notifiedUser","getDetails","render","e","change","items","loading","error","length","concat","i","user_img","created_by","picture_path","suspended","category","name","date","replace","hour","Date","created_at","toLocaleDateString","undefined","Todos","dashboard","recebido","toLocaleString","style","currency","first_name","last_name","email","mapStateToProps","eventsAdmin","financial","reduxFormFilters","form"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport setSelect2 from \"../assets/js/setSelect2\";\nimport {setMasonry, reloadUsuariosCard} from \"../assets/js/setMasonry\";\nimport {Field, reduxForm} from 'redux-form';\nimport Loader from \"./Loader\";\nimport Creatable from 'react-select/creatable';\nimport Select from 'react-select';\nimport $ from \"jquery\";\n\nimport { fetchEvents, fetchFinancial } from \"../actions/eventsActions\";\nimport { fetchInvited } from \"../actions/invitedAction\";\nimport { setIdNotified } from \"../actions/notificarActions\";\nimport { fetchNotificacoesAdminPerUser } from \"../actions/notificacoesAdminActions\";\n\nimport \"select2\";\n\nimport fotoUser from \"../assets/imgs/foto-user.png\";\nimport checked from \"../assets/imgs/checked.svg\";\n\nclass UsuariosAdmin extends Component {\n\n  componentDidMount(){\n    setSelect2();\n\n    var user_admin = this;\n\n    $( document ).on( 'select2:select', function( event ) {\n        var data = event.params.data;\n        $( '#status_filter_' + data.id ).val( data.selected );\n        user_admin.filter();\n    });\n\n    $( document ).on( 'select2:unselect', function( event ) {\n        var data = event.params.data;\n        $( '#status_filter_' + data.id ).val( data.selected );\n        user_admin.filter();\n    });\n\n    this.props.dispatch(fetchEvents()).then((res) => {\n        // console.log(res)\n        setMasonry();\n        res.map( ( item ) => {\n            item.map( ( event, index ) => {\n                if(event.notified){\n                    // console.log(event)\n                    // Get notifieds per user_id TODO\n                }\n                this.props.dispatch(fetchFinancial(event.id)).then( ( response ) => {\n                    this.setState(( state ) => {\n                        var event_id = event.id;\n                        state.financials[event_id] = response;\n                        return state\n                    });\n                });\n                this.props.dispatch(fetchInvited(event.id)).then( ( response ) => {\n                    this.setState(( state ) => {\n                        var event_id = event.id;\n                        state.inviteds[event_id] = response;\n                        return state\n                    });\n                });\n            });\n        });\n        this.state.page = 2;\n    })\n  }\n\n  paginate() {\n    this.props.dispatch(fetchEvents()).then((res) => {\n        // console.log(res)\n        res.map( ( item ) => {\n            item.map( ( event, index ) => {\n                if(event.notified){\n                    // console.log(event)\n                    // Get notifieds per user_id TODO\n                }\n                this.props.dispatch(fetchFinancial(event.id)).then( ( response ) => {\n                    this.setState(( state ) => {\n                        var event_id = event.id;\n                        state.financials[event_id] = response;\n                        return state\n                    });\n                });\n                this.props.dispatch(fetchInvited(event.id)).then( ( response ) => {\n                    this.setState(( state ) => {\n                        var event_id = event.id;\n                        state.inviteds[event_id] = response;\n                        return state\n                    });\n                });\n            });\n        });\n        this.state.page++;\n        setTimeout( function() {\n            reloadUsuariosCard();\n        }, 1000 );\n    })\n  }\n\n  filter() {\n    var publicado   = '' !== $( '#status_filter_publicado' ).val() ? $( '#status_filter_publicado' ).val() : 'false';\n    var suspenso    = '' !== $( '#status_filter_suspenso' ).val() ? $( '#status_filter_suspenso' ).val() : 'false';\n    var finalizado  = '' !== $( '#status_filter_finalizado' ).val() ? $( '#status_filter_finalizado' ).val() : 'false';\n    var notificados = '' !== $( '#status_filter_notificados' ).val() ? $( '#status_filter_notificados' ).val() : 'false';\n\n    publicado   = 'true' === publicado ? true : null;\n    suspenso    = 'true' === suspenso ? true : null;\n    finalizado  = 'true' === finalizado ? true : null;\n    notificados = 'true' === notificados ? true : null;\n\n\n    this.props.dispatch(fetchEvents(true, publicado, suspenso, finalizado, notificados)).then((res) => {\n        // console.log(res)\n        res.map( ( item ) => {\n            item.map( ( event, index ) => {\n                if(event.notified){\n                    // console.log(event)\n                    // Get notifieds per user_id TODO\n                }\n                this.props.dispatch(fetchFinancial(event.id)).then( ( response ) => {\n                    this.setState(( state ) => {\n                        var event_id = event.id;\n                        state.financials[event_id] = response;\n                        return state\n                    });\n                });\n                this.props.dispatch(fetchInvited(event.id)).then( ( response ) => {\n                    this.setState(( state ) => {\n                        var event_id = event.id;\n                        state.inviteds[event_id] = response;\n                        return state\n                    });\n                });\n            });\n        });\n        this.state.page     = 2;\n        this.state.page_old = 0;\n        this.state.events   = [];\n        setTimeout( function() {\n            reloadUsuariosCard();\n        }, 1000 );\n    })\n  }\n\n  notifiedUser(id){\n    this.props.dispatch(setIdNotified(id))\n  }\n\n  getDetails(id){\n    this.props.dispatch(fetchNotificacoesAdminPerUser(id))\n  }\n\n  state = {\n    financials: {},\n    inviteds: {},\n    events: [],\n    page: 2,\n    page_old: 0,\n  };\n\n  render() {\n\n    $('#filter-status').on('select2:select', function (e) {\n        var data = e.params.data;\n        change(data);\n    });\n\n    function change(data){\n\n    }\n\n    const {items, loading, error} = this.props.events;\n\n    if ( this.state.page !== this.state.page_old && 0 !== items.length ) {\n        this.state.events = this.state.events.concat( items );\n        this.state.page_old = this.state.page;\n    }\n\n    var financials;\n    var inviteds;\n\n    financials = this.state.financials;\n    inviteds   = this.state.inviteds;\n\n    return (\n      <div className=\"wrap-content usuarios\">\n\n            <div className=\"content-title\">\n                <div className=\"flex flex-baseline flex-space\">\n                    <div>\n                        <h1>Controle de festas</h1>\n                        <h2>Controle o conteúdo das featas publicadas e as notificações de cada usuário</h2>\n                    </div>\n                    <div className=\"filter-admin filter-status\">\n                        <input type=\"hidden\" id=\"status_filter_publicado\" />\n                        <input type=\"hidden\" id=\"status_filter_suspenso\" />\n                        <input type=\"hidden\" id=\"status_filter_finalizado\" />\n                        <input type=\"hidden\" id=\"status_filter_notificados\" />\n                        <select name=\"filter_admin\" onChange={() => this.filter()} id=\"filter-status\" className=\"select-filter-admin select-filter-status\" multiple>\n                            <option value=\"publicado\">Publicado</option>\n                            <option value=\"suspenso\">Suspenso</option>\n                            <option value=\"finalizado\">Finalizado</option>\n                            <option value=\"notificados\">Notificados</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"content-festas\">\n                <div className=\"grid-festas\">\n                    <div className=\"box-festas-sizer\"></div>\n                    {\n                        loading ? <Loader /> :\n                        this.state.events.map((item, i) => {\n                            var user_img = item.created_by.picture_path ? item.created_by.picture_path : fotoUser;\n                            return(\n                                <div key={i} className=\"box-festas\">\n                                    <div className={item.suspended ? \"header-festas suspenso\" : \"header-festas\"}>\n                                        <p className=\"event\">{item.category.name}</p>\n                                        <div className=\"flex flex-space flex-center\">\n                                            <h2 className=\"title-festas\">{ item.name }</h2>\n                                            {item.notified ? <div className=\"notification\">notificado</div> : \"\" }\n                                        </div>\n                                        <p className=\"date\">{`${item.date}`.replace(\"-\", \"/\")}, {item.hour}</p>\n                                        <div className=\"buttons-festas\">\n                                            <Link to={'/festa/' + item.id} target=\"_blank\"><button className=\"gradient fullcolor\">Ver site</button></Link>\n                                            <button onClick={() => this.notifiedUser(item.id)} className=\"btn-notificar hover-shadow toggle-aside\" data-open=\"notificar\">Notificar usuário</button>\n                                        </div>\n                                    </div>\n                                    <div className=\"main-festas\">\n                                        <div className=\"info-festas\">\n                                            <div className=\"dados-festas\">\n                                                <small className=\"text-purple\">Criado em</small>\n                                                <p>{new Date( item.created_at ).toLocaleDateString( 'pt-br' )}</p>\n                                            </div>\n                                            <div className=\"dados-festas\">\n                                                <small className=\"text-purple\">Status</small>\n                                                <p><span className={item.suspended ? \"icon-status icon-red\" : \"icon-status icon-green\"}></span> {item.suspended ? \"Suspenso\" : \"Publicado\"}</p>\n                                            </div>\n                                        </div>\n                                        <div className=\"info-festas\">\n                                            <div className=\"dados-festas\">\n                                                <small className=\"text-purple\">Convidados</small>\n                                                <p>{ undefined !== inviteds[item.id] && '' !== inviteds[item.id] ? inviteds[item.id].Todos : '0' }</p>\n                                            </div>\n                                            <div className=\"dados-festas\">\n                                                <small className=\"text-purple\">Arrecadado</small>\n                                                <p>{ undefined !== financials[item.id] ? financials[item.id].dashboard.recebido.toLocaleString( 'pt-br', { style: 'currency', currency: 'BRL' } ) : \"\" }</p>\n                                            </div>\n                                        </div>\n                                        <div className=\"perfil-user dados-festas flex\">\n                                            <img src={user_img} alt=\"\" className=\"foto-user\" />\n                                            <div>\n                                                <p className=\"name-user\">{item.created_by.first_name} {item.created_by.last_name}</p>\n                                                <p className=\"email-user\">{item.created_by.email}</p>\n                                                <a href=\"#\" className=\"text-purple ver-perfil\">Ver perfil</a>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"footer-festas\">\n                                        <button onClick={() => this.getDetails(item.id)} className=\"btn-ver-detalhes toggle-aside\" data-open=\"detalhes\">ver detalhes (<span>9</span>)</button>\n                                    </div>\n                                </div>\n                            )\n                        })\n                        \n                    }\n\n                    \n                </div>\n                <button className=\"btn-large\" onClick={() => this.paginate()}>Ver Mais</button>\n            </div>\n\n        </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n    events: state.eventsAdmin,\n    financial: state.financial\n  })\n\nconst reduxFormFilters = reduxForm({form: 'filters'})(UsuariosAdmin);\n\nexport default connect(mapStateToProps, {fetchEvents})(reduxFormFilters);"]},"metadata":{},"sourceType":"module"}